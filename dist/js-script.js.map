{"version":3,"file":"js-script.js","mappings":"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","sources":["webpack://sniper-one/./src/js/script.js"],"sourcesContent":["// -- Split menu -- //\r\nfunction moveElement(elementSelector, targetSelectors) {\r\n  const element = document.querySelector(elementSelector);\r\n  const footer = document.querySelector(\"footer\");\r\n\r\n  if (!element) {\r\n    console.error(`Prvek ${elementSelector} nebyl nalezen`);\r\n    return;\r\n  }\r\n\r\n  let moved = false;\r\n\r\n  for (const targetSelector of targetSelectors) {\r\n    const target = document.querySelector(targetSelector);\r\n    if (target) {\r\n      target.insertAdjacentElement(\"afterend\", element);\r\n      moved = true;\r\n      break;\r\n    }\r\n  }\r\n\r\n  if (!moved && footer) {\r\n    footer.insertAdjacentElement(\"beforebegin\", element);\r\n  }\r\n}\r\n\r\n//On funkce, na kliknut a zavoln funkce\r\nfunction on(eventType, selector, callback) {\r\n  document.addEventListener(eventType, function (e) {\r\n    let targetElement = e.target;\r\n    while (targetElement && targetElement !== document) {\r\n      if (targetElement.matches(selector)) {\r\n        e.preventDefault();\r\n        callback.call(targetElement, e);\r\n        break;\r\n      }\r\n      targetElement = targetElement.parentElement;\r\n    }\r\n  });\r\n}\r\n\r\nconst splitMenu = () => {\r\n  const menuWrapper = document.querySelector(\"#navigation .navigation-in\");\r\n  if (menuWrapper) {\r\n    setTimeout(() => {\r\n      let menuItems = menuWrapper.querySelectorAll(\r\n        \".menu-level-1>li:not(.appended-category)\"\r\n      );\r\n      let menuHelper = document.querySelector(\".menu-helper\");\r\n      let menuWrapperStyle = window.getComputedStyle(menuWrapper);\r\n      menuItems.forEach((item) => {\r\n        let offsetRight = item.offsetLeft + item.offsetWidth;\r\n        const itemInHelper =\r\n          item.id === \"nav-manufacturers\"\r\n            ? menuHelper.querySelector(\"#nav-manufacturers\")\r\n            : menuHelper.querySelector(\".\" + item.classList[0]);\r\n        if (\r\n          offsetRight >\r\n          menuWrapper.clientWidth - parseFloat(menuWrapperStyle.paddingRight)\r\n        ) {\r\n          if (itemInHelper) {\r\n            itemInHelper.classList.remove(\"splitted\");\r\n          }\r\n          item.classList.add(\"splitted\");\r\n        } else {\r\n          if (itemInHelper) {\r\n            itemInHelper.classList.add(\"splitted\");\r\n          }\r\n          item.classList.remove(\"splitted\");\r\n        }\r\n      });\r\n      if (\r\n        menuHelper.querySelector(\r\n          \".menu-level-1 > li:not(.splitted):not(.appended-category)\"\r\n        )\r\n      ) {\r\n        menuHelper.classList.remove(\"empty\");\r\n        menuWrapper.classList.remove(\"fitted\");\r\n      } else {\r\n        menuHelper.classList.add(\"empty\");\r\n        menuWrapper.classList.add(\"fitted\");\r\n      }\r\n    }, 200);\r\n  }\r\n};\r\n\r\nshoptet.menu.splitMenu = splitMenu;\r\n\r\n// CAROUSEL\r\nconst handleCarousel = () => {\r\n  const carousel = document.querySelector(\"#carousel .carousel-inner\");\r\n  if (carousel) {\r\n    let observer = new MutationObserver((mutationList) => {\r\n      let currentItem;\r\n      mutationList.forEach((mutation) => {\r\n        if (mutation.target.className === \"item active\") {\r\n          currentItem = mutation.target;\r\n        }\r\n      });\r\n      if (typeof currentItem == \"undefined\") return;\r\n      let actualIndex = [\r\n          ...document.querySelectorAll(\".carousel-inner .item\"),\r\n        ].indexOf(currentItem),\r\n        dotsList = document.querySelectorAll(\".carousel-dots li\");\r\n      dotsList.forEach((dot) => {\r\n        dot.classList.remove(\"dot-active\");\r\n      });\r\n      dotsList[actualIndex].classList.add(\"dot-active\");\r\n    });\r\n    let dotsCounter = 0,\r\n      dotsList = document.createElement(\"ul\");\r\n    dotsList.classList.add(\"carousel-dots\");\r\n    carousel.querySelectorAll(\".item\").forEach((item, index) => {\r\n      dotsCounter += 1;\r\n      let dotEl = document.createElement(\"li\");\r\n      dotsList.appendChild(dotEl);\r\n      if (index === 0) dotEl.classList.add(\"dot-active\");\r\n      dotEl.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n        document\r\n          .querySelector(\".carousel-inner .item.active\")\r\n          .classList.remove(\"active\");\r\n        let targetItem = document.querySelectorAll(\".carousel-inner .item\")[\r\n          index\r\n        ];\r\n        const targetItemMedia = targetItem.querySelector(\"img, video\");\r\n        if (targetItemMedia) {\r\n          if (\r\n            targetItemMedia.tagName.toLowerCase() === \"img\" &&\r\n            !targetItemMedia.src\r\n          ) {\r\n            targetItemMedia.src = targetItemMedia.getAttribute(\"data-src\");\r\n          } else if (targetItemMedia.tagName.toLowerCase() === \"video\") {\r\n            const sourceElement = targetItemMedia.querySelector(\"source\");\r\n            if (sourceElement && !sourceElement.src) {\r\n              sourceElement.src = sourceElement.getAttribute(\"data-src\");\r\n              targetItemMedia.load(); // Reload the video to apply the new source\r\n            }\r\n          }\r\n        }\r\n        targetItem.classList.add(\"active\");\r\n      });\r\n      observer.observe(item, {\r\n        attributes: true,\r\n        attributeFilter: [\"class\"],\r\n      });\r\n    });\r\n    carousel.appendChild(dotsList);\r\n  }\r\n\r\n  // const videoObserver = new IntersectionObserver((entries, observer) => {\r\n  // \tfor (const entry of entries) {\r\n  // \t\tconst video = entry.target;\r\n  // \t\tif (entry.isIntersecting) {\r\n  // \t\t\tvideo.play();\r\n  // \t\t\t// Disconnect the observer for this video\r\n  // \t\t\tobserver.unobserve(video);\r\n  // \t\t} else {\r\n  // \t\t\tvideo.pause();\r\n  // \t\t}\r\n  // \t}\r\n  // }, {\r\n  // \trootMargin: '0px 0px 0px 0px',\r\n  // \tthreshold: 0.1 // Adjust threshold as needed\r\n  // });\r\n\r\n  // // Select all video elements and observe them\r\n  // document.querySelectorAll('video').forEach((video) => {\r\n  // \tvideoObserver.observe(video);\r\n  // });\r\n};\r\nif (shoptetPage == \"homepage\") {\r\n  handleCarousel();\r\n}\r\n\r\n// FLAGS and card\r\nconst handleFlags = (product) => {\r\n  const flagsDefault = product.querySelector(\".flags-default\");\r\n  const flagsExtra = product.querySelector(\".flags-extra\");\r\n\r\n  if (flagsDefault && flagsExtra) {\r\n    flagsDefault.appendChild(flagsExtra);\r\n    flagsDefault.classList.add(\"contains-extra\");\r\n  }\r\n};\r\n\r\nconst handleTextLayout = (product) => {\r\n  const priceStandard = product.querySelector(\".price-standard\");\r\n  const prices = product.querySelector(\".prices\");\r\n  const pDesc = product.querySelector(\".p-desc\");\r\n  const pInIn = product.querySelector(\".p-in-in\");\r\n  const availability = product.querySelector(\".availability\");\r\n\r\n  const availabilitySpan = availability?.querySelector(\"span\");\r\n  const pricesFinal = product.querySelector(\".prices .price-final\");\r\n\r\n  const priceAditional = product.querySelector(\".price-additional\");\r\n  const addToCartButton = product.querySelector(\".add-to-cart-button\");\r\n\r\n  const pCode = product.querySelector(\".p-code\");\r\n\r\n  if (pCode && pInIn) {\r\n    pInIn.insertAdjacentElement(\"afterbegin\", pCode);\r\n  }\r\n\r\n  if (priceStandard && prices) {\r\n    prices.appendChild(priceStandard);\r\n  }\r\n\r\n  const button = product.querySelector(\"button\");\r\n  if (!button) {\r\n    if (prices) prices.style.visibility = \"hidden\";\r\n    if (availability) availability.style.visibility = \"hidden\";\r\n  }\r\n\r\n  const image = product.querySelector(\".image\");\r\n  const starsRating = product.querySelector(\".stars-wrapper\");\r\n  if (starsRating) {\r\n    image.appendChild(starsRating);\r\n    const ratingValue = starsRating.getAttribute(\"data-micro-rating-value\");\r\n    if (ratingValue) {\r\n      if (parseFloat(ratingValue) === 0) {\r\n        starsRating.remove();\r\n      } else {\r\n        const allStars = starsRating.querySelectorAll(\".star\");\r\n        // Skryj vechny hvzdy krom prvn\r\n        allStars.forEach((star, idx) => {\r\n          if (idx > 0) {\r\n            star.style.display = \"none\";\r\n          } else {\r\n            star.style.display = \"\"; // prvn hvzda zobrazena\r\n          }\r\n        });\r\n\r\n        // Ov, zda u existuje span s ratingem\r\n        let ratingSpan = starsRating.querySelector(\".rating-value\");\r\n        if (!ratingSpan) {\r\n          ratingSpan = document.createElement(\"span\");\r\n          ratingSpan.className = \"rating-value\";\r\n          ratingSpan.textContent = ratingValue;\r\n          starsRating.appendChild(ratingSpan);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // ...existing code...\r\n};\r\nconst products = document.querySelectorAll(\r\n  \".products-block .product:not(.banner-category)\"\r\n);\r\n\r\nconst mmAllProducts = document.querySelectorAll(\".products-block .product\");\r\nif (mmAllProducts.length) {\r\n  mmAllProducts.forEach((product) => {\r\n    if (!product.classList.contains(\"banner-category\")) {\r\n      handleFlags(product);\r\n      handleTextLayout(product);\r\n    }\r\n  });\r\n}\r\n\r\ndocument.addEventListener(\"ShoptetDOMContentLoaded\", () => {\r\n  const mmAllProducts = document.querySelectorAll(\".products-block .product\");\r\n  if (mmAllProducts.length) {\r\n    mmAllProducts.forEach((product) => {\r\n      if (!product.classList.contains(\"banner-category\")) {\r\n        handleFlags(product);\r\n        handleTextLayout(product);\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\n// FOOTER-BOTTOM\r\nfunction footerBilling() {\r\n  const footerBottom = document.querySelector(\".footer-bottom\");\r\n  const footerGlobal = document.querySelector(\"#footer\");\r\n  if (footerBottom && footerGlobal) {\r\n    const footerBottomWrapper = document.createElement(\"div\");\r\n    footerBottomWrapper.classList.add(\"footer-bottom-wrapper\");\r\n    footerBottomWrapper.appendChild(footerBottom);\r\n    footerGlobal.parentElement.insertBefore(\r\n      footerBottomWrapper,\r\n      footerGlobal.nextElementSibling\r\n    );\r\n    const signature = footerBottom.querySelector(\"#signature\");\r\n    if (signature) {\r\n      signature.style.display = \"flex\";\r\n      const platebniMetodyEl = document.createElement(\"img\");\r\n      platebniMetodyEl.classList.add(\"platebni-metody\");\r\n      platebniMetodyEl.src =\r\n        \"/user/documents/upload/Obrazky/platebni-metody.png\";\r\n      platebniMetodyEl.alt = \"Platebn metody\";\r\n      signature.parentElement.insertBefore(\r\n        platebniMetodyEl,\r\n        signature.nextElementSibling\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nfooterBilling();\r\n\r\n// PRODUCT DETAIL\r\nconst createShpTabLink = (text, anchor, id) => {\r\n  const shpTabLi = document.createElement(\"li\");\r\n  const shpTabLink = document.createElement(\"a\");\r\n  shpTabLi.classList.add(\"shp-tab\");\r\n  shpTabLi.appendChild(shpTabLink);\r\n  shpTabLink.classList.add(\"shp-tab-link\");\r\n  shpTabLink.href = anchor;\r\n  shpTabLink.innerHTML = text;\r\n  if (id) {\r\n    shpTabLi.id = id;\r\n  }\r\n  return shpTabLi;\r\n};\r\n\r\nif (document.body.classList.contains(\"type-detail\")) {\r\n  const pDetailTabs = document.querySelector(\"#p-detail-tabs\");\r\n  const tabContent = document.querySelector(\"#tab-content\");\r\n\r\n  const customMobileSlider = document.querySelector(\".custom-slider-wrapper\");\r\n  setTimeout(() => {\r\n    // console.log(customMobileSlider)\r\n  }, 3000);\r\n\r\n  // if (customMobileSlider) {\r\n  // \t$(customMobileSlider).slick({\r\n  // \t\tinfinite: false,\r\n  // \t\tarrows: false,\r\n  // \t\tslidesToShow: 1,\r\n  // \t\tslidesToScroll: 1,\r\n  // \t\tdots: true,\r\n  // \t})\r\n  // }\r\n  swiperize({\r\n    containers: \".custom-slider-wrapper\",\r\n    slide: \".p-main-image\",\r\n    customOptions: {\r\n      fullscreen: false,\r\n      infinity: false,\r\n      dots: true,\r\n      arrows: false,\r\n      scrollbar: false,\r\n      lazyPrevNext: true,\r\n    },\r\n    swiperOptions: {\r\n      direction: \"horizontal\",\r\n      speed: 800,\r\n      spaceBetween: 20,\r\n      slidesPerView: 1,\r\n    },\r\n  });\r\n  // DLOUHY POPIS + OSTATNI TABY\r\n\r\n  const ratingTab = document.querySelector(\"#ratingTab\");\r\n  if (ratingTab) {\r\n    const ratingTabHeading = document.createElement(\"h3\");\r\n    const ratingTitleObj =\r\n      window.ratingTitle.find((item) => item.language === shoptetLang) ||\r\n      window.ratingTitle[0];\r\n    ratingTabHeading.innerHTML = ratingTitleObj.text;\r\n    ratingTab.prepend(ratingTabHeading);\r\n\r\n    const ratingButton = ratingTab.querySelector(\".add-comment \");\r\n    if (ratingButton) {\r\n      ratingTab.appendChild(ratingButton);\r\n    }\r\n  }\r\n  const discusionWrapper = document.querySelector(\"#productDiscussion\");\r\n  if (discusionWrapper) {\r\n    const discussionTabHeading = document.createElement(\"h3\");\r\n    const discussionTitleObj =\r\n      window.discussionTitle.find((item) => item.language === shoptetLang) ||\r\n      window.discussionTitle[0];\r\n    discussionTabHeading.innerHTML = discussionTitleObj.text;\r\n    discusionWrapper.prepend(discussionTabHeading);\r\n  }\r\n\r\n  const relatedFiles = document.querySelector(\"#relatedFiles\");\r\n  if (relatedFiles) {\r\n    const relatedFilesHeading = document.createElement(\"h3\");\r\n    const relatedFilesTitleObj =\r\n      window.relatedFilesTitle.find((item) => item.language === shoptetLang) ||\r\n      window.relatedFilesTitle[0];\r\n    relatedFilesHeading.innerHTML = relatedFilesTitleObj.text;\r\n    relatedFiles.prepend(relatedFilesHeading);\r\n  }\r\n\r\n  const relatedProducts = document.querySelector(\".products-related\");\r\n  const relatedProductsHeading = document.querySelector(\r\n    \".products-related-header\"\r\n  );\r\n\r\n  const voteWrappers = document.querySelectorAll(\".votes-wrap .vote-wrap\");\r\n  voteWrappers.forEach((voteWrapper) => {\r\n    const voteWrapperWrapper = voteWrapper.querySelector(\r\n      \".votes-wrap.discussion\"\r\n    );\r\n    if (voteWrapperWrapper) {\r\n      voteWrapper.insertAdjacentElement(\"afterend\", voteWrapperWrapper);\r\n    }\r\n  });\r\n  const addComentButtons = document.querySelectorAll(\r\n    \".add-comment.btn-primary\"\r\n  );\r\n  if (addComentButtons.length) {\r\n    addComentButtons.forEach((button) => {\r\n      button.classList.remove(\"btn-primary\", \"btn-sm\");\r\n      button.classList.add(\"link-like\");\r\n    });\r\n  }\r\n  const descInner = document.querySelector(\"#description .description-inner\");\r\n  const descH3 = document.querySelector(\"#description .basic-description >h3\");\r\n  console.log(descH3);\r\n  if (descH3) {\r\n    const titleObj =\r\n      window.detailTitle.find((item) => item.language === shoptetLang) ||\r\n      window.detailTitle[0];\r\n    descH3.innerHTML = titleObj.text;\r\n    descH3.classList.add(\"detail-title\");\r\n    if (descInner) {\r\n      descInner.prepend(descH3);\r\n    }\r\n  }\r\n  if (relatedProducts && relatedProductsHeading) {\r\n    if (relatedProductsHeading) {\r\n      const relatedProductsTitleObj =\r\n        window.relatedProductsTitle.find(\r\n          (item) => item.language === shoptetLang\r\n        ) || window.relatedProductsTitle[0];\r\n      relatedProductsHeading.innerText = relatedProductsTitleObj.text;\r\n    }\r\n    const titleText = relatedProductsHeading.innerText;\r\n\r\n    const relatedProductsCount =\r\n      relatedProducts.querySelectorAll(\".product\").length;\r\n    const tabContent = document.querySelector(\"#tab-content\");\r\n\r\n    // if (pDetailTabs.children[2]) {\r\n    // \tpDetailTabs.insertBefore(relatedProductsLink, pDetailTabs.children[2]);\r\n    // } else {\r\n    // pDetailTabs.appendChild(relatedProductsLink);\r\n    // }\r\n    const productContent = document.querySelector(\"#content\");\r\n    relatedProductsHeading.classList.add(\"homepage-group-title\");\r\n    // relatedProductsHeading.innerHTML = `Dal produkty z kolekce`\r\n    const relatedProductsTab = document.createElement(\"div\");\r\n    // relatedProductsTab.classList.add('tab-pane')\r\n    relatedProductsTab.id = \"relatedProducts\";\r\n    relatedProductsTab.appendChild(relatedProductsHeading);\r\n    relatedProductsTab.appendChild(relatedProducts);\r\n    productContent.appendChild(relatedProductsTab);\r\n\r\n    // desc.parentNode.insertBefore(relatedProductsTab, desc.nextSibling)\r\n\r\n    const shpTabsWrapper = document.querySelector(\".shp-tabs-wrapper\");\r\n    const wholeProd = document.querySelector(\"#relatedProducts\");\r\n    const descriptionInner = document.querySelector(\".basic-description\");\r\n\r\n    if (shpTabsWrapper && wholeProd) {\r\n      let wrapper = document.querySelector(\"#relatedProductsWrapper\");\r\n      if (!wrapper) {\r\n        wrapper = document.createElement(\"div\");\r\n        wrapper.id = \"relatedProductsWrapper\";\r\n        wholeProd.parentNode.insertBefore(wrapper, wholeProd);\r\n        wrapper.appendChild(wholeProd);\r\n      }\r\n\r\n      // if (descriptionInner) {\r\n      //   descriptionInner.parentNode.insertBefore(\r\n      //     wrapper,\r\n      //     descriptionInner.nextSibling\r\n      //   );\r\n      // }\r\n    }\r\n\r\n    swiperize({\r\n      containers: \".products-related\",\r\n      slide: \".product\",\r\n      customOptions: {\r\n        fullscreen: false,\r\n        infinity: true,\r\n        dots: true,\r\n        arrows: true,\r\n        scrollbar: false,\r\n        lazyPrevNext: true,\r\n        swiperWrapper: true,\r\n      },\r\n      swiperOptions: {\r\n        direction: \"horizontal\",\r\n        speed: 800,\r\n        slidesPerView: 1.4,\r\n        spaceBetween: 16,\r\n        breakpoints: {\r\n          1200: {\r\n            slidesPerView: 5,\r\n            spaceBetween: 24,\r\n          },\r\n          1100: {\r\n            slidesPerView: 5,\r\n            spaceBetween: 24,\r\n          },\r\n          1024: {\r\n            slidesPerView: 4,\r\n            spaceBetween: 24,\r\n          },\r\n          768: {\r\n            slidesPerView: 3,\r\n            spaceBetween: 20,\r\n          },\r\n          500: {\r\n            slidesPerView: 2,\r\n            spaceBetween: 16,\r\n          },\r\n        },\r\n      },\r\n    });\r\n  }\r\n\r\n  const alternativeProductsTabLink = document.querySelector(\r\n    '.shp-tab-link[href=\"#productsAlternative\"]'\r\n  );\r\n  if (alternativeProductsTabLink)\r\n    alternativeProductsTabLink.parentElement.remove();\r\n  const alternativeProducts = document.querySelector(\"#productsAlternative\");\r\n  if (alternativeProducts) {\r\n    alternativeProducts.classList.remove(\"tab-pane\", \"fade\");\r\n    const alternativeProductsHeading = document.createElement(\"h2\");\r\n    alternativeProductsHeading.classList.add(\"homepage-group-title\");\r\n    const alternativeNadpisy = alternativeNadpis.find(\r\n      (item) => item.language === shoptetLang\r\n    );\r\n    if (alternativeNadpisy) {\r\n      alternativeProductsHeading.innerHTML = alternativeNadpisy.text;\r\n    }\r\n    const productContent = document.querySelector(\"#content\");\r\n    // const helpUSP = document.querySelector('#content > .benefitBanner')\r\n    // if (helpUSP) {\r\n    // \thelpUSP.parentElement.insertBefore(alternativeProductsHeading, helpUSP)\r\n    // \thelpUSP.parentElement.insertBefore(alternativeProducts, helpUSP)\r\n    // } else {\r\n\r\n    const holder = document.createElement(\"div\");\r\n    holder.classList.add(\"holder\");\r\n    alternativeProducts.insertBefore(\r\n      alternativeProductsHeading,\r\n      alternativeProducts.firstChild\r\n    );\r\n    productContent.appendChild(alternativeProducts);\r\n    // }\r\n    // $(alternativeProducts.querySelector('.products-block')).slick(productsSlickSettings)\r\n\r\n    swiperize({\r\n      containers: \".products-alternative\",\r\n      slide: \".product\",\r\n      customOptions: {\r\n        fullscreen: false,\r\n        infinity: true,\r\n        dots: true,\r\n        arrows: true,\r\n        scrollbar: false,\r\n        lazyPrevNext: true,\r\n        swiperWrapper: true,\r\n      },\r\n      swiperOptions: {\r\n        direction: \"horizontal\",\r\n        speed: 800,\r\n        slidesPerView: 1.4,\r\n        spaceBetween: 16,\r\n        breakpoints: {\r\n          1200: {\r\n            slidesPerView: 5,\r\n            spaceBetween: 24,\r\n          },\r\n          1100: {\r\n            slidesPerView: 5,\r\n            spaceBetween: 24,\r\n          },\r\n          1024: {\r\n            slidesPerView: 4,\r\n            spaceBetween: 24,\r\n          },\r\n          768: {\r\n            slidesPerView: 3,\r\n            spaceBetween: 20,\r\n          },\r\n          500: {\r\n            slidesPerView: 2,\r\n            spaceBetween: 16,\r\n          },\r\n        },\r\n      },\r\n    });\r\n  }\r\n\r\n  const parametersTabContentH3 = document.querySelector(\r\n    \"#description .extended-description >h3\"\r\n  );\r\n  if (parametersTabContentH3) {\r\n    const parametersTitleObj =\r\n      window.parametersTitle.find((item) => item.language === shoptetLang) ||\r\n      window.parametersTitle[0];\r\n    parametersTabContentH3.innerHTML = parametersTitleObj.text;\r\n  }\r\n  const firstRow = document.querySelector(\r\n    \".extended-description .detail-parameters tr:first-of-type\"\r\n  );\r\n  if (firstRow) {\r\n    const firstTh = firstRow.querySelector(\"th span\");\r\n    const firstTd = firstRow.querySelector(\"td span\");\r\n\r\n    if (firstTh) {\r\n      const paramTitleObj =\r\n        window.parametersParametr.find(\r\n          (item) => item.language === shoptetLang\r\n        ) || window.parametersParametr[0];\r\n      firstTh.innerHTML = paramTitleObj.text;\r\n    }\r\n    if (firstTd) {\r\n      const paramTextObj =\r\n        window.parametersParametrText.find(\r\n          (item) => item.language === shoptetLang\r\n        ) || window.parametersParametrText[0];\r\n      firstTd.innerHTML = paramTextObj.text;\r\n    }\r\n  }\r\n  // if (parametersTabContent) {\r\n  //   const specificationText = window.specificationTabText.find(\r\n  //     (item) => item.language === shoptetLang\r\n  //   ).text;\r\n  //   const parametersTab = createShpTabLink(specificationText, \"#parameters\");\r\n  //   const descriptionTab = document.querySelector(\r\n  //     '.shp-tab[data-testid=\"tabDescription\"]'\r\n  //   );\r\n  //   descriptionTab.after(parametersTab);\r\n  //   parametersTabContent.id = \"parameters\";\r\n  // }\r\n\r\n  const shpTabLinks = document.querySelectorAll(\".shp-tab-link\");\r\n  if (shpTabLinks.length) {\r\n    shpTabLinks.forEach((link) => {\r\n      link.removeAttribute(\"role\");\r\n      link.removeAttribute(\"data-toggle\");\r\n\r\n      // Odstrann zvorek a sel z textu odkazu\r\n      link.textContent = link.textContent.replace(/\\(\\d+\\)/g, \"\").trim();\r\n    });\r\n  }\r\n  const targetNode = document.querySelector(\".shp-tabs-row\");\r\n\r\n  if (targetNode) {\r\n    const config = { childList: true, subtree: true };\r\n\r\n    const callback = function (mutationsList, observer) {\r\n      for (let mutation of mutationsList) {\r\n        if (mutation.type === \"childList\") {\r\n          const hiddenLinks = document.querySelector(\r\n            \".shp-tabs-row .hidden-links\"\r\n          );\r\n          const shpTabsRow = document.querySelector(\".shp-tabs-row .shp-tabs\");\r\n\r\n          if (hiddenLinks && shpTabsRow) {\r\n            // Pesunout vechny .shp-tab do .shp-tabs-row .shp-tabs\r\n            const shpTabs = hiddenLinks.querySelectorAll(\".shp-tab\");\r\n            shpTabs.forEach((tab) => {\r\n              shpTabsRow.appendChild(tab);\r\n            });\r\n\r\n            // Odstranit .hidden-links\r\n            hiddenLinks.remove();\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    const observer = new MutationObserver(callback);\r\n    observer.observe(targetNode, config);\r\n\r\n    // Pidat posluchae udlost pro resize a orientationchange\r\n    window.addEventListener(\"resize\", () =>\r\n      observer.observe(targetNode, config)\r\n    );\r\n    window.addEventListener(\"orientationchange\", () =>\r\n      observer.observe(targetNode, config)\r\n    );\r\n  }\r\n  window.addEventListener(\"load\", () => {\r\n    setTimeout(() => {\r\n      const mmAllProducts = document.querySelectorAll(\r\n        \".products-block .product\"\r\n      );\r\n\r\n      if (mmAllProducts.length) {\r\n        mmAllProducts.forEach((product) => handleFlags(product));\r\n        mmAllProducts.forEach((product) => handleTextLayout(product));\r\n        // mmAllProducts.forEach((product) => handleRatings(product))\r\n        // mmAllProducts.forEach((product) => handleProductAvailability(product))\r\n      }\r\n    }, 100);\r\n  });\r\n}\r\n\r\n// CART\r\nconst handleCart = () => {\r\n  const pageHeader = document.querySelector(\"#header\");\r\n  const cartHeader = document.querySelector(\".cart-content .cart-header\");\r\n  const cartHeaderHelper = document.querySelector(\".cart-header-wrapper\");\r\n  const search = document.querySelector(\".search\");\r\n  const headerTop = document.querySelector(\".header-top\");\r\n  // console.log(search)\r\n  // console.log(headerTop)\r\n  // if (search && headerTop) {\r\n  // \theaderTop.appendChild(search)\r\n  // }\r\n\r\n  const continueInCart = document.querySelector(\".next-step-forward\");\r\n  if (continueInCart) {\r\n    const buttonText = window.cartContinueBtn.find(\r\n      (item) => item.language === shoptetLang\r\n    )?.text;\r\n    if (buttonText) {\r\n      continueInCart.innerText = buttonText;\r\n    }\r\n  }\r\n\r\n  if (cartHeader && !cartHeaderHelper) {\r\n    const cartHeaderWrapper = document.createElement(\"div\");\r\n    cartHeaderWrapper.classList.add(\"cart-header-wrapper\");\r\n    cartHeaderWrapper.appendChild(cartHeader);\r\n    cartHeader.classList.add(\"container\");\r\n    pageHeader.parentElement.insertBefore(\r\n      cartHeaderWrapper,\r\n      pageHeader.nextElementSibling\r\n    );\r\n  } else if (cartHeader) {\r\n    cartHeader.remove();\r\n  }\r\n\r\n  const sidebarCart = document.querySelector(\".sidebar-in-cart\");\r\n  const backLink = document.querySelector(\".back-shopping-link\");\r\n  // const sidebarCart = document.querySelector('.sidebar-in-cart .box[data-testid=\"tableCart\"]')\r\n  const extraDelivery = document.querySelector(\".extra.delivery\");\r\n  if (extraDelivery) {\r\n    if (dataLayer[0].shoptet.cartInfo.leftToFreeShipping.priceLeft <= 0)\r\n      extraDelivery.classList.add(\"free-shipping\");\r\n    // sidebarCart.prepend(extraDelivery)\r\n  }\r\n\r\n  const overallWrapper = document.querySelector(\".overall-wrapper\");\r\n  const cartFooter = document.createElement(\"div\");\r\n  cartFooter.classList.add(\"cart-footer\");\r\n  if (overallWrapper) overallWrapper.appendChild(cartFooter);\r\n  const cartMail = document.querySelector(\".contact-box .mail\");\r\n  const cartPhone = document.querySelector(\".contact-box .tel\");\r\n\r\n  const sidebarNextStep = document.querySelector(\"#checkoutSidebar .next-step\");\r\n  const orderSummary = document.querySelector(\"#summary-box\");\r\n  if (sidebarNextStep && orderSummary)\r\n    orderSummary.appendChild(sidebarNextStep);\r\n\r\n  const nextStep = document.querySelector(\".next-step-back\");\r\n  if (nextStep) {\r\n    const cartRow = document.querySelector(\".cart-inner\");\r\n    if (cartRow) {\r\n      cartRow.appendChild(nextStep);\r\n    }\r\n  }\r\n\r\n  const sidebarConsents = document.querySelectorAll(\r\n    \"#checkoutSidebar .consents\"\r\n  );\r\n  const summaryItemPrice = document.querySelector(\r\n    \"#checkoutSidebar .order-summary-item.price\"\r\n  );\r\n  if (sidebarConsents.length && summaryItemPrice) {\r\n    sidebarConsents.forEach((consent) => {\r\n      summaryItemPrice.parentElement.insertBefore(\r\n        consent,\r\n        summaryItemPrice.nextElementSibling\r\n      );\r\n    });\r\n  }\r\n  if (window.innerWidth <= 1300) {\r\n    const backHolder = document.querySelector(\".cart-inner\");\r\n    const backHold = document.querySelector(\".back-shopping-link\");\r\n    if (backHolder && backHold) {\r\n      backHolder.appendChild(backHold);\r\n    }\r\n  }\r\n  // const backToShopButtons = document.querySelectorAll('.back-to-shop')\r\n  // if (backToShopButtons.length) {\r\n  // \tbackToShopButtons.forEach((button) => {\r\n  // \t\tbutton.innerText = 'ZPT K NKUPNMU KOKU'\r\n  // \t})\r\n  // }\r\n\r\n  // const backToShop = document.querySelector('.back-to-shop')\r\n  // if (backToShop) {\r\n  // \t// console.log(backToShop)\r\n  // \tconst backToShopLinks = document.querySelector('.back-shopping-link')\r\n  // \tif (backToShopLinks) {\r\n  // \t\t// console.log(backToShopLinks)\r\n  // \t\tbackToShopLinks.appendChild(backToShop);\r\n  // \t}\r\n  // }\r\n  const paymentInfoTooltips = document.querySelectorAll(\r\n    \".payment-info .show-tooltip\"\r\n  );\r\n  if (paymentInfoTooltips.length) {\r\n    paymentInfoTooltips.forEach((tooltip) => {\r\n      tooltip.innerText = \"i\";\r\n    });\r\n  }\r\n  const handleFreeRecapitulation = () => {\r\n    setTimeout(() => {\r\n      const recapItemPrices = document.querySelectorAll(\r\n        \".recapitulation-shipping-billing-info > span\"\r\n      );\r\n      if (recapItemPrices.length) {\r\n        recapItemPrices.forEach((price) => {\r\n          if (price.innerText.toUpperCase().includes(\"ZDARMA\")) {\r\n            price.classList.add(\"for-free\");\r\n          } else {\r\n            price.classList.remove(\"for-free\");\r\n          }\r\n        });\r\n      }\r\n    }, 100);\r\n  };\r\n  document.addEventListener(\r\n    \"ShoptetShippingMethodUpdated\",\r\n    handleFreeRecapitulation\r\n  );\r\n  document.addEventListener(\r\n    \"ShoptetBillingMethodUpdated\",\r\n    handleFreeRecapitulation\r\n  );\r\n\r\n  const recapItemPrices = document.querySelectorAll(\r\n    'span[data-testid=\"recapItemPrice\"]'\r\n  );\r\n  if (recapItemPrices.length) {\r\n    recapItemPrices.forEach((price) => {\r\n      if (price.innerText.toUpperCase().includes(\"ZDARMA\")) {\r\n        price.classList.add(\"for-free\");\r\n      } else {\r\n        price.classList.remove(\"for-free\");\r\n      }\r\n    });\r\n  }\r\n\r\n  // const continueOrderButton = document.querySelector('#continue-order-button')\r\n  // if (continueOrderButton) {\r\n  //   continueOrderButton.innerText = 'Pokraovat v objednvce' //jazyk\r\n  // }\r\n\r\n  // const relatedProductsBuyButton = document.querySelectorAll('.cart-related-product .add-to-cart-button')\r\n  // if (relatedProductsBuyButton.length) {\r\n  // \trelatedProductsBuyButton.forEach((button) => {\r\n  // \t\tbutton.innerText = 'Koupit' //jazyk\r\n  // \t})\r\n  // }\r\n\r\n  const footerCheck = document.querySelector(\".ordering-process-footer\");\r\n  if (!footerCheck) {\r\n    const cartProjectMail = document.querySelector(\".contact-box .mail\");\r\n    const cartProjectPhone = document.querySelector(\".contact-box .tel\");\r\n    const orderingProcessFooter = document.createElement(\"footer\");\r\n    orderingProcessFooter.classList.add(\"ordering-process-footer\");\r\n\r\n    let securePaymentText = \"Bezpen platba\";\r\n    let respondTimeText = \"Reagujeme do 24 hodin\";\r\n\r\n    if (shoptetLang === \"en\") {\r\n      securePaymentText = \"Secure Payment\";\r\n      respondTimeText = \"We respond within 24 hours\";\r\n    } else if (shoptetLang === \"de\") {\r\n      securePaymentText = \"Sichere Zahlung\";\r\n      respondTimeText = \"Wir antworten innerhalb von 24 Stunden\";\r\n    }\r\n\r\n    const phoneTimeObj =\r\n      window.projectPhoneTime.find((item) => item.language === shoptetLang) ||\r\n      window.projectPhoneTime[0];\r\n\r\n    orderingProcessFooter.innerHTML = `\r\n      <div class=\"container\">\r\n        <div class=\"contact-holder\">\r\n          <div class=\"phone-wrapper\">\r\n            <div class=\"holder-phone-time\">\r\n              ${phoneTimeObj.text}\r\n            </div>\r\n          </div>\r\n          <div class=\"mail-wrapper\">\r\n          </div>\r\n        </div>\r\n        <div class=\"payment-types\">\r\n          <img\r\n            src=\"/user/documents/upload/Obrazky/platebni-metody-2.png\"\r\n            width=\"200\"\r\n            height=\"20\"\r\n            alt=\"Visa, MasterCard, Maestro, PayPal\"\r\n          />\r\n        </div>\r\n      </div>\r\n    `;\r\n    overallWrapper.appendChild(orderingProcessFooter);\r\n    const orderingProcessFooterPhoneWrapper =\r\n      orderingProcessFooter.querySelector(\".phone-wrapper\");\r\n    const orderingProcessFooterMailWrapper =\r\n      orderingProcessFooter.querySelector(\".mail-wrapper\");\r\n    if (cartProjectPhone) {\r\n      const clonedPhone = cartProjectPhone.cloneNode(true);\r\n      orderingProcessFooterPhoneWrapper.prepend(clonedPhone);\r\n      const phoneElement = orderingProcessFooter.querySelector(\r\n        \".phone-wrapper .tel\"\r\n      );\r\n      if (phoneElement) {\r\n        phoneElement.classList.add(\"project-phone\");\r\n        phoneElement.classList.remove(\"tel\"); // Odstrann tdy 'tel'\r\n      }\r\n    }\r\n\r\n    if (cartProjectMail) {\r\n      const clonedMail = cartProjectMail.cloneNode(true);\r\n      orderingProcessFooterMailWrapper.prepend(clonedMail);\r\n      const mailElement = orderingProcessFooter.querySelector(\r\n        \".mail-wrapper .mail a\"\r\n      );\r\n      if (mailElement) {\r\n        // mailElement.classList.add(\"project-email\");\r\n        mailElement.classList.remove(\"mail\"); // Odstrann tdy 'mail'\r\n      }\r\n    }\r\n  }\r\n  if (shoptetPage === \"cart\") {\r\n    const productsInCart = document.querySelectorAll(\r\n      '.cart-table tr.removeable[data-micro=\"cartItem\"]'\r\n    );\r\n    productsInCart.forEach((product) => {\r\n      const productSKU = product.getAttribute(\"data-micro-sku\");\r\n      const productName = product.querySelector(\".p-name\");\r\n      if (productSKU && productName) {\r\n        const productSKUEl = document.createElement(\"div\");\r\n        productSKUEl.classList.add(\"product-sku\");\r\n        productSKUEl.innerHTML = `Kd: ${productSKU}`;\r\n        productName.appendChild(productSKUEl);\r\n      }\r\n    });\r\n  }\r\n\r\n  const products = document.querySelectorAll('tbody [data-micro=\"cartItem\"]');\r\n  if (products.length) {\r\n    products.forEach((product) => {\r\n      const pQuantity = product.querySelector(\".p-availability \");\r\n      const pName = product.querySelector(\".p-name\");\r\n      const mainLink = pName.querySelector(\".main-link\");\r\n\r\n      if (pQuantity && pName && mainLink) {\r\n        const quantityHtml = pQuantity.innerHTML;\r\n        mainLink.insertAdjacentHTML(\r\n          \"afterend\",\r\n          `<div class=\"availability\">${quantityHtml}</div>`\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  const cartSummary = document.querySelector(\".summary-wrapper\");\r\n  if (cartSummary) {\r\n    const box = cartSummary.querySelector(\".box\");\r\n    const upperSummaryReayl = document.querySelector(\".upper-summary\");\r\n    if (box) {\r\n      const upperSummary = document.createElement(\"div\");\r\n      upperSummary.classList.add(\"upper-summary\");\r\n      box.prepend(upperSummary);\r\n\r\n      const cartContentSummary = document.querySelector(\r\n        \".cart-content .cart-summary\"\r\n      );\r\n      if (cartContentSummary) {\r\n        const cartInner = document.querySelector(\".cart-inner\");\r\n        cartSummary.appendChild(cartContentSummary);\r\n\r\n        const h4 = cartContentSummary.querySelector(\"h4\");\r\n\r\n        // const discountInput = discountForm.querySelector('input')\r\n        // discountInput.placeholder = 'Vlote kd'\r\n        const discountForm = document.querySelector(\".discount-coupon\");\r\n\r\n        if (h4) {\r\n          upperSummary.prepend(h4);\r\n\r\n          h4.innerHTML = extraGiftTitles.find(\r\n            (item) => item.language === shoptetLang\r\n          )?.text;\r\n\r\n          if (!cartContentSummary.querySelector(\".discount-coupon\")) {\r\n            h4.style.display = \"none\";\r\n          }\r\n\r\n          // Pesunut discountForm za h4\r\n          if (discountForm) {\r\n            h4.insertAdjacentElement(\"afterend\", discountForm);\r\n          }\r\n        }\r\n        if (\r\n          cartContentSummary.querySelector(\".discount-coupon .applied-coupon\")\r\n        ) {\r\n          const discountCoupon =\r\n            cartContentSummary.querySelector(\".discount-coupon\");\r\n          h4.classList.add(\"active\");\r\n          discountCoupon.classList.add(\"active\");\r\n        }\r\n\r\n        const button = document.querySelector(\".discount-coupon button\");\r\n        if (button) {\r\n          button.innerHTML = \"Uplatnit\"; //jazyk\r\n        }\r\n        const freeGift = cartContentSummary.querySelector(\".free-gift\");\r\n        if (freeGift) {\r\n          const h4Gift = document.createElement(\"h4\");\r\n          h4Gift.innerHTML = \"Drek\";\r\n          box.insertBefore(freeGift, upperSummary);\r\n          freeGift.prepend(h4Gift);\r\n        }\r\n      }\r\n\r\n      const priceHolder = document.createElement(\"div\");\r\n      priceHolder.classList.add(\"price-holder\");\r\n      upperSummary.appendChild(priceHolder);\r\n\r\n      // if (totalSaved > 0) {\r\n      // \tconst saveHolder = document.createElement('span');\r\n      // \tsaveHolder.classList.add('save-holder');\r\n      // \tconst totalSavedActualCurrency = totalSaved.ShoptetFormatAsCurrency();\r\n      // \tsaveHolder.innerHTML = `Uette: ${totalSavedActualCurrency}`;\r\n      // \tpriceHolder.appendChild(saveHolder);\r\n      // }\r\n\r\n      const priceWrapper = cartSummary.querySelector(\".price-wrapper\");\r\n      if (priceWrapper) {\r\n        priceHolder.appendChild(priceWrapper);\r\n      }\r\n\r\n      const shipping = document.querySelector(\".extra.delivery\");\r\n      if (shipping) {\r\n        // upperSummary.insertAdjacentElement('afterend', shipping)\r\n        // cartSummary.prepend(shipping)\r\n      }\r\n    }\r\n  }\r\n  // const discountForm = document.querySelector('.discount-coupon')\r\n  // const summaryWrapper = document.querySelector('.upper-summary')\r\n  // if (discountForm && summaryWrapper) {\r\n  // \tsummaryWrapper.prepend(discountForm)\r\n  // \t// const discountInput = discountForm.querySelector('input')\r\n  // \t// discountInput.placeholder = 'Vlote kd'\r\n  // }\r\n  const nextStepH = document.querySelector(\".next-step\");\r\n  if (nextStepH) {\r\n    const upperSummary = document.querySelector(\".upper-summary\");\r\n    if (upperSummary) {\r\n      upperSummary.appendChild(nextStepH);\r\n    }\r\n  }\r\n\r\n  if (document.querySelector(\"body\").classList.contains(\"id--9\")) {\r\n    const cartH2 = document.createElement(\"h2\");\r\n    const h2 = document.querySelector(\".cart-row .col-md-8 h2\");\r\n    if (cartH2 && !h2) {\r\n      cartH2.innerHTML = itemsCartTitle.find(\r\n        (item) => item.language === shoptetLang\r\n      )?.text;\r\n      const row = document.querySelector(\".cart-row .col-md-8 .cart-content\");\r\n      if (row) {\r\n        row.insertBefore(cartH2, row.firstChild);\r\n      }\r\n    }\r\n  }\r\n  if (document.querySelector(\"body\").classList.contains(\"id--16\")) {\r\n    const stepBack = document.querySelector(\".next-step-back\");\r\n    const basicInformations = document.querySelector(\"#select-country-payment\");\r\n    if (stepBack) {\r\n      const stepBackTextObj =\r\n        window.stepBackText.find((item) => item.language === shoptetLang) ||\r\n        window.stepBackText[0];\r\n      stepBack.innerText = stepBackTextObj.text;\r\n      stepBack.classList.add(\"back-to-cart\");\r\n      if (basicInformations) {\r\n        basicInformations.insertAdjacentElement(\"afterend\", stepBack);\r\n      }\r\n    }\r\n    const checkoutContent = document.querySelector(\"#checkoutContent\");\r\n    if (checkoutContent && !document.querySelector(\".back-homepage\")) {\r\n      const backHomepageObj =\r\n        window.backHomepageBtn.find((item) => item.language === shoptetLang) ||\r\n        window.backHomepageBtn[0];\r\n      const backHomepageLink = document.createElement(\"a\");\r\n      backHomepageLink.className = \"btn next-step-back back-homepage\";\r\n      backHomepageLink.href = backHomepageObj.url;\r\n      backHomepageLink.innerText = backHomepageObj.text;\r\n      if (window.innerWidth >= 768) {\r\n        checkoutContent.appendChild(backHomepageLink);\r\n      } else {\r\n        const cartRow = document.querySelector(\".cart-inner .cart-row\");\r\n        if (cartRow) {\r\n          cartRow.appendChild(backHomepageLink);\r\n        }\r\n      }\r\n    }\r\n    const shippingTitle = document.querySelector(\".co-delivery-method > h4\");\r\n    if (shippingTitle) {\r\n      const shippingTitleObj =\r\n        window.shippingTitle.find((item) => item.language === shoptetLang) ||\r\n        window.shippingTitle[0];\r\n      shippingTitle.innerHTML = shippingTitleObj.text;\r\n    }\r\n\r\n    const deliveryTitle = document.querySelector(\".co-payment-method > h4\");\r\n    if (deliveryTitle) {\r\n      const paymentTitleObj =\r\n        window.paymentTitle.find((item) => item.language === shoptetLang) ||\r\n        window.paymentTitle[0];\r\n      deliveryTitle.innerHTML = paymentTitleObj.text;\r\n    }\r\n  }\r\n  if (document.querySelector(\"body\").classList.contains(\"id--17\")) {\r\n    const coInformation = document.querySelector(\".co-contact-information\");\r\n    const loginWrapper = document.querySelector(\r\n      \".co-contact-information > .form-group\"\r\n    );\r\n    if (loginWrapper && coInformation) {\r\n      loginWrapper.classList.add(\"login-helper\");\r\n      const loginButton = document.querySelector(\"a.btn.btn-secondary\");\r\n      if (loginButton) {\r\n        loginButton.classList.add(\"btn-primary\", \"login-button\");\r\n        loginButton.classList.remove(\"btn-secondary\");\r\n      } else {\r\n        loginWrapper.classList.add(\"no-btn\");\r\n      }\r\n      const stepBack = document.querySelector(\".next-step-back\");\r\n      if (stepBack) {\r\n        const stepBackTextObj =\r\n          window.stepBackToShippingPayment.find(\r\n            (item) => item.language === shoptetLang\r\n          ) || window.stepBackToShippingPayment[0];\r\n        stepBack.innerText = stepBackTextObj.text;\r\n        loginWrapper.prepend(stepBack);\r\n      }\r\n      coInformation.prepend(loginWrapper);\r\n    }\r\n    const checkoutContent = document.querySelector(\"#checkoutContent\");\r\n    if (checkoutContent && !document.querySelector(\".back-homepage\")) {\r\n      const backHomepageObj =\r\n        window.backHomepageBtn.find((item) => item.language === shoptetLang) ||\r\n        window.backHomepageBtn[0];\r\n      const backHomepageLink = document.createElement(\"a\");\r\n      backHomepageLink.className = \"btn next-step-back back-homepage\";\r\n      backHomepageLink.href = backHomepageObj.url;\r\n      backHomepageLink.innerText = backHomepageObj.text;\r\n      if (window.innerWidth >= 768) {\r\n        checkoutContent.appendChild(backHomepageLink);\r\n      } else {\r\n        const cartRow = document.querySelector(\".cart-inner .cart-row\");\r\n        if (cartRow) {\r\n          cartRow.appendChild(backHomepageLink);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // if (document.querySelector(\"body\").classList.contains(\"id--16\")) {\r\n  //   const deliveryMethods = document.querySelector(\".co-delivery-method\");\r\n  //   if (deliveryMethods) {\r\n  //     const allMethods = deliveryMethods.querySelectorAll(\r\n  //       \"[data-testid='shippingMethod']\"\r\n  //     );\r\n  //     if (allMethods.length > 6) {\r\n  //       for (let i = 2; i < allMethods.length; i++) {\r\n  //         allMethods[i].classList.add(\"hidden\");\r\n  //       }\r\n\r\n  //       const btnHolder = document.createElement(\"div\");\r\n  //       btnHolder.className = \"btn-holder\";\r\n\r\n  //       const showMoreBtn = document.createElement(\"a\");\r\n  //       showMoreBtn.className = \"btn btn-secondary\";\r\n  //       showMoreBtn.textContent = \"Zobrazi viac\";\r\n  //       if (shoptetLang === \"cz\") {\r\n  //         showMoreBtn.textContent = \"Zobrazit vce\";\r\n  //       }\r\n  //       btnHolder.appendChild(showMoreBtn);\r\n  //       deliveryMethods.appendChild(btnHolder);\r\n\r\n  //       showMoreBtn.addEventListener(\"click\", () => {\r\n  //         for (let i = 2; i < allMethods.length; i++) {\r\n  //           allMethods[i].classList.remove(\"hidden\");\r\n  //         }\r\n  //         btnHolder.style.display = \"none\";\r\n  //       });\r\n  //     }\r\n  //     const h4 = deliveryMethods.querySelector(\"h4\");\r\n  //     if (h4) {\r\n  //       const h4Text = cartDeliveryTitle.find(\r\n  //         (item) => item.language === shoptetLang\r\n  //       ).text;\r\n  //       if (h4Text) {\r\n  //         h4.innerHTML = h4Text;\r\n  //       }\r\n  //     }\r\n  //   }\r\n  // }\r\n  // const button = document.querySelector(\".show-related\"); // Vyberte tlatko, kter chcete upravit\r\n\r\n  // if (button) {\r\n  //   // Odstrann zvorek a jejich obsahu z textu tlatka\r\n  //   button.textContent = button.textContent\r\n  //     .replace(/\\s*\\(.*?\\)\\s*/g, \"\")\r\n  //     .trim();\r\n  // }\r\n  const relatedProducts = document.querySelectorAll(\".cart-related-product\");\r\n\r\n  relatedProducts.forEach((product) => {\r\n    const availability = product.querySelector(\r\n      \".cart-related-availability span\"\r\n    );\r\n    const priceFinal = product.querySelector(\r\n      \".cart-related-button .price.price-final\"\r\n    );\r\n\r\n    if (\r\n      availability &&\r\n      availability.textContent.trim() === \"Momentln nedostupn\"\r\n    ) {\r\n      // Schovn .cart-related-availability\r\n      availability.parentElement.remove();\r\n\r\n      // Schovn .cart-related-button .price.price-final\r\n      if (priceFinal) {\r\n        priceFinal.remove();\r\n      }\r\n    }\r\n  });\r\n};\r\nif (document.body.classList.contains(\"ordering-process\")) {\r\n  handleCart();\r\n  document.addEventListener(\"ShoptetDOMCartContentLoaded\", handleCart);\r\n}\r\n\r\n// POPUP CART\r\ndocument.addEventListener(\"ShoptetDOMCartContentLoaded\", () => {\r\n  const currencyLabel = dataLayer[0].shoptet.currencyInfo.symbol;\r\n  const cartWidgetProducts = document.querySelectorAll(\".cart-widget-product\");\r\n  if (cartWidgetProducts.length) {\r\n    cartWidgetProducts.forEach((product) => {\r\n      const productPrice = product.querySelector(\r\n        'span[data-testid=\"cartWidgetProductPrice\"]'\r\n      );\r\n      if (productPrice) {\r\n        const priceEl = document.createElement(\"div\");\r\n        priceEl.classList.add(\"cart-widget-product-price\");\r\n        priceEl.appendChild(productPrice);\r\n        product.appendChild(priceEl);\r\n        const productSKU = product.getAttribute(\"data-micro-sku\");\r\n        if (productSKU) {\r\n          const productSinglePrice = dataLayer[0].shoptet.cart.filter(\r\n            (item) => item.code === productSKU\r\n          )[0].priceWithVat;\r\n          const productSinglePriceEl = document.createElement(\"div\");\r\n          productSinglePriceEl.classList.add(\r\n            \"cart-widget-product-single-price\"\r\n          );\r\n          productSinglePriceEl.innerHTML = `${productSinglePrice} ${currencyLabel} / ks`; //jazyk\r\n          priceEl.appendChild(productSinglePriceEl);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  let popupCartSummary = document.querySelector(\".popup-cart-summary\");\r\n  if (!popupCartSummary) {\r\n    popupCartSummary = document.createElement(\"div\");\r\n    popupCartSummary.classList.add(\"popup-cart-summary\");\r\n  }\r\n  let popupCartSummaryPriveVAT = String(\r\n    dataLayer[0].shoptet.cartInfo.getNoBillingShippingPrice.withVat\r\n  );\r\n  if (popupCartSummaryPriveVAT.includes(\".\")) {\r\n    popupCartSummaryPriveVAT = popupCartSummaryPriveVAT.replace(\".\", \",\");\r\n  }\r\n\r\n  let popupCartSummaryPriceNoVAT = String(\r\n    dataLayer[0].shoptet.cartInfo.getNoBillingShippingPrice.withoutVat\r\n  );\r\n  if (popupCartSummaryPriceNoVAT.includes(\".\")) {\r\n    popupCartSummaryPriceNoVAT = popupCartSummaryPriceNoVAT.replace(\".\", \",\");\r\n  }\r\n  // console.log(popupCartSummaryPriceNoVAT)\r\n\r\n  // Pevod etzce na slo\r\n  let popupCartSummaryPriceNoVATNumber = parseFloat(\r\n    popupCartSummaryPriceNoVAT.replace(\",\", \".\")\r\n  );\r\n\r\n  popupCartSummary.innerHTML = `\r\n\t  <div class=\"popup-cart-summary-item\">\r\n\t\t  <strong class=\"popup-cart-summary-item-label\">Celkem za zbo</strong>\r\n\t\t  <strong class=\"popup-cart-summary-item-value\">${popupCartSummaryPriveVAT} ${currencyLabel}</strong>\r\n\t  </div>\r\n\t  <div class=\"popup-cart-summary-item\">\r\n\t\t  <span class=\"popup-cart-summary-item-label\">Celkem bez DPH</span>\r\n\t\t  <span class=\"popup-cart-summary-item-value\">${Math.round(\r\n        popupCartSummaryPriceNoVATNumber\r\n      )} ${currencyLabel}</span>\r\n\t  </div>\r\n  `; //jazyk\r\n  const cartWidgetProductsWrapper = document.querySelector(\r\n    \".cart-widget-products\"\r\n  );\r\n  if (cartWidgetProductsWrapper)\r\n    cartWidgetProductsWrapper.parentElement.insertBefore(\r\n      popupCartSummary,\r\n      cartWidgetProductsWrapper.nextElementSibling\r\n    );\r\n\r\n  const cartWidgetButton = document.querySelector(\".cart-widget-button\");\r\n  const cartWidgetInner = document.querySelector(\".cart-widget-inner\");\r\n  if (cartWidgetButton && cartWidgetInner)\r\n    cartWidgetInner.appendChild(cartWidgetButton.cloneNode(true));\r\n\r\n  const cartWidgetShipping = document.querySelector(\".cart-free-shipping\");\r\n  if (cartWidgetShipping) {\r\n    const priceLeftToFreeShipping =\r\n      dataLayer[0].shoptet.cartInfo.leftToFreeShipping.priceLeft;\r\n    if (priceLeftToFreeShipping > 0) {\r\n      const freeShippingBar = document.createElement(\"div\");\r\n      const freeShippingValue = document.createElement(\"div\");\r\n      freeShippingBar.classList.add(\"price-range\");\r\n      freeShippingBar.appendChild(freeShippingValue);\r\n\r\n      popupCartSummaryPriveVAT = Number(popupCartSummaryPriveVAT);\r\n\r\n      freeShippingValue.style.width = `${\r\n        100 -\r\n        (100 * priceLeftToFreeShipping) /\r\n          (priceLeftToFreeShipping + popupCartSummaryPriveVAT)\r\n      }%`;\r\n      cartWidgetShipping.appendChild(freeShippingBar);\r\n      const shippingWidgetStrongs =\r\n        cartWidgetShipping.querySelectorAll(\"strong\");\r\n      if (shippingWidgetStrongs.length) {\r\n        shippingWidgetStrongs.forEach((strong) => {\r\n          if (strong.innerText.includes(\"ZDARMA\"))\r\n            strong.classList.add(\"free-shipping-strong\"); //jazyk\r\n        });\r\n      }\r\n    }\r\n  }\r\n});\r\n// document.addEventListener('ShoptetCartUpdated', () => {\r\n// \tconst popupCartSummary = document.querySelector('.popup-cart-summary')\r\n// \tconsole.log(popupCartSummary)\r\n// \t// const popupCartSummaryPriveVAT = dataLayer[0].shoptet.cartInfo.getNoBillingShippingPrice.withVat\r\n// \t// const popupCartSummaryPriceNoVAT = dataLayer[0].shoptet.cartInfo.getNoBillingShippingPrice.withoutVat\r\n// \t// const popupCartPriceVAT = popupCartSummary.querySelector('strong.popup-cart-summary-item-value')\r\n// \t// const popupCartPriceNoVAT = popupCartSummary.querySelector('span.popup-cart-summary-item-value')\r\n// \t// popupCartPriceVAT.innerHTML = `${popupCartSummaryPriveVAT} ${currencyLabel}`\r\n// \t// popupCartPriceNoVAT.innerHTML = `${Math.round(popupCartSummaryPriceNoVAT)} ${currencyLabel}`\r\n// })\r\n\r\n// ADVANCED ORDER\r\ndocument.addEventListener(\"ShoptetDOMAdvancedOrderLoaded\", () => {\r\n  const advancedOrder = document.querySelector(\".advanced-order\");\r\n  const aoTop = document.createElement(\"div\");\r\n  aoTop.classList.add(\"ao-top\");\r\n  advancedOrder.prepend(aoTop);\r\n  const aoTitle = advancedOrder.querySelector(\".h1\");\r\n  if (aoTitle) aoTop.appendChild(aoTitle);\r\n  const aoProduct =\r\n    advancedOrder.querySelector(\".ao-product\") ||\r\n    advancedOrder.querySelector(\".h2\");\r\n  if (aoProduct) aoTop.appendChild(aoProduct);\r\n  const cboxClose = document.querySelector(\"#cboxClose\");\r\n  if (cboxClose) {\r\n    cboxClose.innerText = \"Zavt\"; //jazyk\r\n    cboxClose.id = \"cboxClose\";\r\n    cboxClose.classList.add(\"close\");\r\n    // aoTop.appendChild(cboxClose)\r\n  }\r\n  const continueShoppingBtn = document.createElement(\"button\");\r\n  continueShoppingBtn.classList.add(\"btn\", \"black-border\");\r\n  continueShoppingBtn.innerText = \"Zavt\"; //jazyk\r\n  continueShoppingBtn.addEventListener(\"click\", () => {\r\n    shoptet.modal.close();\r\n  });\r\n  const extraStep = advancedOrder.querySelector(\".extra.step\");\r\n  if (extraStep) extraStep.prepend(continueShoppingBtn);\r\n\r\n  const deliveryStrongs = advancedOrder.querySelectorAll(\r\n    \".extra.delivery strong\"\r\n  );\r\n  if (deliveryStrongs.length) {\r\n    deliveryStrongs.forEach((strong) => {\r\n      if (strong.innerText === \"ZDARMA\") strong.classList.add(\"for-free\"); //jazyk\r\n    });\r\n  }\r\n  const suggestion = advancedOrder.querySelector(\".advanced-order-suggestion\");\r\n  if (suggestion) {\r\n    suggestion.innerHTML = \"Mete jet pidat ...\";\r\n  }\r\n  const img = advancedOrder.querySelector(\".ao-product .ao-image img\");\r\n  if (img) {\r\n    img.src = img.getAttribute(\"data-src\");\r\n  }\r\n\r\n  const advancedOrderProducts = $(\".colorbox-html-content #products\");\r\n  if (advancedOrderProducts.length) {\r\n    advancedOrderProducts.slick(productsSlickSettings);\r\n  }\r\n});\r\n\r\n// EMPTY CART\r\n\r\nconst handleEmptyCart = () => {\r\n  const emptyCart = document.querySelector(\".cart-inner.cart-empty\");\r\n  if (!emptyCart) return;\r\n  document.body.classList.add(\"custom-empty-cart\");\r\n  const cartHeading = emptyCart.querySelector(\".cart-heading\");\r\n  const cartText = document.createElement(\"p\");\r\n  cartText.classList.add(\"narrow-custom\", \"text-center\");\r\n  const prazdnyKosikPerexText = window.prazdnyKosikPerex.find(\r\n    (item) => item.language === shoptetLang\r\n  ).text;\r\n  cartText.innerText = prazdnyKosikPerexText;\r\n  if (cartHeading) {\r\n    const prazdnyKosikNadpisText = window.prazdnyKosikNadpis.find(\r\n      (item) => item.language === shoptetLang\r\n    ).text;\r\n    cartHeading.innerText = prazdnyKosikNadpisText;\r\n    cartHeading.classList.add(\"homepage-group-title\");\r\n    cartHeading.parentElement.insertBefore(\r\n      cartText,\r\n      cartHeading.nextElementSibling\r\n    );\r\n  }\r\n  const cartEmail = emptyCart.querySelector(\".mail\");\r\n  const cartPhone = emptyCart.querySelector(\".tel\");\r\n  const cartContact = document.createElement(\"ul\");\r\n  cartContact.classList.add(\"cart-contact\", \"contact-box\");\r\n  if (cartPhone) {\r\n    cartContact.appendChild(cartPhone.parentElement);\r\n  }\r\n  if (cartEmail) {\r\n    const emailPerexText = window.emailPerexText.find(\r\n      (item) => item.language === shoptetLang\r\n    ).text;\r\n    const emailPerex = document.createElement(\"span\");\r\n    emailPerex.innerText = emailPerexText;\r\n    cartEmail.parentElement.insertBefore(\r\n      emailPerex,\r\n      cartEmail.nextElementSibling\r\n    );\r\n    cartContact.appendChild(cartEmail.parentElement);\r\n  }\r\n  emptyCart.appendChild(cartContact);\r\n\r\n  // Pidn btn holder s dvma odkazy\r\n  const btnHolder = document.createElement(\"div\");\r\n  btnHolder.classList.add(\"btn-holder\", \"text-center\");\r\n\r\n  const primaryButton = window.primaryButtonText.find(\r\n    (item) => item.language === shoptetLang\r\n  );\r\n  const secondaryButton = window.secondaryButtonText.find(\r\n    (item) => item.language === shoptetLang\r\n  );\r\n\r\n  btnHolder.innerHTML = `\r\n\t\t  <a href=\"${primaryButton.url}\" class=\"btn btn-primary\">${primaryButton.text}</a>\r\n\t\t  <a href=\"${secondaryButton.url}\" class=\"btn secondary\">${secondaryButton.text}</a>\r\n\t  `;\r\n\r\n  emptyCart.appendChild(btnHolder);\r\n\r\n  const emptyCartHeader = document.querySelector(\".cart-header-wrapper\");\r\n  if (emptyCartHeader) emptyCartHeader.remove();\r\n};\r\n\r\nconst emptyCart = document.querySelector(\".cart-inner.cart-empty\");\r\nif (emptyCart) handleEmptyCart();\r\n\r\ndocument.addEventListener(\"ShoptetDOMCartContentLoaded\", () => {\r\n  if (!dataLayer[0].shoptet.cart.length) handleEmptyCart();\r\n});\r\n\r\nwindow.addEventListener(\"beforeunload\", function (event) {\r\n  window.sessionStorage.removeItem(\"openedFilters\");\r\n});\r\n\r\n// const backToTop = document.querySelector('#back-to-top')\r\n// if (backToTop) {\r\n// \tbackToTop.addEventListener('click', (e) => {\r\n// \t\te.preventDefault()\r\n// \t\twindow.scrollTo(0, 0)\r\n// \t})\r\n// }\r\n\r\nconst handleFooter = async () => {\r\n  // const socialIcons = document.querySelector('.footer-links-icons')\r\n  // const contactBanner = document.querySelector('.custom-footer__contact')\r\n  // if (socialIcons && contactBanner) contactBanner.appendChild(socialIcons)\r\n  const cookies = document.querySelector(\".js-cookies-settings\");\r\n  if (cookies) {\r\n  }\r\n  const signature = document.querySelector(\"#signature\");\r\n  if (signature) {\r\n    const mirandaMediaLink = `\r\n\t  <span>Created by </span>\r\n\t\t\t  <a class=\"company\" href=\"https://www.mirandamedia.cz/shoptetnamiru\" target=\"_blank\">\r\n\t\t\t\t  <img class=\"company__logo\" src=\"/user/documents/upload/Obrazky/miranda.svg\">\r\n\t\t\t\t  MirandaMedia Group s.r.o.\r\n\t\t\t  </a>\r\n\t\t<span> on the platform </span>\r\n\t\t  `;\r\n    signature.insertAdjacentHTML(\"beforeend\", mirandaMediaLink);\r\n\r\n    const title = signature.querySelector(\".title\");\r\n    if (title) {\r\n      title.innerHTML =\r\n        '<img class=\"company__logo\" src=\"/user/documents/upload/Obrazky/shoptet.png\">';\r\n    }\r\n  }\r\n  const footerHeadings = document.querySelectorAll(\r\n    \".banner-wrapper > span > .block > h4\"\r\n  );\r\n  footerHeadings.forEach((heading) => {\r\n    heading.classList.add(\"clickable\");\r\n    heading.addEventListener(\"click\", () => {\r\n      heading.closest(\".banner-wrapper\").classList.toggle(\"active\");\r\n    });\r\n  });\r\n  const footerCategories = document.querySelector(\r\n    \".custom-footer__categories > h4\"\r\n  );\r\n  if (footerCategories) {\r\n    footerCategories.classList.add(\"clickable\");\r\n    footerCategories.addEventListener(\"click\", () => {\r\n      footerCategories\r\n        .closest(\".custom-footer__categories\")\r\n        .classList.toggle(\"active\");\r\n    });\r\n  }\r\n\r\n  const siteName = document.querySelector(\"#footer .site-name\");\r\n  const customFooter = document.querySelector(\"#footer .custom-footer\");\r\n  if (customFooter) {\r\n    customFooter.insertBefore(siteName, customFooter.firstChild);\r\n  }\r\n  const customFooterContact = document.querySelector(\r\n    \"#footer .custom-footer__contact\"\r\n  );\r\n  const customFooterContactPlaceholder = document.querySelector(\r\n    \"#footer .contacts-placeholder\"\r\n  );\r\n  if (customFooterContact && customFooterContactPlaceholder) {\r\n    customFooterContactPlaceholder.append(customFooterContact);\r\n  }\r\n\r\n  // const footeSiteNameImg = document.querySelector(\"#footer .site-name img\");\r\n  // if (footeSiteNameImg) {\r\n  //   console.log(footeSiteNameImg.src);\r\n  //   setInterval(() => {\r\n  //     footeSiteNameImg.src =\r\n  //       \"/user/documents/upload/newDesign/icons/logo-white.png\";\r\n  //   }, 1000);\r\n  // }\r\n  // const socialBanner = document.querySelector('.social-wrapper')\r\n  // if (socialBanner) {\r\n  // \tsiteName.appendChild(socialBanner)\r\n  // }\r\n  const footer = document.querySelector(\"#footer\");\r\n  const instagram = document.querySelector(\".custom-footer__instagram \");\r\n\r\n  const benefitsWrapper = document.querySelector(\".benefitBanner\");\r\n  if (benefitsWrapper) {\r\n    footer.insertAdjacentElement(\"beforebegin\", benefitsWrapper);\r\n  }\r\n  if (instagram) {\r\n    const h4 = instagram.querySelector(\"h4\");\r\n    const text = instagramTitle.find(\r\n      (item) => item.language === shoptetLang\r\n    )?.text;\r\n    if (h4 && text) h4.innerHTML = text;\r\n    footer.insertAdjacentElement(\"beforebegin\", instagram);\r\n  }\r\n\r\n  const zastupce = document.querySelector(\".zastupce\");\r\n  if (zastupce && footer) {\r\n    footer.parentNode.insertBefore(zastupce, footer);\r\n  }\r\n};\r\nhandleFooter();\r\n\r\n// const shoptetPage = dataLayer[0].shoptet.pageType\r\n// const shoptetLang = dataLayer[0].shoptet.language\r\n\r\n// const handleHomepageProducts = async () => {\r\n// \tconst productBlocks = document.querySelectorAll('.products-block');\r\n// \tif (productBlocks.length > 0) {\r\n// \t\t$(productBlocks[0]).slick(productsSlickSettings);\r\n// \t}\r\n\r\n// }\r\nif (shoptetPage === \"homepage\") {\r\n  const productsSelectors = () => {\r\n    const allProducts = document.querySelectorAll(\".products\");\r\n\r\n    if (!allProducts) return;\r\n\r\n    const productsIDs = [];\r\n\r\n    for (const products of allProducts) {\r\n      // if (index === 0) continue;\r\n\r\n      productsIDs.push(`#${products.id}`);\r\n    }\r\n    // console.log(productsIDs)\r\n    return productsIDs;\r\n  };\r\n\r\n  swiperize({\r\n    containers: [...productsSelectors()],\r\n    slide: [swiperize.spreadClass(productsSelectors(), \".product\")],\r\n    customOptions: {\r\n      fullscreen: false,\r\n      infinity: true,\r\n      dots: true,\r\n      arrows: true,\r\n      scrollbar: false,\r\n      lazyPrevNext: true,\r\n      helper: true, // Pidna nov monost\r\n    },\r\n\r\n    swiperOptions: {\r\n      direction: \"horizontal\",\r\n      speed: 800,\r\n      slidesPerView: 1.4,\r\n      spaceBetween: 16,\r\n      breakpoints: {\r\n        1200: {\r\n          slidesPerView: 6,\r\n          spaceBetween: 24,\r\n        },\r\n        1100: {\r\n          slidesPerView: 5,\r\n          spaceBetween: 24,\r\n        },\r\n        1024: {\r\n          slidesPerView: 4,\r\n          spaceBetween: 24,\r\n        },\r\n        768: {\r\n          slidesPerView: 3,\r\n          spaceBetween: 20,\r\n        },\r\n        500: {\r\n          slidesPerView: 2,\r\n          spaceBetween: 16,\r\n        },\r\n      },\r\n    },\r\n  });\r\n\r\n  function homePageSections() {\r\n    const body = document.querySelector(\"body\");\r\n    let insertAfterElement = document.querySelector(\".before-carousel\");\r\n    const bannersRow = document.querySelector(\".banners-row\");\r\n    const colBanner = bannersRow?.querySelector(\".next-to-carousel-banners\");\r\n\r\n    let newBanners;\r\n    if (colBanner) {\r\n      newBanners = document.createElement(\"div\");\r\n      newBanners.classList.add(\"new-banners\", \"container\");\r\n\r\n      colBanner.classList.remove(\"col-sm-4\");\r\n\r\n      newBanners.appendChild(colBanner);\r\n\r\n      if (insertAfterElement) {\r\n        insertAfterElement.insertAdjacentElement(\"afterend\", newBanners);\r\n      } else if (bannersRow) {\r\n        bannersRow.insertAdjacentElement(\"afterend\", newBanners);\r\n      }\r\n    }\r\n\r\n    const headingElements = document.querySelectorAll(\".homepage-group-title\");\r\n\r\n    // Najdeme prvek pro 3. sekci (middle body bannery)\r\n    const thirdInsertPoint =\r\n      document.querySelector(\".middle-banners-wrapper\") ||\r\n      document.querySelector(\".body-banners\");\r\n\r\n    const sections = [];\r\n\r\n    headingElements.forEach((heading, index) => {\r\n      const splitClass = heading.className.split(\"homepage-products-heading-\");\r\n      if (splitClass.length > 1) {\r\n        const headingNumber = splitClass[1].split(\" \")[0];\r\n        const productElement = document.querySelector(\r\n          `.homepage-products-${headingNumber}`\r\n        );\r\n\r\n        if (productElement) {\r\n          const section = document.createElement(\"section\");\r\n          section.classList.add(\r\n            \"product-section\",\r\n            `product-section-${headingNumber}`\r\n          );\r\n\r\n          if (index === 0) {\r\n            section.classList.add(\"product-section-bg\");\r\n          }\r\n\r\n          const container = document.createElement(\"div\");\r\n          container.classList.add(\"container\");\r\n          section.appendChild(container);\r\n          container.appendChild(heading);\r\n          container.appendChild(productElement);\r\n\r\n          sections.push(section);\r\n        }\r\n      }\r\n    });\r\n\r\n    // Vkldn jednotlivch sekc podle pravidel\r\n    if (sections.length > 0) {\r\n      const firstInsertPoint = insertAfterElement || bannersRow;\r\n\r\n      // 1. sekce\r\n      firstInsertPoint?.insertAdjacentElement(\"afterend\", sections[0]);\r\n\r\n      // 2. sekce\r\n      if (sections[1] && newBanners) {\r\n        newBanners.insertAdjacentElement(\"afterend\", sections[1]);\r\n      }\r\n\r\n      // 3. sekce\r\n      if (sections[2] && thirdInsertPoint) {\r\n        thirdInsertPoint.insertAdjacentElement(\"afterend\", sections[2]);\r\n      }\r\n\r\n      // Dal sekce za pedchoz\r\n      for (let i = 3; i < sections.length; i++) {\r\n        sections[i - 1].insertAdjacentElement(\"afterend\", sections[i]);\r\n      }\r\n    }\r\n\r\n    // Pesun benefit banneru\r\n    const benefitBanner = document.querySelector(\".benefitBanner\");\r\n    if (benefitBanner) {\r\n      if (window.dataLayer?.[0]?.shoptet?.pageType === \"homepage\") {\r\n        const firstProductsBlock = document.querySelector(\".banners-row\");\r\n        if (firstProductsBlock) {\r\n          firstProductsBlock.appendChild(benefitBanner);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  homePageSections();\r\n\r\n  if (window.innerWidth >= 768) {\r\n    const handleSectionLinks = () => {\r\n      const productSections = document.querySelectorAll(\".product-section\");\r\n\r\n      productSections.forEach((section, index) => {\r\n        const container = section.querySelector(\".container\");\r\n        const heading = container.querySelector(\".homepage-group-title\");\r\n\r\n        const languageGroup = links.find(\r\n          (group) => group.language === shoptetLang\r\n        );\r\n\r\n        if (languageGroup) {\r\n          const link = languageGroup.links.find((link) => link.index === index);\r\n          if (link) {\r\n            const button = document.createElement(\"a\");\r\n            button.classList.add(\"btn\", \"btn-primary\");\r\n            button.href = link.url;\r\n            button.textContent = `${link.name}`;\r\n\r\n            if (heading) {\r\n              // Vytvoen obalovacho divu\r\n              const wrapper = document.createElement(\"div\");\r\n              wrapper.classList.add(\"upper\");\r\n\r\n              // Pesun nadpisu do wrapperu\r\n              wrapper.appendChild(heading);\r\n              wrapper.appendChild(button);\r\n\r\n              // Vloen wrapperu na zatek kontejneru\r\n              container.insertAdjacentElement(\"afterbegin\", wrapper);\r\n            } else {\r\n              // Pokud heading neexistuje, vlo tlatko rovnou\r\n              container.appendChild(button);\r\n            }\r\n          }\r\n        }\r\n      });\r\n    };\r\n\r\n    // Voln funkce\r\n    handleSectionLinks();\r\n  }\r\n  document.addEventListener(\"click\", function (e) {\r\n    const h4 = e.target.closest(\".single-faq > h4\");\r\n    if (h4) {\r\n      const singleFaq = h4.closest(\".single-faq\");\r\n      if (singleFaq) {\r\n        singleFaq.classList.toggle(\"active\");\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction addEmptySlides(selector, rules) {\r\n  const swiperWrapper = document.querySelector(`${selector} .swiper-wrapper`);\r\n  if (swiperWrapper) {\r\n    rules.sort((a, b) => b.width - a.width);\r\n    const applicableRule = rules.find((rule) => window.innerWidth > rule.width);\r\n\r\n    if (applicableRule) {\r\n      for (let i = 0; i < applicableRule.emptySlidesCount; i++) {\r\n        const emptySlide = document.createElement(\"div\");\r\n        emptySlide.classList.add(\"swiper-slide\");\r\n        swiperWrapper.appendChild(emptySlide);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// ANIMACE\r\nlet target = document.querySelectorAll(\".products-block\");\r\nconst target2 = document.querySelector(\".top-categories-grid\");\r\nfunction handleIntersection(entries) {\r\n  entries.map((entry, index) => {\r\n    entry.target.style.removeProperty(\"--animation-delay\");\r\n    entry.target.setAttribute(\r\n      \"style\",\r\n      entry.target.getAttribute(\"style\")\r\n        ? entry.target.getAttribute(\"style\") + `--animation-delay: ${index}`\r\n        : `--animation-delay: ${index}`\r\n    );\r\n    // entry.target.setAttribute('animation-delay', `${index}`)\r\n    if (entry.isIntersecting) {\r\n      entry.target.classList.add(\"visible\");\r\n    }\r\n  });\r\n}\r\nconst observer = new IntersectionObserver(handleIntersection);\r\nconst observer2 = new IntersectionObserver(handleIntersection);\r\nif (target.length) {\r\n  target.forEach((item) => {\r\n    item.classList.add(\"animation\");\r\n    const subtargets = item.querySelectorAll(\".product\");\r\n    subtargets.forEach((subtarget) => {\r\n      observer.observe(subtarget);\r\n    });\r\n  });\r\n}\r\ndocument.addEventListener(\"ShoptetDOMPageMoreProductsLoaded\", () => {\r\n  if (target.length) {\r\n    target.forEach((item) => {\r\n      item.classList.add(\"animation\");\r\n      const subtargets = item.querySelectorAll(\".product\");\r\n      subtargets.forEach((subtarget) => {\r\n        observer.observe(subtarget);\r\n      });\r\n    });\r\n  }\r\n});\r\nif (target2) {\r\n  target2.classList.add(\"animation\");\r\n  const subtargets = target2.querySelectorAll(\".category\");\r\n  subtargets.forEach((subtarget) => {\r\n    observer2.observe(subtarget);\r\n  });\r\n}\r\n\r\n// const handleCustomDetail = () => {\r\n// \t// Najt .basic-description a obalit obsah divem .content-wrapper\r\n// \tconst basicDescription = document.querySelector('.basic-description')\r\n// \tif (basicDescription) {\r\n// \t\tconst contentWrapper = document.createElement('div')\r\n// \t\tcontentWrapper.classList.add('content-wrapper')\r\n\r\n// \t\twhile (basicDescription.firstChild) {\r\n// \t\t\tcontentWrapper.appendChild(basicDescription.firstChild)\r\n// \t\t}\r\n\r\n// \t\t// Najt pedposledn .p-thumbnail img a vytvoit img element\r\n// \t\tconst thumbnails = document.querySelectorAll('.p-thumbnail img')\r\n// \t\tif (thumbnails.length) {\r\n// \t\t\tconst img = document.createElement('img')\r\n// \t\t\tconst imgSrc = thumbnails[thumbnails.length - 2].getAttribute('data-src')\r\n// \t\t\tconst origSrc = imgSrc.replace('/related/', '/orig/')\r\n// \t\t\timg.src = origSrc\r\n// \t\t\timg.classList.add('side-detail-img')\r\n// \t\t\tbasicDescription.appendChild(img)\r\n// \t\t}\r\n\r\n// \t\tbasicDescription.appendChild(contentWrapper)\r\n// \t}\r\n\r\n// \t// Najt .extended-description .detail-parameters a pidat tdu .content-wrapper\r\n\r\n// \tconst detailParameters = document.querySelector('.extended-description')\r\n// \tif (detailParameters) {\r\n// \t\tconst contentWrapper = document.createElement('div')\r\n// \t\tcontentWrapper.classList.add('content-wrapper')\r\n\r\n// \t\twhile (detailParameters.firstChild) {\r\n// \t\t\tcontentWrapper.appendChild(detailParameters.firstChild)\r\n// \t\t}\r\n\r\n// \t\t// Najt prvn h3 a pepsat jeho innerHTML\r\n// \t\tconst firstH3 = detailParameters.querySelector('h3')\r\n// \t\tif (firstH3) {\r\n// \t\t\tconst specificationText = window.specificationTabText.find(\r\n// \t\t\t\titem => item.language === shoptetLang\r\n// \t\t\t).text\r\n// \t\t\tfirstH3.innerHTML = specificationText\r\n// \t\t}\r\n\r\n// \t\t// Najt posledn .p-thumbnail img a vytvoit img element\r\n// \t\tconst thumbnails = document.querySelectorAll('.p-thumbnail img')\r\n// \t\tif (thumbnails.length) {\r\n// \t\t\tconst img = document.createElement('img')\r\n// \t\t\tconst imgSrc = thumbnails[thumbnails.length - 1].getAttribute('data-src')\r\n// \t\t\tconst origSrc = imgSrc.replace('/related/', '/orig/')\r\n// \t\t\timg.src = origSrc\r\n// \t\t\timg.classList.add('side-detail-img')\r\n// \t\t\tdetailParameters.appendChild(img)\r\n// \t\t}\r\n\r\n// \t\tdetailParameters.appendChild(contentWrapper)\r\n// \t}\r\n// \tconst firstH3 = document.querySelector('.extended-description h3')\r\n// \tif (firstH3) {\r\n// \t\tconst specificationText = window.specificationTabText.find(\r\n// \t\t\titem => item.language === shoptetLang\r\n// \t\t).text\r\n// \t\tfirstH3.innerHTML = specificationText\r\n// \t}\r\n// \tconst productVideos = document.querySelector('#productVideos')\r\n// \tif (productVideos) {\r\n// \t\tconst videoText = basicDescription.querySelector('.video-popis')\r\n// \t\tconst heading = productVideos.querySelector('h3') // Pedpokldm, e nadpis je h3, upravte podle poteby\r\n// \t\tconst iframe = productVideos.querySelector('iframe')\r\n// \t\tif (iframe) {\r\n// \t\t\tiframe.classList.add('side-detail-img')\r\n// \t\t}\r\n// \t\tif (heading) {\r\n// \t\t\tconst contentWrapper = document.createElement('div')\r\n// \t\t\tcontentWrapper.classList.add('content-wrapper')\r\n\r\n// \t\t\tcontentWrapper.appendChild(heading)\r\n\r\n// \t\t\tif (videoText) {\r\n// \t\t\t\tcontentWrapper.appendChild(videoText)\r\n// \t\t\t}\r\n\r\n// \t\t\tproductVideos.insertBefore(contentWrapper, productVideos.firstChild)\r\n// \t\t}\r\n// \t}\r\n// }\r\n\r\n// if (shoptetPage === 'productDetail') handleCustomDetail()\r\n\r\nif (window.innerWidth < 768) {\r\n  const topNavigationBarMenu = document.querySelector(\r\n    \".top-navigation-bar-menu\"\r\n  );\r\n  const navigationIn = document.querySelector(\"#navigation .navigation-in\");\r\n\r\n  if (topNavigationBarMenu && navigationIn) {\r\n    navigationIn.appendChild(topNavigationBarMenu);\r\n  }\r\n}\r\n\r\nfunction smoothScrollTo(target, offset = -150, duration = 700) {\r\n  const targetElement = document.querySelector(target);\r\n  if (targetElement) {\r\n    const targetPosition =\r\n      targetElement.getBoundingClientRect().top + window.pageYOffset - offset;\r\n    window.scrollTo({\r\n      top: targetPosition,\r\n      behavior: \"smooth\",\r\n    });\r\n  }\r\n}\r\n\r\n// Pidn event listeneru pomoc va funkce `on`\r\non(\"click\", \".shp-tab-link\", function (e) {\r\n  const target = this.getAttribute(\"href\");\r\n  if (document.querySelector(target)) {\r\n    smoothScrollTo(target, 200);\r\n  }\r\n});\r\nif (shoptetPage === \"homepage\") {\r\n  document.addEventListener(\"DOMContentLoaded\", function () {\r\n    const swiper1 = new Swiper(\".swiper-partners\", {\r\n      slidesPerView: 1.8,\r\n      spaceBetween: 0,\r\n      speed: 800,\r\n      loop: true,\r\n      watchSlidesProgress: true,\r\n      autoplay: {\r\n        delay: 7000,\r\n        disableOnInteraction: false,\r\n      },\r\n      breakpoints: {\r\n        480: {\r\n          slidesPerView: 2,\r\n          spaceBetween: 24,\r\n        },\r\n        768: {\r\n          slidesPerView: 3,\r\n          spaceBetween: 24,\r\n        },\r\n        992: {\r\n          slidesPerView: 4,\r\n          spaceBetween: 24,\r\n        },\r\n        1124: {\r\n          slidesPerView: 5,\r\n          spaceBetween: 24,\r\n        },\r\n        1200: {\r\n          slidesPerView: 6,\r\n          spaceBetween: 24,\r\n        },\r\n      },\r\n      navigation: {\r\n        nextEl: \".partners-next\",\r\n        prevEl: \".partners-prev\",\r\n      },\r\n      pagination: {\r\n        el: \".partners-pagination\",\r\n        clickable: true,\r\n      },\r\n      on: {\r\n        init: function () {\r\n          this.el.style.opacity = \"1\";\r\n        },\r\n      },\r\n    });\r\n  });\r\n}\r\n\r\n// document.addEventListener('DOMContentLoaded', function () {\r\n//   const amountInput = document.querySelector('input[name=\"amount\"]');\r\n//   if (amountInput) {\r\n//     amountInput.step = '0.01';\r\n//     amountInput.min = '0.01';\r\n//     amountInput.setAttribute(\"data-decimals\", \"2\");\r\n//   }\r\n//   shoptet.config.documentPriceDecimalPlaces = \"2\";\r\n// });\r\n\r\n// setTimeout(() => {\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  const productsSmallNew = document.querySelectorAll(\".product\");\r\n  if (productsSmallNew.length > 0) {\r\n    productsSmallNew.forEach((product) => {\r\n      const addToCartButton = product.querySelector(\".add-to-cart-button\");\r\n      if (addToCartButton) {\r\n        const form = product.querySelector(\"form.pr-action\");\r\n        const alreadyExists = form?.querySelector(\".quantity\");\r\n\r\n        if (form && !alreadyExists) {\r\n          const valueWrapper = document.createElement(\"div\");\r\n          valueWrapper.classList.add(\"quantity\");\r\n          form.insertBefore(valueWrapper, form.firstChild);\r\n          const decrease = document.createElement(\"div\");\r\n          decrease.classList.add(\"decrease-2\");\r\n\r\n          const input = document.createElement(\"input\");\r\n          input.setAttribute(\"type\", \"number\");\r\n          input.setAttribute(\"value\", \"1\");\r\n          input.classList.add(\"amount\");\r\n          input.setAttribute(\"min\", \"1\");\r\n          input.setAttribute(\"autocomplete\", \"off\");\r\n          input.classList.add(\"amount-input\");\r\n\r\n          const increase = document.createElement(\"div\");\r\n          increase.classList.add(\"increase-2\");\r\n\r\n          valueWrapper.appendChild(decrease);\r\n          valueWrapper.appendChild(input);\r\n          valueWrapper.appendChild(increase);\r\n\r\n          // Vloit na pln prvn msto ve formu\r\n\r\n          // Pidn poslucha pro konkrtn tlatka tohoto produktu\r\n          increase.addEventListener(\"click\", (e) => {\r\n            console.log(\"Increase clicked\");\r\n            e.preventDefault();\r\n            input.value = parseInt(input.value) + 1;\r\n            updateHiddenInputValue(input.value);\r\n          });\r\n\r\n          decrease.addEventListener(\"click\", (e) => {\r\n            e.preventDefault();\r\n            input.value = parseInt(input.value) - 1;\r\n            if (parseInt(input.value) < 1) {\r\n              input.value = 1;\r\n            }\r\n            updateHiddenInputValue(input.value);\r\n          });\r\n\r\n          function updateHiddenInputValue(value) {\r\n            const hiddenInput = form.querySelector(\r\n              'input[type=\"hidden\"][name=\"amount\"]'\r\n            );\r\n            if (hiddenInput) {\r\n              hiddenInput.value = value;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n});\r\n// }, 1000);\r\n\r\nif (shoptetPage === \"productDetail\") {\r\n  const endpoint = (baseURL, params) => {\r\n    const url = new URL(baseURL);\r\n\r\n    for (let i = 0; i < params.length; i += 2) {\r\n      url.searchParams.append(params[i], params[i + 1]);\r\n    }\r\n\r\n    return url.toString();\r\n  };\r\n\r\n   const createVariant = (data) => {\r\n      const variant = document.createElement(\"a\");\r\n      variant.classList.add(\"variant\");\r\n      variant.href = data.url;\r\n  \r\n      // Nastav barvu dostupnosti pokud je \"Skladem\"\r\n      let availabilityStyle = \"\";\r\n      if (data.availability && data.availability.trim().toLowerCase() === \"skladem\") {\r\n          availabilityStyle = 'style=\"color: #39c09f\"';\r\n      }\r\n  \r\n      variant.innerHTML = `\r\n          <div class=\"variant-image\">\r\n              <img src=\"${data.image}\">\r\n          </div>\r\n          <span class=\"variant-name\">${data.name}</span>\r\n          <span class=\"variant-availability\" ${availabilityStyle}>${data.availability}</span>\r\n          <span class=\"variant-price\">${data.price}</span>\r\n      `;\r\n  \r\n      return variant;\r\n  };\r\n\r\n  const fetchVariants = async () => {\r\n    try {\r\n      const variantsEndpoint = endpoint(\r\n        \"https://renomag-stage.axfone.eu/variants\",\r\n        [\"guid\", getShoptetDataLayer(\"product\").guid]\r\n      );\r\n\r\n      const response = await fetch(variantsEndpoint);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to fetch variants\");\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      const variantsWrapper = document.createElement(\"div\");\r\n      variantsWrapper.classList.add(\"variants-wrapper\");\r\n\r\n      const variantsBlockFragment = document.createDocumentFragment();\r\n\r\n      for (const variantData of data.data) {\r\n        const variant = createVariant({\r\n          url: variantData.url,\r\n          image: variantData.image,\r\n          name: variantData.name, //  pidej tento dek\r\n          availability: variantData.availability,\r\n          price: variantData.price_with_vat,\r\n        });\r\n\r\n        variantsBlockFragment.appendChild(variant);\r\n      }\r\n\r\n      variantsWrapper.appendChild(variantsBlockFragment);\r\n\r\n      const infoWrapper = document.querySelector(\".p-info-wrapper\");\r\n      infoWrapper.appendChild(variantsWrapper);\r\n    } catch (error) {\r\n      console.error(\"Error fetching product variants:\", error);\r\n    }\r\n  };\r\n\r\n  fetchVariants();\r\n}\r\n"],"names":["moveElement","elementSelector","targetSelectors","element","document","querySelector","footer","console","error","moved","targetSelector","target","insertAdjacentElement","on","eventType","selector","callback","addEventListener","e","targetElement","matches","preventDefault","call","parentElement","splitMenu","menuWrapper","setTimeout","menuItems","querySelectorAll","menuHelper","menuWrapperStyle","window","getComputedStyle","forEach","item","offsetRight","offsetLeft","offsetWidth","itemInHelper","id","classList","clientWidth","parseFloat","paddingRight","remove","add","shoptet","menu","handleCarousel","carousel","observer","MutationObserver","mutationList","currentItem","mutation","className","actualIndex","indexOf","dotsList","dot","dotsCounter","createElement","index","dotEl","appendChild","targetItem","targetItemMedia","tagName","toLowerCase","src","getAttribute","sourceElement","load","observe","attributes","attributeFilter","shoptetPage","handleFlags","product","flagsDefault","flagsExtra","handleTextLayout","priceStandard","prices","pDesc","pInIn","availability","availabilitySpan","pricesFinal","priceAditional","addToCartButton","pCode","button","style","visibility","image","starsRating","ratingValue","allStars","star","idx","display","ratingSpan","textContent","products","mmAllProducts","length","contains","footerBilling","footerBottom","footerGlobal","footerBottomWrapper","insertBefore","nextElementSibling","signature","platebniMetodyEl","alt","createShpTabLink","text","anchor","shpTabLi","shpTabLink","href","innerHTML","body","pDetailTabs","tabContent","customMobileSlider","swiperize","containers","slide","customOptions","fullscreen","infinity","dots","arrows","scrollbar","lazyPrevNext","swiperOptions","direction","speed","spaceBetween","slidesPerView","ratingTab","ratingTabHeading","ratingTitleObj","ratingTitle","find","language","shoptetLang","prepend","ratingButton","discusionWrapper","discussionTabHeading","discussionTitleObj","discussionTitle","relatedFiles","relatedFilesHeading","relatedFilesTitleObj","relatedFilesTitle","relatedProducts","relatedProductsHeading","voteWrappers","voteWrapper","voteWrapperWrapper","addComentButtons","descInner","descH3","log","titleObj","detailTitle","relatedProductsTitleObj","relatedProductsTitle","innerText","titleText","relatedProductsCount","productContent","relatedProductsTab","shpTabsWrapper","wholeProd","descriptionInner","wrapper","parentNode","swiperWrapper","breakpoints","alternativeProductsTabLink","alternativeProducts","alternativeProductsHeading","alternativeNadpisy","alternativeNadpis","holder","firstChild","parametersTabContentH3","parametersTitleObj","parametersTitle","firstRow","firstTh","firstTd","paramTitleObj","parametersParametr","paramTextObj","parametersParametrText","shpTabLinks","link","removeAttribute","replace","trim","targetNode","config","childList","subtree","mutationsList","type","hiddenLinks","shpTabsRow","shpTabs","tab","handleCart","pageHeader","cartHeader","cartHeaderHelper","search","headerTop","continueInCart","buttonText","cartContinueBtn","cartHeaderWrapper","sidebarCart","backLink","extraDelivery","dataLayer","cartInfo","leftToFreeShipping","priceLeft","overallWrapper","cartFooter","cartMail","cartPhone","sidebarNextStep","orderSummary","nextStep","cartRow","sidebarConsents","summaryItemPrice","consent","innerWidth","backHolder","backHold","paymentInfoTooltips","tooltip","handleFreeRecapitulation","recapItemPrices","price","toUpperCase","includes","footerCheck","cartProjectMail","cartProjectPhone","orderingProcessFooter","securePaymentText","respondTimeText","phoneTimeObj","projectPhoneTime","orderingProcessFooterPhoneWrapper","orderingProcessFooterMailWrapper","clonedPhone","cloneNode","phoneElement","clonedMail","mailElement","productsInCart","productSKU","productName","productSKUEl","pQuantity","pName","mainLink","quantityHtml","insertAdjacentHTML","cartSummary","box","upperSummaryReayl","upperSummary","cartContentSummary","cartInner","h4","discountForm","extraGiftTitles","discountCoupon","freeGift","h4Gift","priceHolder","priceWrapper","shipping","nextStepH","cartH2","h2","itemsCartTitle","row","stepBack","basicInformations","stepBackTextObj","stepBackText","checkoutContent","backHomepageObj","backHomepageBtn","backHomepageLink","url","shippingTitle","shippingTitleObj","deliveryTitle","paymentTitleObj","paymentTitle","coInformation","loginWrapper","loginButton","stepBackToShippingPayment","priceFinal","currencyLabel","currencyInfo","symbol","cartWidgetProducts","productPrice","priceEl","productSinglePrice","cart","filter","code","priceWithVat","productSinglePriceEl","popupCartSummary","popupCartSummaryPriveVAT","String","getNoBillingShippingPrice","withVat","popupCartSummaryPriceNoVAT","withoutVat","popupCartSummaryPriceNoVATNumber","Math","round","cartWidgetProductsWrapper","cartWidgetButton","cartWidgetInner","cartWidgetShipping","priceLeftToFreeShipping","freeShippingBar","freeShippingValue","Number","width","shippingWidgetStrongs","strong","advancedOrder","aoTop","aoTitle","aoProduct","cboxClose","continueShoppingBtn","modal","close","extraStep","deliveryStrongs","suggestion","img","advancedOrderProducts","$","slick","productsSlickSettings","handleEmptyCart","emptyCart","cartHeading","cartText","prazdnyKosikPerexText","prazdnyKosikPerex","prazdnyKosikNadpisText","prazdnyKosikNadpis","cartEmail","cartContact","emailPerexText","emailPerex","btnHolder","primaryButton","primaryButtonText","secondaryButton","secondaryButtonText","emptyCartHeader","event","sessionStorage","removeItem","handleFooter","cookies","mirandaMediaLink","title","footerHeadings","heading","closest","toggle","footerCategories","siteName","customFooter","customFooterContact","customFooterContactPlaceholder","append","instagram","benefitsWrapper","instagramTitle","zastupce","productsSelectors","allProducts","productsIDs","push","spreadClass","helper","homePageSections","insertAfterElement","bannersRow","colBanner","newBanners","headingElements","thirdInsertPoint","sections","splitClass","split","headingNumber","productElement","section","container","firstInsertPoint","i","benefitBanner","pageType","firstProductsBlock","handleSectionLinks","productSections","languageGroup","links","group","name","singleFaq","addEmptySlides","rules","sort","a","b","applicableRule","rule","emptySlidesCount","emptySlide","target2","handleIntersection","entries","map","entry","removeProperty","setAttribute","isIntersecting","IntersectionObserver","observer2","subtargets","subtarget","topNavigationBarMenu","navigationIn","smoothScrollTo","offset","duration","targetPosition","getBoundingClientRect","top","pageYOffset","scrollTo","behavior","swiper1","Swiper","loop","watchSlidesProgress","autoplay","delay","disableOnInteraction","navigation","nextEl","prevEl","pagination","el","clickable","init","opacity","productsSmallNew","form","alreadyExists","valueWrapper","decrease","input","increase","value","parseInt","updateHiddenInputValue","hiddenInput","endpoint","baseURL","params","URL","searchParams","toString","createVariant","data","variant","availabilityStyle","fetchVariants","variantsEndpoint","getShoptetDataLayer","guid","response","fetch","ok","Error","json","variantsWrapper","variantsBlockFragment","createDocumentFragment","variantData","price_with_vat","infoWrapper"],"sourceRoot":""}