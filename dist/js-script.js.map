{"version":3,"file":"js-script.js","mappings":"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","sources":["webpack://sniper-one/./src/js/script.js"],"sourcesContent":["// -- Split menu -- //\r\nfunction moveElement(elementSelector, targetSelectors) {\r\n  const element = document.querySelector(elementSelector);\r\n  const footer = document.querySelector(\"footer\");\r\n\r\n  if (!element) {\r\n    console.error(`Prvek ${elementSelector} nebyl nalezen`);\r\n    return;\r\n  }\r\n\r\n  let moved = false;\r\n\r\n  for (const targetSelector of targetSelectors) {\r\n    const target = document.querySelector(targetSelector);\r\n    if (target) {\r\n      target.insertAdjacentElement(\"afterend\", element);\r\n      moved = true;\r\n      break;\r\n    }\r\n  }\r\n\r\n  if (!moved && footer) {\r\n    footer.insertAdjacentElement(\"beforebegin\", element);\r\n  }\r\n}\r\n\r\n//On funkce, na kliknut a zavoln funkce\r\nfunction on(eventType, selector, callback) {\r\n  document.addEventListener(eventType, function (e) {\r\n    let targetElement = e.target;\r\n    while (targetElement && targetElement !== document) {\r\n      if (targetElement.matches(selector)) {\r\n        e.preventDefault();\r\n        callback.call(targetElement, e);\r\n        break;\r\n      }\r\n      targetElement = targetElement.parentElement;\r\n    }\r\n  });\r\n}\r\n\r\nconst splitMenu = () => {\r\n  const menuWrapper = document.querySelector(\"#navigation .navigation-in\");\r\n  if (menuWrapper) {\r\n    setTimeout(() => {\r\n      let menuItems = menuWrapper.querySelectorAll(\r\n        \".menu-level-1>li:not(.appended-category)\"\r\n      );\r\n      let menuHelper = document.querySelector(\".menu-helper\");\r\n      let menuWrapperStyle = window.getComputedStyle(menuWrapper);\r\n      menuItems.forEach((item) => {\r\n        let offsetRight = item.offsetLeft + item.offsetWidth;\r\n        const itemInHelper =\r\n          item.id === \"nav-manufacturers\"\r\n            ? menuHelper.querySelector(\"#nav-manufacturers\")\r\n            : menuHelper.querySelector(\".\" + item.classList[0]);\r\n        if (\r\n          offsetRight >\r\n          menuWrapper.clientWidth - parseFloat(menuWrapperStyle.paddingRight)\r\n        ) {\r\n          if (itemInHelper) {\r\n            itemInHelper.classList.remove(\"splitted\");\r\n          }\r\n          item.classList.add(\"splitted\");\r\n        } else {\r\n          if (itemInHelper) {\r\n            itemInHelper.classList.add(\"splitted\");\r\n          }\r\n          item.classList.remove(\"splitted\");\r\n        }\r\n      });\r\n      if (\r\n        menuHelper.querySelector(\r\n          \".menu-level-1 > li:not(.splitted):not(.appended-category)\"\r\n        )\r\n      ) {\r\n        menuHelper.classList.remove(\"empty\");\r\n        menuWrapper.classList.remove(\"fitted\");\r\n      } else {\r\n        menuHelper.classList.add(\"empty\");\r\n        menuWrapper.classList.add(\"fitted\");\r\n      }\r\n    }, 200);\r\n  }\r\n};\r\n\r\nshoptet.menu.splitMenu = splitMenu;\r\n\r\n// CAROUSEL\r\nconst handleCarousel = () => {\r\n  const carousel = document.querySelector(\"#carousel .carousel-inner\");\r\n  if (carousel) {\r\n    let observer = new MutationObserver((mutationList) => {\r\n      let currentItem;\r\n      mutationList.forEach((mutation) => {\r\n        if (mutation.target.className === \"item active\") {\r\n          currentItem = mutation.target;\r\n        }\r\n      });\r\n      if (typeof currentItem == \"undefined\") return;\r\n      let actualIndex = [\r\n          ...document.querySelectorAll(\".carousel-inner .item\"),\r\n        ].indexOf(currentItem),\r\n        dotsList = document.querySelectorAll(\".carousel-dots li\");\r\n      dotsList.forEach((dot) => {\r\n        dot.classList.remove(\"dot-active\");\r\n      });\r\n      dotsList[actualIndex].classList.add(\"dot-active\");\r\n    });\r\n    let dotsCounter = 0,\r\n      dotsList = document.createElement(\"ul\");\r\n    dotsList.classList.add(\"carousel-dots\");\r\n    carousel.querySelectorAll(\".item\").forEach((item, index) => {\r\n      dotsCounter += 1;\r\n      let dotEl = document.createElement(\"li\");\r\n      dotsList.appendChild(dotEl);\r\n      if (index === 0) dotEl.classList.add(\"dot-active\");\r\n      dotEl.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n        document\r\n          .querySelector(\".carousel-inner .item.active\")\r\n          .classList.remove(\"active\");\r\n        let targetItem = document.querySelectorAll(\".carousel-inner .item\")[\r\n          index\r\n        ];\r\n        const targetItemMedia = targetItem.querySelector(\"img, video\");\r\n        if (targetItemMedia) {\r\n          if (\r\n            targetItemMedia.tagName.toLowerCase() === \"img\" &&\r\n            !targetItemMedia.src\r\n          ) {\r\n            targetItemMedia.src = targetItemMedia.getAttribute(\"data-src\");\r\n          } else if (targetItemMedia.tagName.toLowerCase() === \"video\") {\r\n            const sourceElement = targetItemMedia.querySelector(\"source\");\r\n            if (sourceElement && !sourceElement.src) {\r\n              sourceElement.src = sourceElement.getAttribute(\"data-src\");\r\n              targetItemMedia.load(); // Reload the video to apply the new source\r\n            }\r\n          }\r\n        }\r\n        targetItem.classList.add(\"active\");\r\n      });\r\n      observer.observe(item, {\r\n        attributes: true,\r\n        attributeFilter: [\"class\"],\r\n      });\r\n    });\r\n    carousel.appendChild(dotsList);\r\n  }\r\n\r\n  // const videoObserver = new IntersectionObserver((entries, observer) => {\r\n  // \tfor (const entry of entries) {\r\n  // \t\tconst video = entry.target;\r\n  // \t\tif (entry.isIntersecting) {\r\n  // \t\t\tvideo.play();\r\n  // \t\t\t// Disconnect the observer for this video\r\n  // \t\t\tobserver.unobserve(video);\r\n  // \t\t} else {\r\n  // \t\t\tvideo.pause();\r\n  // \t\t}\r\n  // \t}\r\n  // }, {\r\n  // \trootMargin: '0px 0px 0px 0px',\r\n  // \tthreshold: 0.1 // Adjust threshold as needed\r\n  // });\r\n\r\n  // // Select all video elements and observe them\r\n  // document.querySelectorAll('video').forEach((video) => {\r\n  // \tvideoObserver.observe(video);\r\n  // });\r\n};\r\nif (shoptetPage == \"homepage\") {\r\n  handleCarousel();\r\n}\r\n\r\n// FLAGS and card\r\nconst handleFlags = (product) => {\r\n  const flagsDefault = product.querySelector(\".flags-default\");\r\n  const flagsExtra = product.querySelector(\".flags-extra\");\r\n\r\n  if (flagsDefault && flagsExtra) {\r\n    flagsDefault.appendChild(flagsExtra);\r\n    flagsDefault.classList.add(\"contains-extra\");\r\n  }\r\n};\r\n\r\nconst handleTextLayout = (product) => {\r\n  const priceStandard = product.querySelector(\".price-standard\");\r\n  const prices = product.querySelector(\".prices\");\r\n  const pDesc = product.querySelector(\".p-desc\");\r\n  const pInIn = product.querySelector(\".p-in-in\");\r\n  const availability = product.querySelector(\".availability\");\r\n\r\n  const availabilitySpan = availability?.querySelector(\"span\");\r\n  const pricesFinal = product.querySelector(\".prices .price-final\");\r\n\r\n  const priceAditional = product.querySelector(\".price-additional\");\r\n  const addToCartButton = product.querySelector(\".add-to-cart-button\");\r\n\r\n  const pCode = product.querySelector(\".p-code\");\r\n\r\n  if (pCode && pInIn) {\r\n    pInIn.insertAdjacentElement(\"afterbegin\", pCode);\r\n  }\r\n\r\n  if (priceStandard && prices) {\r\n    prices.appendChild(priceStandard);\r\n  }\r\n\r\n  const button = product.querySelector(\"button\");\r\n  if (!button) {\r\n    if (prices) prices.style.visibility = \"hidden\";\r\n    if (availability) availability.style.visibility = \"hidden\";\r\n  }\r\n\r\n  const image = product.querySelector(\".image\");\r\n  const starsRating = product.querySelector(\".stars-wrapper\");\r\n  if (starsRating) {\r\n    image.appendChild(starsRating);\r\n    const ratingValue = starsRating.getAttribute(\"data-micro-rating-value\");\r\n    if (ratingValue) {\r\n      if (parseFloat(ratingValue) === 0) {\r\n        starsRating.remove();\r\n      } else {\r\n        const allStars = starsRating.querySelectorAll(\".star\");\r\n        // Skryj vechny hvzdy krom prvn\r\n        allStars.forEach((star, idx) => {\r\n          if (idx > 0) {\r\n            star.style.display = \"none\";\r\n          } else {\r\n            star.style.display = \"\"; // prvn hvzda zobrazena\r\n          }\r\n        });\r\n\r\n        // Ov, zda u existuje span s ratingem\r\n        let ratingSpan = starsRating.querySelector(\".rating-value\");\r\n        if (!ratingSpan) {\r\n          ratingSpan = document.createElement(\"span\");\r\n          ratingSpan.className = \"rating-value\";\r\n          ratingSpan.textContent = ratingValue;\r\n          starsRating.appendChild(ratingSpan);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // ...existing code...\r\n};\r\nconst products = document.querySelectorAll(\r\n  \".products-block .product:not(.banner-category)\"\r\n);\r\n\r\nconst mmAllProducts = document.querySelectorAll(\".products-block .product\");\r\nif (mmAllProducts.length) {\r\n  mmAllProducts.forEach((product) => {\r\n    if (!product.classList.contains(\"banner-category\")) {\r\n      handleFlags(product);\r\n      handleTextLayout(product);\r\n    }\r\n  });\r\n}\r\n\r\ndocument.addEventListener(\"ShoptetDOMContentLoaded\", () => {\r\n  const mmAllProducts = document.querySelectorAll(\".products-block .product\");\r\n  if (mmAllProducts.length) {\r\n    mmAllProducts.forEach((product) => {\r\n      if (!product.classList.contains(\"banner-category\")) {\r\n        handleFlags(product);\r\n        handleTextLayout(product);\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\n// FOOTER-BOTTOM\r\nfunction footerBilling() {\r\n  const footerBottom = document.querySelector(\".footer-bottom\");\r\n  const footerGlobal = document.querySelector(\"#footer\");\r\n  if (footerBottom && footerGlobal) {\r\n    const footerBottomWrapper = document.createElement(\"div\");\r\n    footerBottomWrapper.classList.add(\"footer-bottom-wrapper\");\r\n    footerBottomWrapper.appendChild(footerBottom);\r\n    footerGlobal.parentElement.insertBefore(\r\n      footerBottomWrapper,\r\n      footerGlobal.nextElementSibling\r\n    );\r\n    const signature = footerBottom.querySelector(\"#signature\");\r\n    if (signature) {\r\n      signature.style.display = \"flex\";\r\n      const platebniMetodyEl = document.createElement(\"img\");\r\n      platebniMetodyEl.classList.add(\"platebni-metody\");\r\n      platebniMetodyEl.src =\r\n        \"/user/documents/upload/Obrazky/platebni-metody.png\";\r\n      platebniMetodyEl.alt = \"Platebn metody\";\r\n      signature.parentElement.insertBefore(\r\n        platebniMetodyEl,\r\n        signature.nextElementSibling\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nfooterBilling();\r\n\r\n// PRODUCT DETAIL\r\nconst createShpTabLink = (text, anchor, id) => {\r\n  const shpTabLi = document.createElement(\"li\");\r\n  const shpTabLink = document.createElement(\"a\");\r\n  shpTabLi.classList.add(\"shp-tab\");\r\n  shpTabLi.appendChild(shpTabLink);\r\n  shpTabLink.classList.add(\"shp-tab-link\");\r\n  shpTabLink.href = anchor;\r\n  shpTabLink.innerHTML = text;\r\n  if (id) {\r\n    shpTabLi.id = id;\r\n  }\r\n  return shpTabLi;\r\n};\r\n\r\nif (document.body.classList.contains(\"type-detail\")) {\r\n  const pDetailTabs = document.querySelector(\"#p-detail-tabs\");\r\n  const tabContent = document.querySelector(\"#tab-content\");\r\n\r\n  const customMobileSlider = document.querySelector(\".custom-slider-wrapper\");\r\n  setTimeout(() => {\r\n    // console.log(customMobileSlider)\r\n  }, 3000);\r\n\r\n  // if (customMobileSlider) {\r\n  // \t$(customMobileSlider).slick({\r\n  // \t\tinfinite: false,\r\n  // \t\tarrows: false,\r\n  // \t\tslidesToShow: 1,\r\n  // \t\tslidesToScroll: 1,\r\n  // \t\tdots: true,\r\n  // \t})\r\n  // }\r\n  swiperize({\r\n    containers: \".custom-slider-wrapper\",\r\n    slide: \".p-main-image\",\r\n    customOptions: {\r\n      fullscreen: false,\r\n      infinity: false,\r\n      dots: true,\r\n      arrows: false,\r\n      scrollbar: false,\r\n      lazyPrevNext: true,\r\n    },\r\n    swiperOptions: {\r\n      direction: \"horizontal\",\r\n      speed: 800,\r\n      spaceBetween: 20,\r\n      slidesPerView: 1,\r\n    },\r\n  });\r\n  // DLOUHY POPIS + OSTATNI TABY\r\n\r\n  const ratingTab = document.querySelector(\"#ratingTab\");\r\n  if (ratingTab) {\r\n    const ratingTabHeading = document.createElement(\"h3\");\r\n    const ratingTitleObj =\r\n      window.ratingTitle.find((item) => item.language === shoptetLang) ||\r\n      window.ratingTitle[0];\r\n    ratingTabHeading.innerHTML = ratingTitleObj.text;\r\n    ratingTab.prepend(ratingTabHeading);\r\n\r\n    const ratingButton = ratingTab.querySelector(\".add-comment \");\r\n    if (ratingButton) {\r\n      ratingTab.appendChild(ratingButton);\r\n    }\r\n  }\r\n  const discusionWrapper = document.querySelector(\"#productDiscussion\");\r\n  if (discusionWrapper) {\r\n    const discussionTabHeading = document.createElement(\"h3\");\r\n    const discussionTitleObj =\r\n      window.discussionTitle.find((item) => item.language === shoptetLang) ||\r\n      window.discussionTitle[0];\r\n    discussionTabHeading.innerHTML = discussionTitleObj.text;\r\n    discusionWrapper.prepend(discussionTabHeading);\r\n  }\r\n\r\n  const relatedFiles = document.querySelector(\"#relatedFiles\");\r\n  if (relatedFiles) {\r\n    const relatedFilesHeading = document.createElement(\"h3\");\r\n    const relatedFilesTitleObj =\r\n      window.relatedFilesTitle.find((item) => item.language === shoptetLang) ||\r\n      window.relatedFilesTitle[0];\r\n    relatedFilesHeading.innerHTML = relatedFilesTitleObj.text;\r\n    relatedFiles.prepend(relatedFilesHeading);\r\n  }\r\n\r\n  const relatedProducts = document.querySelector(\".products-related\");\r\n  const relatedProductsHeading = document.querySelector(\r\n    \".products-related-header\"\r\n  );\r\n\r\n  const voteWrappers = document.querySelectorAll(\".votes-wrap .vote-wrap\");\r\n  voteWrappers.forEach((voteWrapper) => {\r\n    const voteWrapperWrapper = voteWrapper.querySelector(\r\n      \".votes-wrap.discussion\"\r\n    );\r\n    if (voteWrapperWrapper) {\r\n      voteWrapper.insertAdjacentElement(\"afterend\", voteWrapperWrapper);\r\n    }\r\n  });\r\n  const addComentButtons = document.querySelectorAll(\r\n    \".add-comment.btn-primary\"\r\n  );\r\n  if (addComentButtons.length) {\r\n    addComentButtons.forEach((button) => {\r\n      button.classList.remove(\"btn-primary\", \"btn-sm\");\r\n      button.classList.add(\"link-like\");\r\n    });\r\n  }\r\n  const descInner = document.querySelector(\"#description .description-inner\");\r\n  const descH3 = document.querySelector(\"#description .basic-description >h3\");\r\n  console.log(descH3);\r\n  if (descH3) {\r\n    const titleObj =\r\n      window.detailTitle.find((item) => item.language === shoptetLang) ||\r\n      window.detailTitle[0];\r\n    descH3.innerHTML = titleObj.text;\r\n    descH3.classList.add(\"detail-title\");\r\n    if (descInner) {\r\n      descInner.prepend(descH3);\r\n    }\r\n  }\r\n  if (relatedProducts && relatedProductsHeading) {\r\n    if (relatedProductsHeading) {\r\n      const relatedProductsTitleObj =\r\n        window.relatedProductsTitle.find(\r\n          (item) => item.language === shoptetLang\r\n        ) || window.relatedProductsTitle[0];\r\n      relatedProductsHeading.innerText = relatedProductsTitleObj.text;\r\n    }\r\n    const titleText = relatedProductsHeading.innerText;\r\n\r\n    const relatedProductsCount =\r\n      relatedProducts.querySelectorAll(\".product\").length;\r\n    const tabContent = document.querySelector(\"#tab-content\");\r\n\r\n    // if (pDetailTabs.children[2]) {\r\n    // \tpDetailTabs.insertBefore(relatedProductsLink, pDetailTabs.children[2]);\r\n    // } else {\r\n    // pDetailTabs.appendChild(relatedProductsLink);\r\n    // }\r\n    const productContent = document.querySelector(\"#content\");\r\n    relatedProductsHeading.classList.add(\"homepage-group-title\");\r\n    // relatedProductsHeading.innerHTML = `Dal produkty z kolekce`\r\n    const relatedProductsTab = document.createElement(\"div\");\r\n    // relatedProductsTab.classList.add('tab-pane')\r\n    relatedProductsTab.id = \"relatedProducts\";\r\n    relatedProductsTab.appendChild(relatedProductsHeading);\r\n    relatedProductsTab.appendChild(relatedProducts);\r\n    productContent.appendChild(relatedProductsTab);\r\n\r\n    // desc.parentNode.insertBefore(relatedProductsTab, desc.nextSibling)\r\n\r\n    const shpTabsWrapper = document.querySelector(\".shp-tabs-wrapper\");\r\n    const wholeProd = document.querySelector(\"#relatedProducts\");\r\n    const descriptionInner = document.querySelector(\".basic-description\");\r\n\r\n    if (shpTabsWrapper && wholeProd) {\r\n      let wrapper = document.querySelector(\"#relatedProductsWrapper\");\r\n      if (!wrapper) {\r\n        wrapper = document.createElement(\"div\");\r\n        wrapper.id = \"relatedProductsWrapper\";\r\n        wholeProd.parentNode.insertBefore(wrapper, wholeProd);\r\n        wrapper.appendChild(wholeProd);\r\n      }\r\n\r\n      // if (descriptionInner) {\r\n      //   descriptionInner.parentNode.insertBefore(\r\n      //     wrapper,\r\n      //     descriptionInner.nextSibling\r\n      //   );\r\n      // }\r\n    }\r\n\r\n    swiperize({\r\n      containers: \".products-related\",\r\n      slide: \".product\",\r\n      customOptions: {\r\n        fullscreen: false,\r\n        infinity: true,\r\n        dots: true,\r\n        arrows: true,\r\n        scrollbar: false,\r\n        lazyPrevNext: true,\r\n        swiperWrapper: true,\r\n      },\r\n      swiperOptions: {\r\n        direction: \"horizontal\",\r\n        speed: 800,\r\n        slidesPerView: 1.4,\r\n        spaceBetween: 16,\r\n        breakpoints: {\r\n          1200: {\r\n            slidesPerView: 5,\r\n            spaceBetween: 24,\r\n          },\r\n          1100: {\r\n            slidesPerView: 5,\r\n            spaceBetween: 24,\r\n          },\r\n          1024: {\r\n            slidesPerView: 4,\r\n            spaceBetween: 24,\r\n          },\r\n          768: {\r\n            slidesPerView: 3,\r\n            spaceBetween: 20,\r\n          },\r\n          500: {\r\n            slidesPerView: 2,\r\n            spaceBetween: 16,\r\n          },\r\n        },\r\n      },\r\n    });\r\n  }\r\n\r\n  const alternativeProductsTabLink = document.querySelector(\r\n    '.shp-tab-link[href=\"#productsAlternative\"]'\r\n  );\r\n  if (alternativeProductsTabLink)\r\n    alternativeProductsTabLink.parentElement.remove();\r\n  const alternativeProducts = document.querySelector(\"#productsAlternative\");\r\n  if (alternativeProducts) {\r\n    alternativeProducts.classList.remove(\"tab-pane\", \"fade\");\r\n    const alternativeProductsHeading = document.createElement(\"h2\");\r\n    alternativeProductsHeading.classList.add(\"homepage-group-title\");\r\n    const alternativeNadpisy = alternativeNadpis.find(\r\n      (item) => item.language === shoptetLang\r\n    );\r\n    if (alternativeNadpisy) {\r\n      alternativeProductsHeading.innerHTML = alternativeNadpisy.text;\r\n    }\r\n    const productContent = document.querySelector(\"#content\");\r\n    // const helpUSP = document.querySelector('#content > .benefitBanner')\r\n    // if (helpUSP) {\r\n    // \thelpUSP.parentElement.insertBefore(alternativeProductsHeading, helpUSP)\r\n    // \thelpUSP.parentElement.insertBefore(alternativeProducts, helpUSP)\r\n    // } else {\r\n\r\n    const holder = document.createElement(\"div\");\r\n    holder.classList.add(\"holder\");\r\n    alternativeProducts.insertBefore(\r\n      alternativeProductsHeading,\r\n      alternativeProducts.firstChild\r\n    );\r\n    productContent.appendChild(alternativeProducts);\r\n    // }\r\n    // $(alternativeProducts.querySelector('.products-block')).slick(productsSlickSettings)\r\n\r\n    swiperize({\r\n      containers: \".products-alternative\",\r\n      slide: \".product\",\r\n      customOptions: {\r\n        fullscreen: false,\r\n        infinity: true,\r\n        dots: true,\r\n        arrows: true,\r\n        scrollbar: false,\r\n        lazyPrevNext: true,\r\n        swiperWrapper: true,\r\n      },\r\n      swiperOptions: {\r\n        direction: \"horizontal\",\r\n        speed: 800,\r\n        slidesPerView: 1.4,\r\n        spaceBetween: 16,\r\n        breakpoints: {\r\n          1200: {\r\n            slidesPerView: 5,\r\n            spaceBetween: 24,\r\n          },\r\n          1100: {\r\n            slidesPerView: 5,\r\n            spaceBetween: 24,\r\n          },\r\n          1024: {\r\n            slidesPerView: 4,\r\n            spaceBetween: 24,\r\n          },\r\n          768: {\r\n            slidesPerView: 3,\r\n            spaceBetween: 20,\r\n          },\r\n          500: {\r\n            slidesPerView: 2,\r\n            spaceBetween: 16,\r\n          },\r\n        },\r\n      },\r\n    });\r\n  }\r\n\r\n  const parametersTabContentH3 = document.querySelector(\r\n    \"#description .extended-description >h3\"\r\n  );\r\n  if (parametersTabContentH3) {\r\n    const parametersTitleObj =\r\n      window.parametersTitle.find((item) => item.language === shoptetLang) ||\r\n      window.parametersTitle[0];\r\n    parametersTabContentH3.innerHTML = parametersTitleObj.text;\r\n  }\r\n  const firstRow = document.querySelector(\r\n    \".extended-description .detail-parameters tr:first-of-type\"\r\n  );\r\n  if (firstRow) {\r\n    const firstTh = firstRow.querySelector(\"th span\");\r\n    const firstTd = firstRow.querySelector(\"td span\");\r\n\r\n    if (firstTh) {\r\n      const paramTitleObj =\r\n        window.parametersParametr.find(\r\n          (item) => item.language === shoptetLang\r\n        ) || window.parametersParametr[0];\r\n      firstTh.innerHTML = paramTitleObj.text;\r\n    }\r\n    if (firstTd) {\r\n      const paramTextObj =\r\n        window.parametersParametrText.find(\r\n          (item) => item.language === shoptetLang\r\n        ) || window.parametersParametrText[0];\r\n      firstTd.innerHTML = paramTextObj.text;\r\n    }\r\n  }\r\n  // if (parametersTabContent) {\r\n  //   const specificationText = window.specificationTabText.find(\r\n  //     (item) => item.language === shoptetLang\r\n  //   ).text;\r\n  //   const parametersTab = createShpTabLink(specificationText, \"#parameters\");\r\n  //   const descriptionTab = document.querySelector(\r\n  //     '.shp-tab[data-testid=\"tabDescription\"]'\r\n  //   );\r\n  //   descriptionTab.after(parametersTab);\r\n  //   parametersTabContent.id = \"parameters\";\r\n  // }\r\n\r\n  const shpTabLinks = document.querySelectorAll(\".shp-tab-link\");\r\n  if (shpTabLinks.length) {\r\n    shpTabLinks.forEach((link) => {\r\n      link.removeAttribute(\"role\");\r\n      link.removeAttribute(\"data-toggle\");\r\n\r\n      // Odstrann zvorek a sel z textu odkazu\r\n      link.textContent = link.textContent.replace(/\\(\\d+\\)/g, \"\").trim();\r\n    });\r\n  }\r\n  const targetNode = document.querySelector(\".shp-tabs-row\");\r\n\r\n  if (targetNode) {\r\n    const config = { childList: true, subtree: true };\r\n\r\n    const callback = function (mutationsList, observer) {\r\n      for (let mutation of mutationsList) {\r\n        if (mutation.type === \"childList\") {\r\n          const hiddenLinks = document.querySelector(\r\n            \".shp-tabs-row .hidden-links\"\r\n          );\r\n          const shpTabsRow = document.querySelector(\".shp-tabs-row .shp-tabs\");\r\n\r\n          if (hiddenLinks && shpTabsRow) {\r\n            // Pesunout vechny .shp-tab do .shp-tabs-row .shp-tabs\r\n            const shpTabs = hiddenLinks.querySelectorAll(\".shp-tab\");\r\n            shpTabs.forEach((tab) => {\r\n              shpTabsRow.appendChild(tab);\r\n            });\r\n\r\n            // Odstranit .hidden-links\r\n            hiddenLinks.remove();\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    const observer = new MutationObserver(callback);\r\n    observer.observe(targetNode, config);\r\n\r\n    // Pidat posluchae udlost pro resize a orientationchange\r\n    window.addEventListener(\"resize\", () =>\r\n      observer.observe(targetNode, config)\r\n    );\r\n    window.addEventListener(\"orientationchange\", () =>\r\n      observer.observe(targetNode, config)\r\n    );\r\n  }\r\n  window.addEventListener(\"load\", () => {\r\n    setTimeout(() => {\r\n      const mmAllProducts = document.querySelectorAll(\r\n        \".products-block .product\"\r\n      );\r\n\r\n      if (mmAllProducts.length) {\r\n        mmAllProducts.forEach((product) => handleFlags(product));\r\n        mmAllProducts.forEach((product) => handleTextLayout(product));\r\n        // mmAllProducts.forEach((product) => handleRatings(product))\r\n        // mmAllProducts.forEach((product) => handleProductAvailability(product))\r\n      }\r\n    }, 100);\r\n  });\r\n}\r\n\r\n// CART\r\nconst handleCart = () => {\r\n  const pageHeader = document.querySelector(\"#header\");\r\n  const cartHeader = document.querySelector(\".cart-content .cart-header\");\r\n  const cartHeaderHelper = document.querySelector(\".cart-header-wrapper\");\r\n  const search = document.querySelector(\".search\");\r\n  const headerTop = document.querySelector(\".header-top\");\r\n  // console.log(search)\r\n  // console.log(headerTop)\r\n  // if (search && headerTop) {\r\n  // \theaderTop.appendChild(search)\r\n  // }\r\n\r\n  const continueInCart = document.querySelector(\".next-step-forward\");\r\n  if (continueInCart) {\r\n    const buttonText = window.cartContinueBtn.find(\r\n      (item) => item.language === shoptetLang\r\n    )?.text;\r\n    if (buttonText) {\r\n      continueInCart.innerText = buttonText;\r\n    }\r\n  }\r\n\r\n  if (cartHeader && !cartHeaderHelper) {\r\n    const cartHeaderWrapper = document.createElement(\"div\");\r\n    cartHeaderWrapper.classList.add(\"cart-header-wrapper\");\r\n    cartHeaderWrapper.appendChild(cartHeader);\r\n    cartHeader.classList.add(\"container\");\r\n    pageHeader.parentElement.insertBefore(\r\n      cartHeaderWrapper,\r\n      pageHeader.nextElementSibling\r\n    );\r\n  } else if (cartHeader) {\r\n    cartHeader.remove();\r\n  }\r\n\r\n  const sidebarCart = document.querySelector(\".sidebar-in-cart\");\r\n  const backLink = document.querySelector(\".back-shopping-link\");\r\n  // const sidebarCart = document.querySelector('.sidebar-in-cart .box[data-testid=\"tableCart\"]')\r\n  const extraDelivery = document.querySelector(\".extra.delivery\");\r\n  if (extraDelivery) {\r\n    if (dataLayer[0].shoptet.cartInfo.leftToFreeShipping.priceLeft <= 0)\r\n      extraDelivery.classList.add(\"free-shipping\");\r\n    // sidebarCart.prepend(extraDelivery)\r\n  }\r\n\r\n  const overallWrapper = document.querySelector(\".overall-wrapper\");\r\n  const cartFooter = document.createElement(\"div\");\r\n  cartFooter.classList.add(\"cart-footer\");\r\n  if (overallWrapper) overallWrapper.appendChild(cartFooter);\r\n  const cartMail = document.querySelector(\".contact-box .mail\");\r\n  const cartPhone = document.querySelector(\".contact-box .tel\");\r\n\r\n  const sidebarNextStep = document.querySelector(\"#checkoutSidebar .next-step\");\r\n  const orderSummary = document.querySelector(\"#summary-box\");\r\n  if (sidebarNextStep && orderSummary)\r\n    orderSummary.appendChild(sidebarNextStep);\r\n\r\n  const nextStep = document.querySelector(\".next-step-back\");\r\n  if (nextStep) {\r\n    const cartRow = document.querySelector(\".cart-inner\");\r\n    if (cartRow) {\r\n      cartRow.appendChild(nextStep);\r\n    }\r\n  }\r\n\r\n  const sidebarConsents = document.querySelectorAll(\r\n    \"#checkoutSidebar .consents\"\r\n  );\r\n  const summaryItemPrice = document.querySelector(\r\n    \"#checkoutSidebar .order-summary-item.price\"\r\n  );\r\n  if (sidebarConsents.length && summaryItemPrice) {\r\n    sidebarConsents.forEach((consent) => {\r\n      summaryItemPrice.parentElement.insertBefore(\r\n        consent,\r\n        summaryItemPrice.nextElementSibling\r\n      );\r\n    });\r\n  }\r\n  if (window.innerWidth <= 1300) {\r\n    const backHolder = document.querySelector(\".cart-inner\");\r\n    const backHold = document.querySelector(\".back-shopping-link\");\r\n    if (backHolder && backHold) {\r\n      backHolder.appendChild(backHold);\r\n    }\r\n  }\r\n  // const backToShopButtons = document.querySelectorAll('.back-to-shop')\r\n  // if (backToShopButtons.length) {\r\n  // \tbackToShopButtons.forEach((button) => {\r\n  // \t\tbutton.innerText = 'ZPT K NKUPNMU KOKU'\r\n  // \t})\r\n  // }\r\n\r\n  // const backToShop = document.querySelector('.back-to-shop')\r\n  // if (backToShop) {\r\n  // \t// console.log(backToShop)\r\n  // \tconst backToShopLinks = document.querySelector('.back-shopping-link')\r\n  // \tif (backToShopLinks) {\r\n  // \t\t// console.log(backToShopLinks)\r\n  // \t\tbackToShopLinks.appendChild(backToShop);\r\n  // \t}\r\n  // }\r\n  const paymentInfoTooltips = document.querySelectorAll(\r\n    \".payment-info .show-tooltip\"\r\n  );\r\n  if (paymentInfoTooltips.length) {\r\n    paymentInfoTooltips.forEach((tooltip) => {\r\n      tooltip.innerText = \"i\";\r\n    });\r\n  }\r\n  const handleFreeRecapitulation = () => {\r\n    setTimeout(() => {\r\n      const recapItemPrices = document.querySelectorAll(\r\n        \".recapitulation-shipping-billing-info > span\"\r\n      );\r\n      if (recapItemPrices.length) {\r\n        recapItemPrices.forEach((price) => {\r\n          if (price.innerText.toUpperCase().includes(\"ZDARMA\")) {\r\n            price.classList.add(\"for-free\");\r\n          } else {\r\n            price.classList.remove(\"for-free\");\r\n          }\r\n        });\r\n      }\r\n    }, 100);\r\n  };\r\n  document.addEventListener(\r\n    \"ShoptetShippingMethodUpdated\",\r\n    handleFreeRecapitulation\r\n  );\r\n  document.addEventListener(\r\n    \"ShoptetBillingMethodUpdated\",\r\n    handleFreeRecapitulation\r\n  );\r\n\r\n  const recapItemPrices = document.querySelectorAll(\r\n    'span[data-testid=\"recapItemPrice\"]'\r\n  );\r\n  if (recapItemPrices.length) {\r\n    recapItemPrices.forEach((price) => {\r\n      if (price.innerText.toUpperCase().includes(\"ZDARMA\")) {\r\n        price.classList.add(\"for-free\");\r\n      } else {\r\n        price.classList.remove(\"for-free\");\r\n      }\r\n    });\r\n  }\r\n\r\n  // const continueOrderButton = document.querySelector('#continue-order-button')\r\n  // if (continueOrderButton) {\r\n  //   continueOrderButton.innerText = 'Pokraovat v objednvce' //jazyk\r\n  // }\r\n\r\n  // const relatedProductsBuyButton = document.querySelectorAll('.cart-related-product .add-to-cart-button')\r\n  // if (relatedProductsBuyButton.length) {\r\n  // \trelatedProductsBuyButton.forEach((button) => {\r\n  // \t\tbutton.innerText = 'Koupit' //jazyk\r\n  // \t})\r\n  // }\r\n\r\n  const footerCheck = document.querySelector(\".ordering-process-footer\");\r\n  if (!footerCheck) {\r\n    const cartProjectMail = document.querySelector(\".contact-box .mail\");\r\n    const cartProjectPhone = document.querySelector(\".contact-box .tel\");\r\n    const orderingProcessFooter = document.createElement(\"footer\");\r\n    orderingProcessFooter.classList.add(\"ordering-process-footer\");\r\n\r\n    let securePaymentText = \"Bezpen platba\";\r\n    let respondTimeText = \"Reagujeme do 24 hodin\";\r\n\r\n    if (shoptetLang === \"en\") {\r\n      securePaymentText = \"Secure Payment\";\r\n      respondTimeText = \"We respond within 24 hours\";\r\n    } else if (shoptetLang === \"de\") {\r\n      securePaymentText = \"Sichere Zahlung\";\r\n      respondTimeText = \"Wir antworten innerhalb von 24 Stunden\";\r\n    }\r\n\r\n    const phoneTimeObj =\r\n      window.projectPhoneTime.find((item) => item.language === shoptetLang) ||\r\n      window.projectPhoneTime[0];\r\n\r\n    orderingProcessFooter.innerHTML = `\r\n      <div class=\"container\">\r\n        <div class=\"contact-holder\">\r\n          <div class=\"phone-wrapper\">\r\n            <div class=\"holder-phone-time\">\r\n              ${phoneTimeObj.text}\r\n            </div>\r\n          </div>\r\n          <div class=\"mail-wrapper\">\r\n          </div>\r\n        </div>\r\n        <div class=\"payment-types\">\r\n          <img\r\n            src=\"/user/documents/upload/Obrazky/platebni-metody-2.png\"\r\n            width=\"200\"\r\n            height=\"20\"\r\n            alt=\"Visa, MasterCard, Maestro, PayPal\"\r\n          />\r\n        </div>\r\n      </div>\r\n    `;\r\n    overallWrapper.appendChild(orderingProcessFooter);\r\n    const orderingProcessFooterPhoneWrapper =\r\n      orderingProcessFooter.querySelector(\".phone-wrapper\");\r\n    const orderingProcessFooterMailWrapper =\r\n      orderingProcessFooter.querySelector(\".mail-wrapper\");\r\n    if (cartProjectPhone) {\r\n      const clonedPhone = cartProjectPhone.cloneNode(true);\r\n      orderingProcessFooterPhoneWrapper.prepend(clonedPhone);\r\n      const phoneElement = orderingProcessFooter.querySelector(\r\n        \".phone-wrapper .tel\"\r\n      );\r\n      if (phoneElement) {\r\n        phoneElement.classList.add(\"project-phone\");\r\n        phoneElement.classList.remove(\"tel\"); // Odstrann tdy 'tel'\r\n      }\r\n    }\r\n\r\n    if (cartProjectMail) {\r\n      const clonedMail = cartProjectMail.cloneNode(true);\r\n      orderingProcessFooterMailWrapper.prepend(clonedMail);\r\n      const mailElement = orderingProcessFooter.querySelector(\r\n        \".mail-wrapper .mail a\"\r\n      );\r\n      if (mailElement) {\r\n        // mailElement.classList.add(\"project-email\");\r\n        mailElement.classList.remove(\"mail\"); // Odstrann tdy 'mail'\r\n      }\r\n    }\r\n  }\r\n  if (shoptetPage === \"cart\") {\r\n    const productsInCart = document.querySelectorAll(\r\n      '.cart-table tr.removeable[data-micro=\"cartItem\"]'\r\n    );\r\n    productsInCart.forEach((product) => {\r\n      const productSKU = product.getAttribute(\"data-micro-sku\");\r\n      const productName = product.querySelector(\".p-name\");\r\n      if (productSKU && productName) {\r\n        const productSKUEl = document.createElement(\"div\");\r\n        productSKUEl.classList.add(\"product-sku\");\r\n        productSKUEl.innerHTML = `Kd: ${productSKU}`;\r\n        productName.appendChild(productSKUEl);\r\n      }\r\n    });\r\n  }\r\n\r\n  const products = document.querySelectorAll('tbody [data-micro=\"cartItem\"]');\r\n  if (products.length) {\r\n    products.forEach((product) => {\r\n      const pQuantity = product.querySelector(\".p-availability \");\r\n      const pName = product.querySelector(\".p-name\");\r\n      const mainLink = pName.querySelector(\".main-link\");\r\n\r\n      if (pQuantity && pName && mainLink) {\r\n        const quantityHtml = pQuantity.innerHTML;\r\n        mainLink.insertAdjacentHTML(\r\n          \"afterend\",\r\n          `<div class=\"availability\">${quantityHtml}</div>`\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  const cartSummary = document.querySelector(\".summary-wrapper\");\r\n  if (cartSummary) {\r\n    const box = cartSummary.querySelector(\".box\");\r\n    const upperSummaryReayl = document.querySelector(\".upper-summary\");\r\n    if (box) {\r\n      const upperSummary = document.createElement(\"div\");\r\n      upperSummary.classList.add(\"upper-summary\");\r\n      box.prepend(upperSummary);\r\n\r\n      const cartContentSummary = document.querySelector(\r\n        \".cart-content .cart-summary\"\r\n      );\r\n      if (cartContentSummary) {\r\n        const cartInner = document.querySelector(\".cart-inner\");\r\n        cartSummary.appendChild(cartContentSummary);\r\n\r\n        const h4 = cartContentSummary.querySelector(\"h4\");\r\n\r\n        // const discountInput = discountForm.querySelector('input')\r\n        // discountInput.placeholder = 'Vlote kd'\r\n        const discountForm = document.querySelector(\".discount-coupon\");\r\n\r\n        if (h4) {\r\n          upperSummary.prepend(h4);\r\n\r\n          h4.innerHTML = extraGiftTitles.find(\r\n            (item) => item.language === shoptetLang\r\n          )?.text;\r\n\r\n          if (!cartContentSummary.querySelector(\".discount-coupon\")) {\r\n            h4.style.display = \"none\";\r\n          }\r\n\r\n          // Pesunut discountForm za h4\r\n          if (discountForm) {\r\n            h4.insertAdjacentElement(\"afterend\", discountForm);\r\n          }\r\n        }\r\n        if (\r\n          cartContentSummary.querySelector(\".discount-coupon .applied-coupon\")\r\n        ) {\r\n          const discountCoupon =\r\n            cartContentSummary.querySelector(\".discount-coupon\");\r\n          h4.classList.add(\"active\");\r\n          discountCoupon.classList.add(\"active\");\r\n        }\r\n\r\n        const button = document.querySelector(\".discount-coupon button\");\r\n        if (button) {\r\n          button.innerHTML = \"Uplatnit\"; //jazyk\r\n        }\r\n        const freeGift = cartContentSummary.querySelector(\".free-gift\");\r\n        if (freeGift) {\r\n          const h4Gift = document.createElement(\"h4\");\r\n          h4Gift.innerHTML = \"Drek\";\r\n          box.insertBefore(freeGift, upperSummary);\r\n          freeGift.prepend(h4Gift);\r\n        }\r\n      }\r\n\r\n      const priceHolder = document.createElement(\"div\");\r\n      priceHolder.classList.add(\"price-holder\");\r\n      upperSummary.appendChild(priceHolder);\r\n\r\n      // if (totalSaved > 0) {\r\n      // \tconst saveHolder = document.createElement('span');\r\n      // \tsaveHolder.classList.add('save-holder');\r\n      // \tconst totalSavedActualCurrency = totalSaved.ShoptetFormatAsCurrency();\r\n      // \tsaveHolder.innerHTML = `Uette: ${totalSavedActualCurrency}`;\r\n      // \tpriceHolder.appendChild(saveHolder);\r\n      // }\r\n\r\n      const priceWrapper = cartSummary.querySelector(\".price-wrapper\");\r\n      if (priceWrapper) {\r\n        priceHolder.appendChild(priceWrapper);\r\n      }\r\n\r\n      const shipping = document.querySelector(\".extra.delivery\");\r\n      if (shipping) {\r\n        // upperSummary.insertAdjacentElement('afterend', shipping)\r\n        // cartSummary.prepend(shipping)\r\n      }\r\n    }\r\n  }\r\n  // const discountForm = document.querySelector('.discount-coupon')\r\n  // const summaryWrapper = document.querySelector('.upper-summary')\r\n  // if (discountForm && summaryWrapper) {\r\n  // \tsummaryWrapper.prepend(discountForm)\r\n  // \t// const discountInput = discountForm.querySelector('input')\r\n  // \t// discountInput.placeholder = 'Vlote kd'\r\n  // }\r\n  const nextStepH = document.querySelector(\".next-step\");\r\n  if (nextStepH) {\r\n    const upperSummary = document.querySelector(\".upper-summary\");\r\n    if (upperSummary) {\r\n      upperSummary.appendChild(nextStepH);\r\n    }\r\n  }\r\n\r\n  if (document.querySelector(\"body\").classList.contains(\"id--9\")) {\r\n    const cartH2 = document.createElement(\"h2\");\r\n    const h2 = document.querySelector(\".cart-row .col-md-8 h2\");\r\n    if (cartH2 && !h2) {\r\n      cartH2.innerHTML = itemsCartTitle.find(\r\n        (item) => item.language === shoptetLang\r\n      )?.text;\r\n      const row = document.querySelector(\".cart-row .col-md-8 .cart-content\");\r\n      if (row) {\r\n        row.insertBefore(cartH2, row.firstChild);\r\n      }\r\n    }\r\n  }\r\n  if (document.querySelector(\"body\").classList.contains(\"id--16\")) {\r\n    const stepBack = document.querySelector(\".next-step-back\");\r\n    const basicInformations = document.querySelector(\"#select-country-payment\");\r\n    if (stepBack) {\r\n      const stepBackTextObj =\r\n        window.stepBackText.find((item) => item.language === shoptetLang) ||\r\n        window.stepBackText[0];\r\n      stepBack.innerText = stepBackTextObj.text;\r\n      stepBack.classList.add(\"back-to-cart\");\r\n      if (basicInformations) {\r\n        basicInformations.insertAdjacentElement(\"afterend\", stepBack);\r\n      }\r\n    }\r\n    const checkoutContent = document.querySelector(\"#checkoutContent\");\r\n    if (checkoutContent && !document.querySelector(\".back-homepage\")) {\r\n      const backHomepageObj =\r\n        window.backHomepageBtn.find((item) => item.language === shoptetLang) ||\r\n        window.backHomepageBtn[0];\r\n      const backHomepageLink = document.createElement(\"a\");\r\n      backHomepageLink.className = \"btn next-step-back back-homepage\";\r\n      backHomepageLink.href = backHomepageObj.url;\r\n      backHomepageLink.innerText = backHomepageObj.text;\r\n      if (window.innerWidth >= 768) {\r\n        checkoutContent.appendChild(backHomepageLink);\r\n      } else {\r\n        const cartRow = document.querySelector(\".cart-inner .cart-row\");\r\n        if (cartRow) {\r\n          cartRow.appendChild(backHomepageLink);\r\n        }\r\n      }\r\n    }\r\n    const shippingTitle = document.querySelector(\".co-delivery-method > h4\");\r\n    if (shippingTitle) {\r\n      const shippingTitleObj =\r\n        window.shippingTitle.find((item) => item.language === shoptetLang) ||\r\n        window.shippingTitle[0];\r\n      shippingTitle.innerHTML = shippingTitleObj.text;\r\n    }\r\n\r\n    const deliveryTitle = document.querySelector(\".co-payment-method > h4\");\r\n    if (deliveryTitle) {\r\n      const paymentTitleObj =\r\n        window.paymentTitle.find((item) => item.language === shoptetLang) ||\r\n        window.paymentTitle[0];\r\n      deliveryTitle.innerHTML = paymentTitleObj.text;\r\n    }\r\n  }\r\n  if (document.querySelector(\"body\").classList.contains(\"id--17\")) {\r\n    const coInformation = document.querySelector(\".co-contact-information\");\r\n    const loginWrapper = document.querySelector(\r\n      \".co-contact-information > .form-group\"\r\n    );\r\n    if (loginWrapper && coInformation) {\r\n      loginWrapper.classList.add(\"login-helper\");\r\n      const loginButton = document.querySelector(\"a.btn.btn-secondary\");\r\n      if (loginButton) {\r\n        loginButton.classList.add(\"btn-primary\", \"login-button\");\r\n        loginButton.classList.remove(\"btn-secondary\");\r\n      } else {\r\n        loginWrapper.classList.add(\"no-btn\");\r\n      }\r\n      const stepBack = document.querySelector(\".next-step-back\");\r\n      if (stepBack) {\r\n        const stepBackTextObj =\r\n          window.stepBackToShippingPayment.find(\r\n            (item) => item.language === shoptetLang\r\n          ) || window.stepBackToShippingPayment[0];\r\n        stepBack.innerText = stepBackTextObj.text;\r\n        loginWrapper.prepend(stepBack);\r\n      }\r\n      coInformation.prepend(loginWrapper);\r\n    }\r\n    const checkoutContent = document.querySelector(\"#checkoutContent\");\r\n    if (checkoutContent && !document.querySelector(\".back-homepage\")) {\r\n      const backHomepageObj =\r\n        window.backHomepageBtn.find((item) => item.language === shoptetLang) ||\r\n        window.backHomepageBtn[0];\r\n      const backHomepageLink = document.createElement(\"a\");\r\n      backHomepageLink.className = \"btn next-step-back back-homepage\";\r\n      backHomepageLink.href = backHomepageObj.url;\r\n      backHomepageLink.innerText = backHomepageObj.text;\r\n      if (window.innerWidth >= 768) {\r\n        checkoutContent.appendChild(backHomepageLink);\r\n      } else {\r\n        const cartRow = document.querySelector(\".cart-inner .cart-row\");\r\n        if (cartRow) {\r\n          cartRow.appendChild(backHomepageLink);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // if (document.querySelector(\"body\").classList.contains(\"id--16\")) {\r\n  //   const deliveryMethods = document.querySelector(\".co-delivery-method\");\r\n  //   if (deliveryMethods) {\r\n  //     const allMethods = deliveryMethods.querySelectorAll(\r\n  //       \"[data-testid='shippingMethod']\"\r\n  //     );\r\n  //     if (allMethods.length > 6) {\r\n  //       for (let i = 2; i < allMethods.length; i++) {\r\n  //         allMethods[i].classList.add(\"hidden\");\r\n  //       }\r\n\r\n  //       const btnHolder = document.createElement(\"div\");\r\n  //       btnHolder.className = \"btn-holder\";\r\n\r\n  //       const showMoreBtn = document.createElement(\"a\");\r\n  //       showMoreBtn.className = \"btn btn-secondary\";\r\n  //       showMoreBtn.textContent = \"Zobrazi viac\";\r\n  //       if (shoptetLang === \"cz\") {\r\n  //         showMoreBtn.textContent = \"Zobrazit vce\";\r\n  //       }\r\n  //       btnHolder.appendChild(showMoreBtn);\r\n  //       deliveryMethods.appendChild(btnHolder);\r\n\r\n  //       showMoreBtn.addEventListener(\"click\", () => {\r\n  //         for (let i = 2; i < allMethods.length; i++) {\r\n  //           allMethods[i].classList.remove(\"hidden\");\r\n  //         }\r\n  //         btnHolder.style.display = \"none\";\r\n  //       });\r\n  //     }\r\n  //     const h4 = deliveryMethods.querySelector(\"h4\");\r\n  //     if (h4) {\r\n  //       const h4Text = cartDeliveryTitle.find(\r\n  //         (item) => item.language === shoptetLang\r\n  //       ).text;\r\n  //       if (h4Text) {\r\n  //         h4.innerHTML = h4Text;\r\n  //       }\r\n  //     }\r\n  //   }\r\n  // }\r\n  // const button = document.querySelector(\".show-related\"); // Vyberte tlatko, kter chcete upravit\r\n\r\n  // if (button) {\r\n  //   // Odstrann zvorek a jejich obsahu z textu tlatka\r\n  //   button.textContent = button.textContent\r\n  //     .replace(/\\s*\\(.*?\\)\\s*/g, \"\")\r\n  //     .trim();\r\n  // }\r\n  const relatedProducts = document.querySelectorAll(\".cart-related-product\");\r\n\r\n  relatedProducts.forEach((product) => {\r\n    const availability = product.querySelector(\r\n      \".cart-related-availability span\"\r\n    );\r\n    const priceFinal = product.querySelector(\r\n      \".cart-related-button .price.price-final\"\r\n    );\r\n\r\n    if (\r\n      availability &&\r\n      availability.textContent.trim() === \"Momentln nedostupn\"\r\n    ) {\r\n      // Schovn .cart-related-availability\r\n      availability.parentElement.remove();\r\n\r\n      // Schovn .cart-related-button .price.price-final\r\n      if (priceFinal) {\r\n        priceFinal.remove();\r\n      }\r\n    }\r\n  });\r\n};\r\nif (document.body.classList.contains(\"ordering-process\")) {\r\n  handleCart();\r\n  document.addEventListener(\"ShoptetDOMCartContentLoaded\", handleCart);\r\n}\r\n\r\n// POPUP CART\r\ndocument.addEventListener(\"ShoptetDOMCartContentLoaded\", () => {\r\n  const currencyLabel = dataLayer[0].shoptet.currencyInfo.symbol;\r\n  const cartWidgetProducts = document.querySelectorAll(\".cart-widget-product\");\r\n  if (cartWidgetProducts.length) {\r\n    cartWidgetProducts.forEach((product) => {\r\n      const productPrice = product.querySelector(\r\n        'span[data-testid=\"cartWidgetProductPrice\"]'\r\n      );\r\n      if (productPrice) {\r\n        const priceEl = document.createElement(\"div\");\r\n        priceEl.classList.add(\"cart-widget-product-price\");\r\n        priceEl.appendChild(productPrice);\r\n        product.appendChild(priceEl);\r\n        const productSKU = product.getAttribute(\"data-micro-sku\");\r\n        if (productSKU) {\r\n          const productSinglePrice = dataLayer[0].shoptet.cart.filter(\r\n            (item) => item.code === productSKU\r\n          )[0].priceWithVat;\r\n          const productSinglePriceEl = document.createElement(\"div\");\r\n          productSinglePriceEl.classList.add(\r\n            \"cart-widget-product-single-price\"\r\n          );\r\n          productSinglePriceEl.innerHTML = `${productSinglePrice} ${currencyLabel} / ks`; //jazyk\r\n          priceEl.appendChild(productSinglePriceEl);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  let popupCartSummary = document.querySelector(\".popup-cart-summary\");\r\n  if (!popupCartSummary) {\r\n    popupCartSummary = document.createElement(\"div\");\r\n    popupCartSummary.classList.add(\"popup-cart-summary\");\r\n  }\r\n  let popupCartSummaryPriveVAT = String(\r\n    dataLayer[0].shoptet.cartInfo.getNoBillingShippingPrice.withVat\r\n  );\r\n  if (popupCartSummaryPriveVAT.includes(\".\")) {\r\n    popupCartSummaryPriveVAT = popupCartSummaryPriveVAT.replace(\".\", \",\");\r\n  }\r\n\r\n  let popupCartSummaryPriceNoVAT = String(\r\n    dataLayer[0].shoptet.cartInfo.getNoBillingShippingPrice.withoutVat\r\n  );\r\n  if (popupCartSummaryPriceNoVAT.includes(\".\")) {\r\n    popupCartSummaryPriceNoVAT = popupCartSummaryPriceNoVAT.replace(\".\", \",\");\r\n  }\r\n  // console.log(popupCartSummaryPriceNoVAT)\r\n\r\n  // Pevod etzce na slo\r\n  let popupCartSummaryPriceNoVATNumber = parseFloat(\r\n    popupCartSummaryPriceNoVAT.replace(\",\", \".\")\r\n  );\r\n\r\n  popupCartSummary.innerHTML = `\r\n\t  <div class=\"popup-cart-summary-item\">\r\n\t\t  <strong class=\"popup-cart-summary-item-label\">Celkem za zbo</strong>\r\n\t\t  <strong class=\"popup-cart-summary-item-value\">${popupCartSummaryPriveVAT} ${currencyLabel}</strong>\r\n\t  </div>\r\n\t  <div class=\"popup-cart-summary-item\">\r\n\t\t  <span class=\"popup-cart-summary-item-label\">Celkem bez DPH</span>\r\n\t\t  <span class=\"popup-cart-summary-item-value\">${Math.round(\r\n        popupCartSummaryPriceNoVATNumber\r\n      )} ${currencyLabel}</span>\r\n\t  </div>\r\n  `; //jazyk\r\n  const cartWidgetProductsWrapper = document.querySelector(\r\n    \".cart-widget-products\"\r\n  );\r\n  if (cartWidgetProductsWrapper)\r\n    cartWidgetProductsWrapper.parentElement.insertBefore(\r\n      popupCartSummary,\r\n      cartWidgetProductsWrapper.nextElementSibling\r\n    );\r\n\r\n  const cartWidgetButton = document.querySelector(\".cart-widget-button\");\r\n  const cartWidgetInner = document.querySelector(\".cart-widget-inner\");\r\n  if (cartWidgetButton && cartWidgetInner)\r\n    cartWidgetInner.appendChild(cartWidgetButton.cloneNode(true));\r\n\r\n  const cartWidgetShipping = document.querySelector(\".cart-free-shipping\");\r\n  if (cartWidgetShipping) {\r\n    const priceLeftToFreeShipping =\r\n      dataLayer[0].shoptet.cartInfo.leftToFreeShipping.priceLeft;\r\n    if (priceLeftToFreeShipping > 0) {\r\n      const freeShippingBar = document.createElement(\"div\");\r\n      const freeShippingValue = document.createElement(\"div\");\r\n      freeShippingBar.classList.add(\"price-range\");\r\n      freeShippingBar.appendChild(freeShippingValue);\r\n\r\n      popupCartSummaryPriveVAT = Number(popupCartSummaryPriveVAT);\r\n\r\n      freeShippingValue.style.width = `${\r\n        100 -\r\n        (100 * priceLeftToFreeShipping) /\r\n          (priceLeftToFreeShipping + popupCartSummaryPriveVAT)\r\n      }%`;\r\n      cartWidgetShipping.appendChild(freeShippingBar);\r\n      const shippingWidgetStrongs =\r\n        cartWidgetShipping.querySelectorAll(\"strong\");\r\n      if (shippingWidgetStrongs.length) {\r\n        shippingWidgetStrongs.forEach((strong) => {\r\n          if (strong.innerText.includes(\"ZDARMA\"))\r\n            strong.classList.add(\"free-shipping-strong\"); //jazyk\r\n        });\r\n      }\r\n    }\r\n  }\r\n});\r\n// document.addEventListener('ShoptetCartUpdated', () => {\r\n// \tconst popupCartSummary = document.querySelector('.popup-cart-summary')\r\n// \tconsole.log(popupCartSummary)\r\n// \t// const popupCartSummaryPriveVAT = dataLayer[0].shoptet.cartInfo.getNoBillingShippingPrice.withVat\r\n// \t// const popupCartSummaryPriceNoVAT = dataLayer[0].shoptet.cartInfo.getNoBillingShippingPrice.withoutVat\r\n// \t// const popupCartPriceVAT = popupCartSummary.querySelector('strong.popup-cart-summary-item-value')\r\n// \t// const popupCartPriceNoVAT = popupCartSummary.querySelector('span.popup-cart-summary-item-value')\r\n// \t// popupCartPriceVAT.innerHTML = `${popupCartSummaryPriveVAT} ${currencyLabel}`\r\n// \t// popupCartPriceNoVAT.innerHTML = `${Math.round(popupCartSummaryPriceNoVAT)} ${currencyLabel}`\r\n// })\r\n\r\n// ADVANCED ORDER\r\ndocument.addEventListener(\"ShoptetDOMAdvancedOrderLoaded\", () => {\r\n  const advancedOrder = document.querySelector(\".advanced-order\");\r\n  const aoTop = document.createElement(\"div\");\r\n  aoTop.classList.add(\"ao-top\");\r\n  advancedOrder.prepend(aoTop);\r\n  const aoTitle = advancedOrder.querySelector(\".h1\");\r\n  if (aoTitle) aoTop.appendChild(aoTitle);\r\n  const aoProduct =\r\n    advancedOrder.querySelector(\".ao-product\") ||\r\n    advancedOrder.querySelector(\".h2\");\r\n  if (aoProduct) aoTop.appendChild(aoProduct);\r\n  const cboxClose = document.querySelector(\"#cboxClose\");\r\n  if (cboxClose) {\r\n    cboxClose.innerText = \"Zavt\"; //jazyk\r\n    cboxClose.id = \"cboxClose\";\r\n    cboxClose.classList.add(\"close\");\r\n    // aoTop.appendChild(cboxClose)\r\n  }\r\n  const continueShoppingBtn = document.createElement(\"button\");\r\n  continueShoppingBtn.classList.add(\"btn\", \"black-border\");\r\n  continueShoppingBtn.innerText = \"Zavt\"; //jazyk\r\n  continueShoppingBtn.addEventListener(\"click\", () => {\r\n    shoptet.modal.close();\r\n  });\r\n  const extraStep = advancedOrder.querySelector(\".extra.step\");\r\n  if (extraStep) extraStep.prepend(continueShoppingBtn);\r\n\r\n  const deliveryStrongs = advancedOrder.querySelectorAll(\r\n    \".extra.delivery strong\"\r\n  );\r\n  if (deliveryStrongs.length) {\r\n    deliveryStrongs.forEach((strong) => {\r\n      if (strong.innerText === \"ZDARMA\") strong.classList.add(\"for-free\"); //jazyk\r\n    });\r\n  }\r\n  const suggestion = advancedOrder.querySelector(\".advanced-order-suggestion\");\r\n  if (suggestion) {\r\n    suggestion.innerHTML = \"Mete jet pidat ...\";\r\n  }\r\n  const img = advancedOrder.querySelector(\".ao-product .ao-image img\");\r\n  if (img) {\r\n    img.src = img.getAttribute(\"data-src\");\r\n  }\r\n\r\n  const advancedOrderProducts = $(\".colorbox-html-content #products\");\r\n  if (advancedOrderProducts.length) {\r\n    advancedOrderProducts.slick(productsSlickSettings);\r\n  }\r\n});\r\n\r\n// EMPTY CART\r\n\r\nconst handleEmptyCart = () => {\r\n  const emptyCart = document.querySelector(\".cart-inner.cart-empty\");\r\n  if (!emptyCart) return;\r\n  document.body.classList.add(\"custom-empty-cart\");\r\n  const cartHeading = emptyCart.querySelector(\".cart-heading\");\r\n  const cartText = document.createElement(\"p\");\r\n  cartText.classList.add(\"narrow-custom\", \"text-center\");\r\n  const prazdnyKosikPerexText = window.prazdnyKosikPerex.find(\r\n    (item) => item.language === shoptetLang\r\n  ).text;\r\n  cartText.innerText = prazdnyKosikPerexText;\r\n  if (cartHeading) {\r\n    const prazdnyKosikNadpisText = window.prazdnyKosikNadpis.find(\r\n      (item) => item.language === shoptetLang\r\n    ).text;\r\n    cartHeading.innerText = prazdnyKosikNadpisText;\r\n    cartHeading.classList.add(\"homepage-group-title\");\r\n    cartHeading.parentElement.insertBefore(\r\n      cartText,\r\n      cartHeading.nextElementSibling\r\n    );\r\n  }\r\n  const cartEmail = emptyCart.querySelector(\".mail\");\r\n  const cartPhone = emptyCart.querySelector(\".tel\");\r\n  const cartContact = document.createElement(\"ul\");\r\n  cartContact.classList.add(\"cart-contact\", \"contact-box\");\r\n  if (cartPhone) {\r\n    cartContact.appendChild(cartPhone.parentElement);\r\n  }\r\n  if (cartEmail) {\r\n    const emailPerexText = window.emailPerexText.find(\r\n      (item) => item.language === shoptetLang\r\n    ).text;\r\n    const emailPerex = document.createElement(\"span\");\r\n    emailPerex.innerText = emailPerexText;\r\n    cartEmail.parentElement.insertBefore(\r\n      emailPerex,\r\n      cartEmail.nextElementSibling\r\n    );\r\n    cartContact.appendChild(cartEmail.parentElement);\r\n  }\r\n  emptyCart.appendChild(cartContact);\r\n\r\n  // Pidn btn holder s dvma odkazy\r\n  const btnHolder = document.createElement(\"div\");\r\n  btnHolder.classList.add(\"btn-holder\", \"text-center\");\r\n\r\n  const primaryButton = window.primaryButtonText.find(\r\n    (item) => item.language === shoptetLang\r\n  );\r\n  const secondaryButton = window.secondaryButtonText.find(\r\n    (item) => item.language === shoptetLang\r\n  );\r\n\r\n  btnHolder.innerHTML = `\r\n\t\t  <a href=\"${primaryButton.url}\" class=\"btn btn-primary\">${primaryButton.text}</a>\r\n\t\t  <a href=\"${secondaryButton.url}\" class=\"btn secondary\">${secondaryButton.text}</a>\r\n\t  `;\r\n\r\n  emptyCart.appendChild(btnHolder);\r\n\r\n  const emptyCartHeader = document.querySelector(\".cart-header-wrapper\");\r\n  if (emptyCartHeader) emptyCartHeader.remove();\r\n};\r\n\r\nconst emptyCart = document.querySelector(\".cart-inner.cart-empty\");\r\nif (emptyCart) handleEmptyCart();\r\n\r\ndocument.addEventListener(\"ShoptetDOMCartContentLoaded\", () => {\r\n  if (!dataLayer[0].shoptet.cart.length) handleEmptyCart();\r\n});\r\n\r\nwindow.addEventListener(\"beforeunload\", function (event) {\r\n  window.sessionStorage.removeItem(\"openedFilters\");\r\n});\r\n\r\n// const backToTop = document.querySelector('#back-to-top')\r\n// if (backToTop) {\r\n// \tbackToTop.addEventListener('click', (e) => {\r\n// \t\te.preventDefault()\r\n// \t\twindow.scrollTo(0, 0)\r\n// \t})\r\n// }\r\n\r\nconst handleFooter = async () => {\r\n  // const socialIcons = document.querySelector('.footer-links-icons')\r\n  // const contactBanner = document.querySelector('.custom-footer__contact')\r\n  // if (socialIcons && contactBanner) contactBanner.appendChild(socialIcons)\r\n  const cookies = document.querySelector(\".js-cookies-settings\");\r\n  if (cookies) {\r\n  }\r\n  const signature = document.querySelector(\"#signature\");\r\n  if (signature) {\r\n    const mirandaMediaLink = `\r\n\t  <span>Created by </span>\r\n\t\t\t  <a class=\"company\" href=\"https://www.mirandamedia.cz/shoptetnamiru\" target=\"_blank\">\r\n\t\t\t\t  <img class=\"company__logo\" src=\"/user/documents/upload/Obrazky/miranda.svg\">\r\n\t\t\t\t  MirandaMedia Group s.r.o.\r\n\t\t\t  </a>\r\n\t\t<span> on the platform </span>\r\n\t\t  `;\r\n    signature.insertAdjacentHTML(\"beforeend\", mirandaMediaLink);\r\n\r\n    const title = signature.querySelector(\".title\");\r\n    if (title) {\r\n      title.innerHTML =\r\n        '<img class=\"company__logo\" src=\"/user/documents/upload/Obrazky/shoptet.png\">';\r\n    }\r\n  }\r\n  const footerHeadings = document.querySelectorAll(\r\n    \".banner-wrapper > span > .block > h4\"\r\n  );\r\n  footerHeadings.forEach((heading) => {\r\n    heading.classList.add(\"clickable\");\r\n    heading.addEventListener(\"click\", () => {\r\n      heading.closest(\".banner-wrapper\").classList.toggle(\"active\");\r\n    });\r\n  });\r\n  const footerCategories = document.querySelector(\r\n    \".custom-footer__categories > h4\"\r\n  );\r\n  if (footerCategories) {\r\n    footerCategories.classList.add(\"clickable\");\r\n    footerCategories.addEventListener(\"click\", () => {\r\n      footerCategories\r\n        .closest(\".custom-footer__categories\")\r\n        .classList.toggle(\"active\");\r\n    });\r\n  }\r\n\r\n  const siteName = document.querySelector(\"#footer .site-name\");\r\n  const customFooter = document.querySelector(\"#footer .custom-footer\");\r\n  if (customFooter) {\r\n    customFooter.insertBefore(siteName, customFooter.firstChild);\r\n  }\r\n  const customFooterContact = document.querySelector(\r\n    \"#footer .custom-footer__contact\"\r\n  );\r\n  const customFooterContactPlaceholder = document.querySelector(\r\n    \"#footer .contacts-placeholder\"\r\n  );\r\n  if (customFooterContact && customFooterContactPlaceholder) {\r\n    customFooterContactPlaceholder.append(customFooterContact);\r\n  }\r\n\r\n  // const footeSiteNameImg = document.querySelector(\"#footer .site-name img\");\r\n  // if (footeSiteNameImg) {\r\n  //   console.log(footeSiteNameImg.src);\r\n  //   setInterval(() => {\r\n  //     footeSiteNameImg.src =\r\n  //       \"/user/documents/upload/newDesign/icons/logo-white.png\";\r\n  //   }, 1000);\r\n  // }\r\n  // const socialBanner = document.querySelector('.social-wrapper')\r\n  // if (socialBanner) {\r\n  // \tsiteName.appendChild(socialBanner)\r\n  // }\r\n  const footer = document.querySelector(\"#footer\");\r\n  const instagram = document.querySelector(\".custom-footer__instagram \");\r\n\r\n  const benefitsWrapper = document.querySelector(\".benefitBanner\");\r\n  if (benefitsWrapper) {\r\n    footer.insertAdjacentElement(\"beforebegin\", benefitsWrapper);\r\n  }\r\n  if (instagram) {\r\n    const h4 = instagram.querySelector(\"h4\");\r\n    const text = instagramTitle.find(\r\n      (item) => item.language === shoptetLang\r\n    )?.text;\r\n    if (h4 && text) h4.innerHTML = text;\r\n    footer.insertAdjacentElement(\"beforebegin\", instagram);\r\n  }\r\n\r\n  const zastupce = document.querySelector(\".zastupce\");\r\n  if (zastupce && footer) {\r\n    footer.parentNode.insertBefore(zastupce, footer);\r\n  }\r\n};\r\nhandleFooter();\r\n\r\n// const shoptetPage = dataLayer[0].shoptet.pageType\r\n// const shoptetLang = dataLayer[0].shoptet.language\r\n\r\n// const handleHomepageProducts = async () => {\r\n// \tconst productBlocks = document.querySelectorAll('.products-block');\r\n// \tif (productBlocks.length > 0) {\r\n// \t\t$(productBlocks[0]).slick(productsSlickSettings);\r\n// \t}\r\n\r\n// }\r\nif (shoptetPage === \"homepage\") {\r\n  const productsSelectors = () => {\r\n    const allProducts = document.querySelectorAll(\".products\");\r\n\r\n    if (!allProducts) return;\r\n\r\n    const productsIDs = [];\r\n\r\n    for (const products of allProducts) {\r\n      // if (index === 0) continue;\r\n\r\n      productsIDs.push(`#${products.id}`);\r\n    }\r\n    // console.log(productsIDs)\r\n    return productsIDs;\r\n  };\r\n\r\n  swiperize({\r\n    containers: [...productsSelectors()],\r\n    slide: [swiperize.spreadClass(productsSelectors(), \".product\")],\r\n    customOptions: {\r\n      fullscreen: false,\r\n      infinity: true,\r\n      dots: true,\r\n      arrows: true,\r\n      scrollbar: false,\r\n      lazyPrevNext: true,\r\n      helper: true, // Pidna nov monost\r\n    },\r\n\r\n    swiperOptions: {\r\n      direction: \"horizontal\",\r\n      speed: 800,\r\n      slidesPerView: 1.4,\r\n      spaceBetween: 16,\r\n      breakpoints: {\r\n        1200: {\r\n          slidesPerView: 6,\r\n          spaceBetween: 24,\r\n        },\r\n        1100: {\r\n          slidesPerView: 5,\r\n          spaceBetween: 24,\r\n        },\r\n        1024: {\r\n          slidesPerView: 4,\r\n          spaceBetween: 24,\r\n        },\r\n        768: {\r\n          slidesPerView: 3,\r\n          spaceBetween: 20,\r\n        },\r\n        500: {\r\n          slidesPerView: 2,\r\n          spaceBetween: 16,\r\n        },\r\n      },\r\n    },\r\n  });\r\n\r\n  function homePageSections() {\r\n    const body = document.querySelector(\"body\");\r\n    let insertAfterElement = document.querySelector(\".before-carousel\");\r\n    const bannersRow = document.querySelector(\".banners-row\");\r\n    const colBanner = bannersRow?.querySelector(\".next-to-carousel-banners\");\r\n\r\n    let newBanners;\r\n    if (colBanner) {\r\n      newBanners = document.createElement(\"div\");\r\n      newBanners.classList.add(\"new-banners\", \"container\");\r\n\r\n      colBanner.classList.remove(\"col-sm-4\");\r\n\r\n      newBanners.appendChild(colBanner);\r\n\r\n      if (insertAfterElement) {\r\n        insertAfterElement.insertAdjacentElement(\"afterend\", newBanners);\r\n      } else if (bannersRow) {\r\n        bannersRow.insertAdjacentElement(\"afterend\", newBanners);\r\n      }\r\n    }\r\n\r\n    const headingElements = document.querySelectorAll(\".homepage-group-title\");\r\n\r\n    // Najdeme prvek pro 3. sekci (middle body bannery)\r\n    const thirdInsertPoint =\r\n      document.querySelector(\".middle-banners-wrapper\") ||\r\n      document.querySelector(\".body-banners\");\r\n\r\n    const sections = [];\r\n\r\n    headingElements.forEach((heading, index) => {\r\n      const splitClass = heading.className.split(\"homepage-products-heading-\");\r\n      if (splitClass.length > 1) {\r\n        const headingNumber = splitClass[1].split(\" \")[0];\r\n        const productElement = document.querySelector(\r\n          `.homepage-products-${headingNumber}`\r\n        );\r\n\r\n        if (productElement) {\r\n          const section = document.createElement(\"section\");\r\n          section.classList.add(\r\n            \"product-section\",\r\n            `product-section-${headingNumber}`\r\n          );\r\n\r\n          if (index === 0) {\r\n            section.classList.add(\"product-section-bg\");\r\n          }\r\n\r\n          const container = document.createElement(\"div\");\r\n          container.classList.add(\"container\");\r\n          section.appendChild(container);\r\n          container.appendChild(heading);\r\n          container.appendChild(productElement);\r\n\r\n          sections.push(section);\r\n        }\r\n      }\r\n    });\r\n\r\n    // Vkldn jednotlivch sekc podle pravidel\r\n    if (sections.length > 0) {\r\n      const firstInsertPoint = insertAfterElement || bannersRow;\r\n\r\n      // 1. sekce\r\n      firstInsertPoint?.insertAdjacentElement(\"afterend\", sections[0]);\r\n\r\n      // 2. sekce\r\n      if (sections[1] && newBanners) {\r\n        newBanners.insertAdjacentElement(\"afterend\", sections[1]);\r\n      }\r\n\r\n      // 3. sekce\r\n      if (sections[2] && thirdInsertPoint) {\r\n        thirdInsertPoint.insertAdjacentElement(\"afterend\", sections[2]);\r\n      }\r\n\r\n      // Dal sekce za pedchoz\r\n      for (let i = 3; i < sections.length; i++) {\r\n        sections[i - 1].insertAdjacentElement(\"afterend\", sections[i]);\r\n      }\r\n    }\r\n\r\n    // Pesun benefit banneru\r\n    const benefitBanner = document.querySelector(\".benefitBanner\");\r\n    if (benefitBanner) {\r\n      if (window.dataLayer?.[0]?.shoptet?.pageType === \"homepage\") {\r\n        const firstProductsBlock = document.querySelector(\".banners-row\");\r\n        if (firstProductsBlock) {\r\n          firstProductsBlock.appendChild(benefitBanner);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  homePageSections();\r\n\r\n  if (window.innerWidth >= 768) {\r\n    const handleSectionLinks = () => {\r\n      const productSections = document.querySelectorAll(\".product-section\");\r\n\r\n      productSections.forEach((section, index) => {\r\n        const container = section.querySelector(\".container\");\r\n        const heading = container.querySelector(\".homepage-group-title\");\r\n\r\n        const languageGroup = links.find(\r\n          (group) => group.language === shoptetLang\r\n        );\r\n\r\n        if (languageGroup) {\r\n          const link = languageGroup.links.find((link) => link.index === index);\r\n          if (link) {\r\n            const button = document.createElement(\"a\");\r\n            button.classList.add(\"btn\", \"btn-primary\");\r\n            button.href = link.url;\r\n            button.textContent = `${link.name}`;\r\n\r\n            if (heading) {\r\n              // Vytvoen obalovacho divu\r\n              const wrapper = document.createElement(\"div\");\r\n              wrapper.classList.add(\"upper\");\r\n\r\n              // Pesun nadpisu do wrapperu\r\n              wrapper.appendChild(heading);\r\n              wrapper.appendChild(button);\r\n\r\n              // Vloen wrapperu na zatek kontejneru\r\n              container.insertAdjacentElement(\"afterbegin\", wrapper);\r\n            } else {\r\n              // Pokud heading neexistuje, vlo tlatko rovnou\r\n              container.appendChild(button);\r\n            }\r\n          }\r\n        }\r\n      });\r\n    };\r\n\r\n    // Voln funkce\r\n    handleSectionLinks();\r\n  }\r\n  document.addEventListener(\"click\", function (e) {\r\n    const h4 = e.target.closest(\".single-faq > h4\");\r\n    if (h4) {\r\n      const singleFaq = h4.closest(\".single-faq\");\r\n      if (singleFaq) {\r\n        singleFaq.classList.toggle(\"active\");\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction addEmptySlides(selector, rules) {\r\n  const swiperWrapper = document.querySelector(`${selector} .swiper-wrapper`);\r\n  if (swiperWrapper) {\r\n    rules.sort((a, b) => b.width - a.width);\r\n    const applicableRule = rules.find((rule) => window.innerWidth > rule.width);\r\n\r\n    if (applicableRule) {\r\n      for (let i = 0; i < applicableRule.emptySlidesCount; i++) {\r\n        const emptySlide = document.createElement(\"div\");\r\n        emptySlide.classList.add(\"swiper-slide\");\r\n        swiperWrapper.appendChild(emptySlide);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// ANIMACE\r\nlet target = document.querySelectorAll(\".products-block\");\r\nconst target2 = document.querySelector(\".top-categories-grid\");\r\nfunction handleIntersection(entries) {\r\n  entries.map((entry, index) => {\r\n    entry.target.style.removeProperty(\"--animation-delay\");\r\n    entry.target.setAttribute(\r\n      \"style\",\r\n      entry.target.getAttribute(\"style\")\r\n        ? entry.target.getAttribute(\"style\") + `--animation-delay: ${index}`\r\n        : `--animation-delay: ${index}`\r\n    );\r\n    // entry.target.setAttribute('animation-delay', `${index}`)\r\n    if (entry.isIntersecting) {\r\n      entry.target.classList.add(\"visible\");\r\n    }\r\n  });\r\n}\r\nconst observer = new IntersectionObserver(handleIntersection);\r\nconst observer2 = new IntersectionObserver(handleIntersection);\r\nif (target.length) {\r\n  target.forEach((item) => {\r\n    item.classList.add(\"animation\");\r\n    const subtargets = item.querySelectorAll(\".product\");\r\n    subtargets.forEach((subtarget) => {\r\n      observer.observe(subtarget);\r\n    });\r\n  });\r\n}\r\ndocument.addEventListener(\"ShoptetDOMPageMoreProductsLoaded\", () => {\r\n  if (target.length) {\r\n    target.forEach((item) => {\r\n      item.classList.add(\"animation\");\r\n      const subtargets = item.querySelectorAll(\".product\");\r\n      subtargets.forEach((subtarget) => {\r\n        observer.observe(subtarget);\r\n      });\r\n    });\r\n  }\r\n});\r\nif (target2) {\r\n  target2.classList.add(\"animation\");\r\n  const subtargets = target2.querySelectorAll(\".category\");\r\n  subtargets.forEach((subtarget) => {\r\n    observer2.observe(subtarget);\r\n  });\r\n}\r\n\r\n// const handleCustomDetail = () => {\r\n// \t// Najt .basic-description a obalit obsah divem .content-wrapper\r\n// \tconst basicDescription = document.querySelector('.basic-description')\r\n// \tif (basicDescription) {\r\n// \t\tconst contentWrapper = document.createElement('div')\r\n// \t\tcontentWrapper.classList.add('content-wrapper')\r\n\r\n// \t\twhile (basicDescription.firstChild) {\r\n// \t\t\tcontentWrapper.appendChild(basicDescription.firstChild)\r\n// \t\t}\r\n\r\n// \t\t// Najt pedposledn .p-thumbnail img a vytvoit img element\r\n// \t\tconst thumbnails = document.querySelectorAll('.p-thumbnail img')\r\n// \t\tif (thumbnails.length) {\r\n// \t\t\tconst img = document.createElement('img')\r\n// \t\t\tconst imgSrc = thumbnails[thumbnails.length - 2].getAttribute('data-src')\r\n// \t\t\tconst origSrc = imgSrc.replace('/related/', '/orig/')\r\n// \t\t\timg.src = origSrc\r\n// \t\t\timg.classList.add('side-detail-img')\r\n// \t\t\tbasicDescription.appendChild(img)\r\n// \t\t}\r\n\r\n// \t\tbasicDescription.appendChild(contentWrapper)\r\n// \t}\r\n\r\n// \t// Najt .extended-description .detail-parameters a pidat tdu .content-wrapper\r\n\r\n// \tconst detailParameters = document.querySelector('.extended-description')\r\n// \tif (detailParameters) {\r\n// \t\tconst contentWrapper = document.createElement('div')\r\n// \t\tcontentWrapper.classList.add('content-wrapper')\r\n\r\n// \t\twhile (detailParameters.firstChild) {\r\n// \t\t\tcontentWrapper.appendChild(detailParameters.firstChild)\r\n// \t\t}\r\n\r\n// \t\t// Najt prvn h3 a pepsat jeho innerHTML\r\n// \t\tconst firstH3 = detailParameters.querySelector('h3')\r\n// \t\tif (firstH3) {\r\n// \t\t\tconst specificationText = window.specificationTabText.find(\r\n// \t\t\t\titem => item.language === shoptetLang\r\n// \t\t\t).text\r\n// \t\t\tfirstH3.innerHTML = specificationText\r\n// \t\t}\r\n\r\n// \t\t// Najt posledn .p-thumbnail img a vytvoit img element\r\n// \t\tconst thumbnails = document.querySelectorAll('.p-thumbnail img')\r\n// \t\tif (thumbnails.length) {\r\n// \t\t\tconst img = document.createElement('img')\r\n// \t\t\tconst imgSrc = thumbnails[thumbnails.length - 1].getAttribute('data-src')\r\n// \t\t\tconst origSrc = imgSrc.replace('/related/', '/orig/')\r\n// \t\t\timg.src = origSrc\r\n// \t\t\timg.classList.add('side-detail-img')\r\n// \t\t\tdetailParameters.appendChild(img)\r\n// \t\t}\r\n\r\n// \t\tdetailParameters.appendChild(contentWrapper)\r\n// \t}\r\n// \tconst firstH3 = document.querySelector('.extended-description h3')\r\n// \tif (firstH3) {\r\n// \t\tconst specificationText = window.specificationTabText.find(\r\n// \t\t\titem => item.language === shoptetLang\r\n// \t\t).text\r\n// \t\tfirstH3.innerHTML = specificationText\r\n// \t}\r\n// \tconst productVideos = document.querySelector('#productVideos')\r\n// \tif (productVideos) {\r\n// \t\tconst videoText = basicDescription.querySelector('.video-popis')\r\n// \t\tconst heading = productVideos.querySelector('h3') // Pedpokldm, e nadpis je h3, upravte podle poteby\r\n// \t\tconst iframe = productVideos.querySelector('iframe')\r\n// \t\tif (iframe) {\r\n// \t\t\tiframe.classList.add('side-detail-img')\r\n// \t\t}\r\n// \t\tif (heading) {\r\n// \t\t\tconst contentWrapper = document.createElement('div')\r\n// \t\t\tcontentWrapper.classList.add('content-wrapper')\r\n\r\n// \t\t\tcontentWrapper.appendChild(heading)\r\n\r\n// \t\t\tif (videoText) {\r\n// \t\t\t\tcontentWrapper.appendChild(videoText)\r\n// \t\t\t}\r\n\r\n// \t\t\tproductVideos.insertBefore(contentWrapper, productVideos.firstChild)\r\n// \t\t}\r\n// \t}\r\n// }\r\n\r\n// if (shoptetPage === 'productDetail') handleCustomDetail()\r\n\r\nif (window.innerWidth < 768) {\r\n  const topNavigationBarMenu = document.querySelector(\r\n    \".top-navigation-bar-menu\"\r\n  );\r\n  const navigationIn = document.querySelector(\"#navigation .navigation-in\");\r\n\r\n  if (topNavigationBarMenu && navigationIn) {\r\n    navigationIn.appendChild(topNavigationBarMenu);\r\n  }\r\n}\r\n\r\nfunction smoothScrollTo(target, offset = -150, duration = 700) {\r\n  const targetElement = document.querySelector(target);\r\n  if (targetElement) {\r\n    const targetPosition =\r\n      targetElement.getBoundingClientRect().top + window.pageYOffset - offset;\r\n    window.scrollTo({\r\n      top: targetPosition,\r\n      behavior: \"smooth\",\r\n    });\r\n  }\r\n}\r\n\r\n// Pidn event listeneru pomoc va funkce `on`\r\non(\"click\", \".shp-tab-link\", function (e) {\r\n  const target = this.getAttribute(\"href\");\r\n  if (document.querySelector(target)) {\r\n    smoothScrollTo(target, 200);\r\n  }\r\n});\r\nif (shoptetPage === \"homepage\") {\r\n  document.addEventListener(\"DOMContentLoaded\", function () {\r\n    const swiper1 = new Swiper(\".swiper-partners\", {\r\n      slidesPerView: 1.8,\r\n      spaceBetween: 0,\r\n      speed: 800,\r\n      loop: true,\r\n      watchSlidesProgress: true,\r\n      autoplay: {\r\n        delay: 7000,\r\n        disableOnInteraction: false,\r\n      },\r\n      breakpoints: {\r\n        480: {\r\n          slidesPerView: 2,\r\n          spaceBetween: 24,\r\n        },\r\n        768: {\r\n          slidesPerView: 3,\r\n          spaceBetween: 24,\r\n        },\r\n        992: {\r\n          slidesPerView: 4,\r\n          spaceBetween: 24,\r\n        },\r\n        1124: {\r\n          slidesPerView: 5,\r\n          spaceBetween: 24,\r\n        },\r\n        1200: {\r\n          slidesPerView: 6,\r\n          spaceBetween: 24,\r\n        },\r\n      },\r\n      navigation: {\r\n        nextEl: \".partners-next\",\r\n        prevEl: \".partners-prev\",\r\n      },\r\n      pagination: {\r\n        el: \".partners-pagination\",\r\n        clickable: true,\r\n      },\r\n      on: {\r\n        init: function () {\r\n          this.el.style.opacity = \"1\";\r\n        },\r\n      },\r\n    });\r\n  });\r\n}\r\n\r\n// document.addEventListener('DOMContentLoaded', function () {\r\n//   const amountInput = document.querySelector('input[name=\"amount\"]');\r\n//   if (amountInput) {\r\n//     amountInput.step = '0.01';\r\n//     amountInput.min = '0.01';\r\n//     amountInput.setAttribute(\"data-decimals\", \"2\");\r\n//   }\r\n//   shoptet.config.documentPriceDecimalPlaces = \"2\";\r\n// });\r\n\r\n// setTimeout(() => {\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  const productsSmallNew = document.querySelectorAll(\".product\");\r\n  if (productsSmallNew.length > 0) {\r\n    productsSmallNew.forEach((product) => {\r\n      const addToCartButton = product.querySelector(\".add-to-cart-button\");\r\n      if (addToCartButton) {\r\n        const form = product.querySelector(\"form.pr-action\");\r\n        const alreadyExists = form?.querySelector(\".quantity\");\r\n\r\n        if (form && !alreadyExists) {\r\n          const valueWrapper = document.createElement(\"div\");\r\n          valueWrapper.classList.add(\"quantity\");\r\n          form.insertBefore(valueWrapper, form.firstChild);\r\n          const decrease = document.createElement(\"div\");\r\n          decrease.classList.add(\"decrease-2\");\r\n\r\n          const input = document.createElement(\"input\");\r\n          input.setAttribute(\"type\", \"number\");\r\n          input.setAttribute(\"value\", \"1\");\r\n          input.classList.add(\"amount\");\r\n          input.setAttribute(\"min\", \"1\");\r\n          input.setAttribute(\"autocomplete\", \"off\");\r\n          input.classList.add(\"amount-input\");\r\n\r\n          const increase = document.createElement(\"div\");\r\n          increase.classList.add(\"increase-2\");\r\n\r\n          valueWrapper.appendChild(decrease);\r\n          valueWrapper.appendChild(input);\r\n          valueWrapper.appendChild(increase);\r\n\r\n          // Vloit na pln prvn msto ve formu\r\n\r\n          // Pidn poslucha pro konkrtn tlatka tohoto produktu\r\n          increase.addEventListener(\"click\", (e) => {\r\n            console.log(\"Increase clicked\");\r\n            e.preventDefault();\r\n            input.value = parseInt(input.value) + 1;\r\n            updateHiddenInputValue(input.value);\r\n          });\r\n\r\n          decrease.addEventListener(\"click\", (e) => {\r\n            e.preventDefault();\r\n            input.value = parseInt(input.value) - 1;\r\n            if (parseInt(input.value) < 1) {\r\n              input.value = 1;\r\n            }\r\n            updateHiddenInputValue(input.value);\r\n          });\r\n\r\n          function updateHiddenInputValue(value) {\r\n            const hiddenInput = form.querySelector(\r\n              'input[type=\"hidden\"][name=\"amount\"]'\r\n            );\r\n            if (hiddenInput) {\r\n              hiddenInput.value = value;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n});\r\n// }, 1000);\r\n\r\nif (shoptetPage === \"productDetail\") {\r\n  const endpoint = (baseURL, params) => {\r\n    const url = new URL(baseURL);\r\n\r\n    for (let i = 0; i < params.length; i += 2) {\r\n      url.searchParams.append(params[i], params[i + 1]);\r\n    }\r\n\r\n    return url.toString();\r\n  };\r\n\r\n   const createVariant = (data) => {\r\n      const variant = document.createElement(\"a\");\r\n      variant.classList.add(\"variant\");\r\n      variant.href = data.url;\r\n  \r\n      // Nastav barvu dostupnosti pokud je \"Skladem\"\r\n      let availabilityStyle = \"\";\r\n      if (data.availability && data.availability.trim().toLowerCase() === \"skladem\") {\r\n          availabilityStyle = 'style=\"color: #39c09f\"';\r\n      }\r\n  \r\n      variant.innerHTML = `\r\n          <div class=\"variant-image\">\r\n              <img src=\"${data.image}\">\r\n          </div>\r\n          <span class=\"variant-name\">${data.name}</span>\r\n          <span class=\"variant-availability\" ${availabilityStyle}>${data.availability}</span>\r\n          <span class=\"variant-price\">${data.price}</span>\r\n      `;\r\n  \r\n      return variant;\r\n  };\r\n\r\n  const fetchVariants = async () => {\r\n    try {\r\n      const variantsEndpoint = endpoint(\r\n        \"https://renomag-stage.axfone.eu/variants\",\r\n        [\"guid\", getShoptetDataLayer(\"product\").guid]\r\n      );\r\n\r\n      const response = await fetch(variantsEndpoint);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to fetch variants\");\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      const variantsWrapper = document.createElement(\"div\");\r\n      variantsWrapper.classList.add(\"variants-wrapper\");\r\n\r\n      const variantsBlockFragment = document.createDocumentFragment();\r\n\r\n      for (const variantData of data.data) {\r\n        const variant = createVariant({\r\n          url: variantData.url,\r\n          image: variantData.image,\r\n          name: variantData.name, //  pidej tento dek\r\n          availability: variantData.availability,\r\n          price: variantData.price_with_vat,\r\n        });\r\n\r\n        variantsBlockFragment.appendChild(variant);\r\n      }\r\n\r\n      variantsWrapper.appendChild(variantsBlockFragment);\r\n\r\n      const infoWrapper = document.querySelector(\".p-info-wrapper\");\r\n      infoWrapper.appendChild(variantsWrapper);\r\n    } catch (error) {\r\n      console.error(\"Error fetching product variants:\", error);\r\n    }\r\n  };\r\n\r\n  fetchVariants();\r\n}\r\n"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","from","isArray","_arrayLikeToArray","_createForOfIteratorHelper","_n","F","s","next","toString","slice","constructor","name","test","moveElement","elementSelector","targetSelectors","element","document","querySelector","footer","console","error","concat","moved","_iterator","_step","targetSelector","target","insertAdjacentElement","err","on","eventType","selector","callback","addEventListener","targetElement","matches","preventDefault","parentElement","splitMenu","menuWrapper","setTimeout","menuItems","querySelectorAll","menuHelper","menuWrapperStyle","window","getComputedStyle","forEach","item","offsetRight","offsetLeft","offsetWidth","itemInHelper","id","classList","clientWidth","parseFloat","paddingRight","remove","add","shoptet","menu","handleCarousel","carousel","observer","MutationObserver","mutationList","currentItem","mutation","className","actualIndex","indexOf","dotsList","dot","dotsCounter","createElement","index","dotEl","appendChild","targetItem","targetItemMedia","tagName","toLowerCase","src","getAttribute","sourceElement","load","observe","attributes","attributeFilter","shoptetPage","handleFlags","product","flagsDefault","flagsExtra","handleTextLayout","priceStandard","prices","pDesc","pInIn","availability","availabilitySpan","pricesFinal","priceAditional","addToCartButton","pCode","button","style","visibility","image","starsRating","ratingValue","allStars","star","idx","display","ratingSpan","textContent","products","mmAllProducts","contains","footerBilling","footerBottom","footerGlobal","footerBottomWrapper","insertBefore","nextElementSibling","signature","platebniMetodyEl","alt","createShpTabLink","text","anchor","shpTabLi","shpTabLink","href","innerHTML","body","pDetailTabs","tabContent","customMobileSlider","swiperize","containers","slide","customOptions","fullscreen","infinity","dots","arrows","scrollbar","lazyPrevNext","swiperOptions","direction","speed","spaceBetween","slidesPerView","ratingTab","ratingTabHeading","ratingTitleObj","ratingTitle","find","language","shoptetLang","prepend","ratingButton","discusionWrapper","discussionTabHeading","discussionTitleObj","discussionTitle","relatedFiles","relatedFilesHeading","relatedFilesTitleObj","relatedFilesTitle","relatedProducts","relatedProductsHeading","voteWrappers","voteWrapper","voteWrapperWrapper","addComentButtons","descInner","descH3","log","titleObj","detailTitle","relatedProductsTitleObj","relatedProductsTitle","innerText","titleText","relatedProductsCount","productContent","relatedProductsTab","shpTabsWrapper","wholeProd","descriptionInner","wrapper","parentNode","swiperWrapper","breakpoints","alternativeProductsTabLink","alternativeProducts","alternativeProductsHeading","alternativeNadpisy","alternativeNadpis","holder","firstChild","parametersTabContentH3","parametersTitleObj","parametersTitle","firstRow","firstTh","firstTd","paramTitleObj","parametersParametr","paramTextObj","parametersParametrText","shpTabLinks","link","removeAttribute","replace","trim","targetNode","config","childList","subtree","mutationsList","_iterator2","_step2","_loop","type","hiddenLinks","shpTabsRow","shpTabs","tab","handleCart","pageHeader","cartHeader","cartHeaderHelper","search","headerTop","continueInCart","_window$cartContinueB","buttonText","cartContinueBtn","cartHeaderWrapper","sidebarCart","backLink","extraDelivery","dataLayer","cartInfo","leftToFreeShipping","priceLeft","overallWrapper","cartFooter","cartMail","cartPhone","sidebarNextStep","orderSummary","nextStep","cartRow","sidebarConsents","summaryItemPrice","consent","innerWidth","backHolder","backHold","paymentInfoTooltips","tooltip","handleFreeRecapitulation","recapItemPrices","price","toUpperCase","includes","footerCheck","cartProjectMail","cartProjectPhone","orderingProcessFooter","securePaymentText","respondTimeText","phoneTimeObj","projectPhoneTime","orderingProcessFooterPhoneWrapper","orderingProcessFooterMailWrapper","clonedPhone","cloneNode","phoneElement","clonedMail","mailElement","productsInCart","productSKU","productName","productSKUEl","pQuantity","pName","mainLink","quantityHtml","insertAdjacentHTML","cartSummary","box","upperSummaryReayl","upperSummary","cartContentSummary","cartInner","h4","discountForm","_extraGiftTitles$find","extraGiftTitles","discountCoupon","freeGift","h4Gift","priceHolder","priceWrapper","shipping","nextStepH","cartH2","h2","_itemsCartTitle$find","itemsCartTitle","row","stepBack","basicInformations","stepBackTextObj","stepBackText","checkoutContent","backHomepageObj","backHomepageBtn","backHomepageLink","url","shippingTitle","shippingTitleObj","deliveryTitle","paymentTitleObj","paymentTitle","coInformation","loginWrapper","loginButton","stepBackToShippingPayment","priceFinal","currencyLabel","currencyInfo","symbol","cartWidgetProducts","productPrice","priceEl","productSinglePrice","cart","filter","code","priceWithVat","productSinglePriceEl","popupCartSummary","popupCartSummaryPriveVAT","String","getNoBillingShippingPrice","withVat","popupCartSummaryPriceNoVAT","withoutVat","popupCartSummaryPriceNoVATNumber","Math","round","cartWidgetProductsWrapper","cartWidgetButton","cartWidgetInner","cartWidgetShipping","priceLeftToFreeShipping","freeShippingBar","freeShippingValue","Number","width","shippingWidgetStrongs","strong","advancedOrder","aoTop","aoTitle","aoProduct","cboxClose","continueShoppingBtn","modal","close","extraStep","deliveryStrongs","suggestion","img","advancedOrderProducts","$","slick","productsSlickSettings","handleEmptyCart","emptyCart","cartHeading","cartText","prazdnyKosikPerexText","prazdnyKosikPerex","prazdnyKosikNadpisText","prazdnyKosikNadpis","cartEmail","cartContact","emailPerexText","emailPerex","btnHolder","primaryButton","primaryButtonText","secondaryButton","secondaryButtonText","emptyCartHeader","event","sessionStorage","removeItem","handleFooter","_ref","_callee","cookies","mirandaMediaLink","title","footerHeadings","footerCategories","siteName","customFooter","customFooterContact","customFooterContactPlaceholder","instagram","benefitsWrapper","_instagramTitle$find","zastupce","_context","heading","closest","toggle","append","instagramTitle","homePageSections","insertAfterElement","bannersRow","colBanner","newBanners","headingElements","thirdInsertPoint","sections","splitClass","split","headingNumber","productElement","section","container","push","firstInsertPoint","benefitBanner","_window$dataLayer","pageType","firstProductsBlock","productsSelectors","allProducts","productsIDs","_iterator3","_step3","spreadClass","helper","handleSectionLinks","productSections","languageGroup","links","group","singleFaq","addEmptySlides","rules","sort","b","applicableRule","rule","emptySlidesCount","emptySlide","target2","handleIntersection","entries","map","entry","removeProperty","setAttribute","isIntersecting","IntersectionObserver","observer2","subtargets","subtarget","topNavigationBarMenu","navigationIn","smoothScrollTo","offset","undefined","duration","targetPosition","getBoundingClientRect","top","pageYOffset","scrollTo","behavior","swiper1","Swiper","loop","watchSlidesProgress","autoplay","delay","disableOnInteraction","navigation","nextEl","prevEl","pagination","el","clickable","init","opacity","productsSmallNew","form","alreadyExists","updateHiddenInputValue","hiddenInput","valueWrapper","decrease","input","increase","parseInt","endpoint","baseURL","params","URL","searchParams","createVariant","data","variant","availabilityStyle","fetchVariants","_ref2","_callee2","variantsEndpoint","response","variantsWrapper","variantsBlockFragment","_iterator4","_step4","variantData","infoWrapper","_t","_context2","getShoptetDataLayer","guid","fetch","ok","Error","json","createDocumentFragment","price_with_vat"],"sourceRoot":""}