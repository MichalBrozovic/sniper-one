{"version":3,"file":"js-script.js","mappings":";;;;;;0BACA,uKAAAA,CAAA,EAAAC,CAAA,EAAAC,CAAA,wBAAAC,MAAA,GAAAA,MAAA,OAAAC,CAAA,GAAAF,CAAA,CAAAG,QAAA,kBAAAC,CAAA,GAAAJ,CAAA,CAAAK,WAAA,8BAAAC,EAAAN,CAAA,EAAAE,CAAA,EAAAE,CAAA,EAAAE,CAAA,QAAAC,CAAA,GAAAL,CAAA,IAAAA,CAAA,CAAAM,SAAA,YAAAC,SAAA,GAAAP,CAAA,GAAAO,SAAA,EAAAC,CAAA,GAAAC,MAAA,CAAAC,MAAA,CAAAL,CAAA,CAAAC,SAAA,UAAAK,mBAAA,CAAAH,CAAA,uBAAAV,CAAA,EAAAE,CAAA,EAAAE,CAAA,QAAAE,CAAA,EAAAC,CAAA,EAAAG,CAAA,EAAAI,CAAA,MAAAC,CAAA,GAAAX,CAAA,QAAAY,CAAA,OAAAC,CAAA,KAAAF,CAAA,KAAAb,CAAA,KAAAgB,CAAA,EAAApB,CAAA,EAAAqB,CAAA,EAAAC,CAAA,EAAAN,CAAA,EAAAM,CAAA,CAAAC,IAAA,CAAAvB,CAAA,MAAAsB,CAAA,WAAAA,EAAArB,CAAA,EAAAC,CAAA,WAAAM,CAAA,GAAAP,CAAA,EAAAQ,CAAA,MAAAG,CAAA,GAAAZ,CAAA,EAAAmB,CAAA,CAAAf,CAAA,GAAAF,CAAA,EAAAmB,CAAA,gBAAAC,EAAApB,CAAA,EAAAE,CAAA,SAAAK,CAAA,GAAAP,CAAA,EAAAU,CAAA,GAAAR,CAAA,EAAAH,CAAA,OAAAiB,CAAA,IAAAF,CAAA,KAAAV,CAAA,IAAAL,CAAA,GAAAgB,CAAA,CAAAO,MAAA,EAAAvB,CAAA,UAAAK,CAAA,EAAAE,CAAA,GAAAS,CAAA,CAAAhB,CAAA,GAAAqB,CAAA,GAAAH,CAAA,CAAAF,CAAA,EAAAQ,CAAA,GAAAjB,CAAA,KAAAN,CAAA,QAAAI,CAAA,GAAAmB,CAAA,KAAArB,CAAA,MAAAQ,CAAA,GAAAJ,CAAA,EAAAC,CAAA,GAAAD,CAAA,YAAAC,CAAA,WAAAD,CAAA,MAAAA,CAAA,MAAAR,CAAA,IAAAQ,CAAA,OAAAc,CAAA,MAAAhB,CAAA,GAAAJ,CAAA,QAAAoB,CAAA,GAAAd,CAAA,QAAAC,CAAA,MAAAU,CAAA,CAAAC,CAAA,GAAAhB,CAAA,EAAAe,CAAA,CAAAf,CAAA,GAAAI,CAAA,OAAAc,CAAA,GAAAG,CAAA,KAAAnB,CAAA,GAAAJ,CAAA,QAAAM,CAAA,MAAAJ,CAAA,IAAAA,CAAA,GAAAqB,CAAA,MAAAjB,CAAA,MAAAN,CAAA,EAAAM,CAAA,MAAAJ,CAAA,EAAAe,CAAA,CAAAf,CAAA,GAAAqB,CAAA,EAAAhB,CAAA,cAAAH,CAAA,IAAAJ,CAAA,aAAAmB,CAAA,QAAAH,CAAA,OAAAd,CAAA,qBAAAE,CAAA,EAAAW,CAAA,EAAAQ,CAAA,QAAAT,CAAA,YAAAU,SAAA,uCAAAR,CAAA,UAAAD,CAAA,IAAAK,CAAA,CAAAL,CAAA,EAAAQ,CAAA,GAAAhB,CAAA,GAAAQ,CAAA,EAAAL,CAAA,GAAAa,CAAA,GAAAxB,CAAA,GAAAQ,CAAA,OAAAT,CAAA,GAAAY,CAAA,MAAAM,CAAA,KAAAV,CAAA,KAAAC,CAAA,GAAAA,CAAA,QAAAA,CAAA,SAAAU,CAAA,CAAAf,CAAA,QAAAkB,CAAA,CAAAb,CAAA,EAAAG,CAAA,KAAAO,CAAA,CAAAf,CAAA,GAAAQ,CAAA,GAAAO,CAAA,CAAAC,CAAA,GAAAR,CAAA,aAAAI,CAAA,MAAAR,CAAA,QAAAC,CAAA,KAAAH,CAAA,YAAAL,CAAA,GAAAO,CAAA,CAAAF,CAAA,WAAAL,CAAA,GAAAA,CAAA,CAAA0B,IAAA,CAAAnB,CAAA,EAAAI,CAAA,UAAAc,SAAA,2CAAAzB,CAAA,CAAA2B,IAAA,SAAA3B,CAAA,EAAAW,CAAA,GAAAX,CAAA,CAAA4B,KAAA,EAAApB,CAAA,SAAAA,CAAA,oBAAAA,CAAA,KAAAR,CAAA,GAAAO,CAAA,eAAAP,CAAA,CAAA0B,IAAA,CAAAnB,CAAA,GAAAC,CAAA,SAAAG,CAAA,GAAAc,SAAA,uCAAApB,CAAA,gBAAAG,CAAA,OAAAD,CAAA,GAAAR,CAAA,cAAAC,CAAA,IAAAiB,CAAA,GAAAC,CAAA,CAAAf,CAAA,QAAAQ,CAAA,GAAAV,CAAA,CAAAyB,IAAA,CAAAvB,CAAA,EAAAe,CAAA,OAAAE,CAAA,kBAAApB,CAAA,IAAAO,CAAA,GAAAR,CAAA,EAAAS,CAAA,MAAAG,CAAA,GAAAX,CAAA,cAAAe,CAAA,mBAAAa,KAAA,EAAA5B,CAAA,EAAA2B,IAAA,EAAAV,CAAA,SAAAhB,CAAA,EAAAI,CAAA,EAAAE,CAAA,QAAAI,CAAA,QAAAS,CAAA,gBAAAV,UAAA,cAAAmB,kBAAA,cAAAC,2BAAA,KAAA9B,CAAA,GAAAY,MAAA,CAAAmB,cAAA,MAAAvB,CAAA,MAAAL,CAAA,IAAAH,CAAA,CAAAA,CAAA,IAAAG,CAAA,SAAAW,mBAAA,CAAAd,CAAA,OAAAG,CAAA,iCAAAH,CAAA,GAAAW,CAAA,GAAAmB,0BAAA,CAAArB,SAAA,GAAAC,SAAA,CAAAD,SAAA,GAAAG,MAAA,CAAAC,MAAA,CAAAL,CAAA,YAAAO,EAAAhB,CAAA,WAAAa,MAAA,CAAAoB,cAAA,GAAApB,MAAA,CAAAoB,cAAA,CAAAjC,CAAA,EAAA+B,0BAAA,KAAA/B,CAAA,CAAAkC,SAAA,GAAAH,0BAAA,EAAAhB,mBAAA,CAAAf,CAAA,EAAAM,CAAA,yBAAAN,CAAA,CAAAU,SAAA,GAAAG,MAAA,CAAAC,MAAA,CAAAF,CAAA,GAAAZ,CAAA,WAAA8B,iBAAA,CAAApB,SAAA,GAAAqB,0BAAA,EAAAhB,mBAAA,CAAAH,CAAA,iBAAAmB,0BAAA,GAAAhB,mBAAA,CAAAgB,0BAAA,iBAAAD,iBAAA,GAAAA,iBAAA,CAAAK,WAAA,wBAAApB,mBAAA,CAAAgB,0BAAA,EAAAzB,CAAA,wBAAAS,mBAAA,CAAAH,CAAA,GAAAG,mBAAA,CAAAH,CAAA,EAAAN,CAAA,gBAAAS,mBAAA,CAAAH,CAAA,EAAAR,CAAA,iCAAAW,mBAAA,CAAAH,CAAA,8DAAAwB,YAAA,YAAAA,aAAA,aAAAC,CAAA,EAAA7B,CAAA,EAAA8B,CAAA,EAAAtB,CAAA;AAAA,SAAAD,oBAAAf,CAAA,EAAAE,CAAA,EAAAE,CAAA,EAAAH,CAAA,QAAAO,CAAA,GAAAK,MAAA,CAAA0B,cAAA,QAAA/B,CAAA,uBAAAR,CAAA,IAAAQ,CAAA,QAAAO,mBAAA,YAAAyB,mBAAAxC,CAAA,EAAAE,CAAA,EAAAE,CAAA,EAAAH,CAAA,aAAAK,EAAAJ,CAAA,EAAAE,CAAA,IAAAW,mBAAA,CAAAf,CAAA,EAAAE,CAAA,YAAAF,CAAA,gBAAAyC,OAAA,CAAAvC,CAAA,EAAAE,CAAA,EAAAJ,CAAA,SAAAE,CAAA,GAAAM,CAAA,GAAAA,CAAA,CAAAR,CAAA,EAAAE,CAAA,IAAA2B,KAAA,EAAAzB,CAAA,EAAAsC,UAAA,GAAAzC,CAAA,EAAA0C,YAAA,GAAA1C,CAAA,EAAA2C,QAAA,GAAA3C,CAAA,MAAAD,CAAA,CAAAE,CAAA,IAAAE,CAAA,IAAAE,CAAA,aAAAA,CAAA,cAAAA,CAAA,mBAAAS,mBAAA,CAAAf,CAAA,EAAAE,CAAA,EAAAE,CAAA,EAAAH,CAAA;AAAA,SAAA4C,mBAAAzC,CAAA,EAAAH,CAAA,EAAAD,CAAA,EAAAE,CAAA,EAAAI,CAAA,EAAAe,CAAA,EAAAZ,CAAA,cAAAD,CAAA,GAAAJ,CAAA,CAAAiB,CAAA,EAAAZ,CAAA,GAAAG,CAAA,GAAAJ,CAAA,CAAAqB,KAAA,WAAAzB,CAAA,gBAAAJ,CAAA,CAAAI,CAAA,KAAAI,CAAA,CAAAoB,IAAA,GAAA3B,CAAA,CAAAW,CAAA,IAAAkC,OAAA,CAAAC,OAAA,CAAAnC,CAAA,EAAAoC,IAAA,CAAA9C,CAAA,EAAAI,CAAA;AAAA,SAAA2C,kBAAA7C,CAAA,6BAAAH,CAAA,SAAAD,CAAA,GAAAkD,SAAA,aAAAJ,OAAA,WAAA5C,CAAA,EAAAI,CAAA,QAAAe,CAAA,GAAAjB,CAAA,CAAA+C,KAAA,CAAAlD,CAAA,EAAAD,CAAA,YAAAoD,MAAAhD,CAAA,IAAAyC,kBAAA,CAAAxB,CAAA,EAAAnB,CAAA,EAAAI,CAAA,EAAA8C,KAAA,EAAAC,MAAA,UAAAjD,CAAA,cAAAiD,OAAAjD,CAAA,IAAAyC,kBAAA,CAAAxB,CAAA,EAAAnB,CAAA,EAAAI,CAAA,EAAA8C,KAAA,EAAAC,MAAA,WAAAjD,CAAA,KAAAgD,KAAA;AAAA,SAAAE,mBAAApD,CAAA,WAAAqD,kBAAA,CAAArD,CAAA,KAAAsD,gBAAA,CAAAtD,CAAA,KAAAuD,2BAAA,CAAAvD,CAAA,KAAAwD,kBAAA;AAAA,SAAAA,mBAAA,cAAAhC,SAAA;AAAA,SAAA8B,iBAAAtD,CAAA,8BAAAC,MAAA,YAAAD,CAAA,CAAAC,MAAA,CAAAE,QAAA,aAAAH,CAAA,uBAAAyD,KAAA,CAAAC,IAAA,CAAA1D,CAAA;AAAA,SAAAqD,mBAAArD,CAAA,QAAAyD,KAAA,CAAAE,OAAA,CAAA3D,CAAA,UAAA4D,iBAAA,CAAA5D,CAAA;AAAA,SAAA6D,2BAAA7D,CAAA,EAAAF,CAAA,QAAAC,CAAA,yBAAAE,MAAA,IAAAD,CAAA,CAAAC,MAAA,CAAAE,QAAA,KAAAH,CAAA,qBAAAD,CAAA,QAAA0D,KAAA,CAAAE,OAAA,CAAA3D,CAAA,MAAAD,CAAA,GAAAwD,2BAAA,CAAAvD,CAAA,MAAAF,CAAA,IAAAE,CAAA,uBAAAA,CAAA,CAAAsB,MAAA,IAAAvB,CAAA,KAAAC,CAAA,GAAAD,CAAA,OAAA+D,EAAA,MAAAC,CAAA,YAAAA,EAAA,eAAAC,CAAA,EAAAD,CAAA,EAAA7D,CAAA,WAAAA,EAAA,WAAA4D,EAAA,IAAA9D,CAAA,CAAAsB,MAAA,KAAAI,IAAA,WAAAA,IAAA,MAAAC,KAAA,EAAA3B,CAAA,CAAA8D,EAAA,UAAAhE,CAAA,WAAAA,EAAAE,CAAA,UAAAA,CAAA,KAAAc,CAAA,EAAAiD,CAAA,gBAAAvC,SAAA,iJAAApB,CAAA,EAAAe,CAAA,OAAAT,CAAA,gBAAAsD,CAAA,WAAAA,EAAA,IAAAjE,CAAA,GAAAA,CAAA,CAAA0B,IAAA,CAAAzB,CAAA,MAAAE,CAAA,WAAAA,EAAA,QAAAF,CAAA,GAAAD,CAAA,CAAAkE,IAAA,WAAA9C,CAAA,GAAAnB,CAAA,CAAA0B,IAAA,EAAA1B,CAAA,KAAAF,CAAA,WAAAA,EAAAE,CAAA,IAAAU,CAAA,OAAAN,CAAA,GAAAJ,CAAA,KAAAc,CAAA,WAAAA,EAAA,UAAAK,CAAA,YAAApB,CAAA,cAAAA,CAAA,8BAAAW,CAAA,QAAAN,CAAA;AAAA,SAAAmD,4BAAAvD,CAAA,EAAAmB,CAAA,QAAAnB,CAAA,2BAAAA,CAAA,SAAA4D,iBAAA,CAAA5D,CAAA,EAAAmB,CAAA,OAAApB,CAAA,MAAAmE,QAAA,CAAAzC,IAAA,CAAAzB,CAAA,EAAAmE,KAAA,6BAAApE,CAAA,IAAAC,CAAA,CAAAoE,WAAA,KAAArE,CAAA,GAAAC,CAAA,CAAAoE,WAAA,CAAAC,IAAA,aAAAtE,CAAA,cAAAA,CAAA,GAAA0D,KAAA,CAAAC,IAAA,CAAA1D,CAAA,oBAAAD,CAAA,+CAAAuE,IAAA,CAAAvE,CAAA,IAAA6D,iBAAA,CAAA5D,CAAA,EAAAmB,CAAA;AAAA,SAAAyC,kBAAA5D,CAAA,EAAAmB,CAAA,aAAAA,CAAA,IAAAA,CAAA,GAAAnB,CAAA,CAAAsB,MAAA,MAAAH,CAAA,GAAAnB,CAAA,CAAAsB,MAAA,YAAAxB,CAAA,MAAAI,CAAA,GAAAuD,KAAA,CAAAtC,CAAA,GAAArB,CAAA,GAAAqB,CAAA,EAAArB,CAAA,IAAAI,CAAA,CAAAJ,CAAA,IAAAE,CAAA,CAAAF,CAAA,UAAAI,CAAA;AADA;AACA,SAASqE,WAAWA,CAACC,eAAe,EAAEC,eAAe,EAAE;EACrD,IAAMC,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAACJ,eAAe,CAAC;EACvD,IAAMK,MAAM,GAAGF,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;EAE/C,IAAI,CAACF,OAAO,EAAE;IACZI,OAAO,CAACC,KAAK,UAAAC,MAAA,CAAUR,eAAe,mBAAgB,CAAC;IACvD;EACF;EAEA,IAAIS,KAAK,GAAG,KAAK;EAAC,IAAAC,SAAA,GAAArB,0BAAA,CAEWY,eAAe;IAAAU,KAAA;EAAA;IAA5C,KAAAD,SAAA,CAAAlB,CAAA,MAAAmB,KAAA,GAAAD,SAAA,CAAAhF,CAAA,IAAAwB,IAAA,GAA8C;MAAA,IAAnC0D,cAAc,GAAAD,KAAA,CAAAxD,KAAA;MACvB,IAAM0D,OAAM,GAAGV,QAAQ,CAACC,aAAa,CAACQ,cAAc,CAAC;MACrD,IAAIC,OAAM,EAAE;QACVA,OAAM,CAACC,qBAAqB,CAAC,UAAU,EAAEZ,OAAO,CAAC;QACjDO,KAAK,GAAG,IAAI;QACZ;MACF;IACF;EAAC,SAAAM,GAAA;IAAAL,SAAA,CAAApF,CAAA,CAAAyF,GAAA;EAAA;IAAAL,SAAA,CAAApE,CAAA;EAAA;EAED,IAAI,CAACmE,KAAK,IAAIJ,MAAM,EAAE;IACpBA,MAAM,CAACS,qBAAqB,CAAC,aAAa,EAAEZ,OAAO,CAAC;EACtD;AACF;;AAEA;AACA,SAASc,EAAEA,CAACC,SAAS,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;EACzChB,QAAQ,CAACiB,gBAAgB,CAACH,SAAS,EAAE,UAAU3F,CAAC,EAAE;IAChD,IAAI+F,aAAa,GAAG/F,CAAC,CAACuF,MAAM;IAC5B,OAAOQ,aAAa,IAAIA,aAAa,KAAKlB,QAAQ,EAAE;MAClD,IAAIkB,aAAa,CAACC,OAAO,CAACJ,QAAQ,CAAC,EAAE;QACnC5F,CAAC,CAACiG,cAAc,CAAC,CAAC;QAClBJ,QAAQ,CAAClE,IAAI,CAACoE,aAAa,EAAE/F,CAAC,CAAC;QAC/B;MACF;MACA+F,aAAa,GAAGA,aAAa,CAACG,aAAa;IAC7C;EACF,CAAC,CAAC;AACJ;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;EACpB,IAAMC,WAAW,GAAGvB,QAAQ,CAACC,aAAa,CAAC,4BAA4B,CAAC;EACxE,IAAMuB,UAAU,GAAGxB,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC;EAEzD,IAAI,CAACsB,WAAW,IAAI,CAACC,UAAU,EAAE;;EAEjC;EACAC,MAAM,CAACC,qBAAqB,CAAC,YAAM;IAC/B,IAAMC,SAAS,GAAGJ,WAAW,CAACK,gBAAgB,CAAC,4CAA4C,CAAC;IAC5F,IAAMC,gBAAgB,GAAGJ,MAAM,CAACK,gBAAgB,CAACP,WAAW,CAAC;IAC7D,IAAMQ,cAAc,GAAGR,WAAW,CAACS,WAAW,GAAGC,UAAU,CAACJ,gBAAgB,CAACK,YAAY,CAAC;IAE1F,IAAIC,kBAAkB,GAAG,KAAK;IAE9BR,SAAS,CAACS,OAAO,CAAC,UAACC,IAAI,EAAK;MACxB,IAAMC,WAAW,GAAGD,IAAI,CAACE,UAAU,GAAGF,IAAI,CAACG,WAAW;;MAEtD;MACA,IAAMC,YAAY,GAAGJ,IAAI,CAACK,EAAE,KAAK,mBAAmB,GAC9ClB,UAAU,CAACvB,aAAa,CAAC,oBAAoB,CAAC,GAC9CuB,UAAU,CAACvB,aAAa,KAAAI,MAAA,CAAKgC,IAAI,CAACM,SAAS,CAAC,CAAC,CAAC,CAAE,CAAC;MAEvD,IAAIL,WAAW,GAAGP,cAAc,EAAE;QAC9B;QACAM,IAAI,CAACM,SAAS,CAACC,GAAG,CAAC,UAAU,CAAC;QAC9B,IAAIH,YAAY,EAAE;UACdA,YAAY,CAACE,SAAS,CAACE,MAAM,CAAC,UAAU,CAAC;UACzCV,kBAAkB,GAAG,IAAI,CAAC,CAAC;QAC/B;MACJ,CAAC,MAAM;QACH;QACAE,IAAI,CAACM,SAAS,CAACE,MAAM,CAAC,UAAU,CAAC;QACjC,IAAIJ,YAAY,EAAEA,YAAY,CAACE,SAAS,CAACC,GAAG,CAAC,UAAU,CAAC;MAC5D;IACJ,CAAC,CAAC;;IAEF;IACA;IACA,IAAME,sBAAsB,GAAGtB,UAAU,CAACvB,aAAa,CAAC,2DAA2D,CAAC;IAEpH,IAAI6C,sBAAsB,EAAE;MACxBtB,UAAU,CAACmB,SAAS,CAACE,MAAM,CAAC,OAAO,CAAC;MACpCtB,WAAW,CAACoB,SAAS,CAACE,MAAM,CAAC,QAAQ,CAAC;IAC1C,CAAC,MAAM;MACHrB,UAAU,CAACmB,SAAS,CAACC,GAAG,CAAC,OAAO,CAAC;MACjCrB,WAAW,CAACoB,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;IACvC;EACJ,CAAC,CAAC;AACN,CAAC;;AAED;AACA,KAAAG,eAAA,GAAItB,MAAM,CAACuB,OAAO,cAAAD,eAAA,eAAdA,eAAA,CAAgBE,IAAI,EAAE;EACtBD,OAAO,CAACC,IAAI,CAAC3B,SAAS,GAAGA,SAAS;AACtC;;AAEA;AACAG,MAAM,CAACR,gBAAgB,CAAC,QAAQ,EAAEiC,QAAQ,CAAC5B,SAAS,EAAE,GAAG,CAAC,CAAC;AAC3D;AACA,IAAM6B,cAAc,GAAG,SAAjBA,cAAcA,CAAA,EAAS;EAC3B,IAAMC,QAAQ,GAAGpD,QAAQ,CAACC,aAAa,CAAC,2BAA2B,CAAC;EACpE,IAAImD,QAAQ,EAAE;IACZ,IAAIC,SAAQ,GAAG,IAAIC,gBAAgB,CAAC,UAACC,YAAY,EAAK;MACpD,IAAIC,WAAW;MACfD,YAAY,CAACnB,OAAO,CAAC,UAACqB,QAAQ,EAAK;QACjC,IAAIA,QAAQ,CAAC/C,MAAM,CAACgD,SAAS,KAAK,aAAa,EAAE;UAC/CF,WAAW,GAAGC,QAAQ,CAAC/C,MAAM;QAC/B;MACF,CAAC,CAAC;MACF,IAAI,OAAO8C,WAAW,IAAI,WAAW,EAAE;MACvC,IAAIG,WAAW,GAAGlF,kBAAA,CACXuB,QAAQ,CAAC4B,gBAAgB,CAAC,uBAAuB,CAAC,EACrDgC,OAAO,CAACJ,WAAW,CAAC;QACtBK,QAAQ,GAAG7D,QAAQ,CAAC4B,gBAAgB,CAAC,mBAAmB,CAAC;MAC3DiC,QAAQ,CAACzB,OAAO,CAAC,UAAC0B,GAAG,EAAK;QACxBA,GAAG,CAACnB,SAAS,CAACE,MAAM,CAAC,YAAY,CAAC;MACpC,CAAC,CAAC;MACFgB,QAAQ,CAACF,WAAW,CAAC,CAAChB,SAAS,CAACC,GAAG,CAAC,YAAY,CAAC;IACnD,CAAC,CAAC;IACF,IAAImB,WAAW,GAAG,CAAC;MACjBF,QAAQ,GAAG7D,QAAQ,CAACgE,aAAa,CAAC,IAAI,CAAC;IACzCH,QAAQ,CAAClB,SAAS,CAACC,GAAG,CAAC,eAAe,CAAC;IACvCQ,QAAQ,CAACxB,gBAAgB,CAAC,OAAO,CAAC,CAACQ,OAAO,CAAC,UAACC,IAAI,EAAE4B,KAAK,EAAK;MAC1DF,WAAW,IAAI,CAAC;MAChB,IAAIG,KAAK,GAAGlE,QAAQ,CAACgE,aAAa,CAAC,IAAI,CAAC;MACxCH,QAAQ,CAACM,WAAW,CAACD,KAAK,CAAC;MAC3B,IAAID,KAAK,KAAK,CAAC,EAAEC,KAAK,CAACvB,SAAS,CAACC,GAAG,CAAC,YAAY,CAAC;MAClDsB,KAAK,CAACjD,gBAAgB,CAAC,OAAO,EAAE,UAAC9F,CAAC,EAAK;QACrCA,CAAC,CAACiG,cAAc,CAAC,CAAC;QAClBpB,QAAQ,CACLC,aAAa,CAAC,8BAA8B,CAAC,CAC7C0C,SAAS,CAACE,MAAM,CAAC,QAAQ,CAAC;QAC7B,IAAIuB,UAAU,GAAGpE,QAAQ,CAAC4B,gBAAgB,CAAC,uBAAuB,CAAC,CACjEqC,KAAK,CACN;QACD,IAAMI,eAAe,GAAGD,UAAU,CAACnE,aAAa,CAAC,YAAY,CAAC;QAC9D,IAAIoE,eAAe,EAAE;UACnB,IACEA,eAAe,CAACC,OAAO,CAACC,WAAW,CAAC,CAAC,KAAK,KAAK,IAC/C,CAACF,eAAe,CAACG,GAAG,EACpB;YACAH,eAAe,CAACG,GAAG,GAAGH,eAAe,CAACI,YAAY,CAAC,UAAU,CAAC;UAChE,CAAC,MAAM,IAAIJ,eAAe,CAACC,OAAO,CAACC,WAAW,CAAC,CAAC,KAAK,OAAO,EAAE;YAC5D,IAAMG,aAAa,GAAGL,eAAe,CAACpE,aAAa,CAAC,QAAQ,CAAC;YAC7D,IAAIyE,aAAa,IAAI,CAACA,aAAa,CAACF,GAAG,EAAE;cACvCE,aAAa,CAACF,GAAG,GAAGE,aAAa,CAACD,YAAY,CAAC,UAAU,CAAC;cAC1DJ,eAAe,CAACM,IAAI,CAAC,CAAC,CAAC,CAAC;YAC1B;UACF;QACF;QACAP,UAAU,CAACzB,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;MACpC,CAAC,CAAC;MACFS,SAAQ,CAACuB,OAAO,CAACvC,IAAI,EAAE;QACrBwC,UAAU,EAAE,IAAI;QAChBC,eAAe,EAAE,CAAC,OAAO;MAC3B,CAAC,CAAC;IACJ,CAAC,CAAC;IACF1B,QAAQ,CAACe,WAAW,CAACN,QAAQ,CAAC;EAChC;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;AACF,CAAC;AACD,IAAIkB,WAAW,IAAI,UAAU,EAAE;EAC7B5B,cAAc,CAAC,CAAC;AAClB;;AAEA;AACA,IAAM6B,WAAW,GAAG,SAAdA,WAAWA,CAAIC,OAAO,EAAK;EAC/B,IAAMC,YAAY,GAAGD,OAAO,CAAChF,aAAa,CAAC,gBAAgB,CAAC;EAC5D,IAAMkF,UAAU,GAAGF,OAAO,CAAChF,aAAa,CAAC,cAAc,CAAC;EAExD,IAAIiF,YAAY,IAAIC,UAAU,EAAE;IAC9BD,YAAY,CAACf,WAAW,CAACgB,UAAU,CAAC;IACpCD,YAAY,CAACvC,SAAS,CAACC,GAAG,CAAC,gBAAgB,CAAC;EAC9C;AACF,CAAC;AAED,IAAMwC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIH,OAAO,EAAK;EACpC,IAAMI,aAAa,GAAGJ,OAAO,CAAChF,aAAa,CAAC,iBAAiB,CAAC;EAC9D,IAAMqF,MAAM,GAAGL,OAAO,CAAChF,aAAa,CAAC,SAAS,CAAC;EAC/C,IAAMsF,KAAK,GAAGN,OAAO,CAAChF,aAAa,CAAC,SAAS,CAAC;EAC9C,IAAMuF,KAAK,GAAGP,OAAO,CAAChF,aAAa,CAAC,UAAU,CAAC;EAC/C,IAAMwF,YAAY,GAAGR,OAAO,CAAChF,aAAa,CAAC,eAAe,CAAC;EAE3D,IAAMyF,gBAAgB,GAAGD,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAExF,aAAa,CAAC,MAAM,CAAC;EAC5D,IAAM0F,WAAW,GAAGV,OAAO,CAAChF,aAAa,CAAC,sBAAsB,CAAC;EAEjE,IAAM2F,cAAc,GAAGX,OAAO,CAAChF,aAAa,CAAC,mBAAmB,CAAC;EACjE,IAAM4F,eAAe,GAAGZ,OAAO,CAAChF,aAAa,CAAC,qBAAqB,CAAC;EAEpE,IAAM6F,KAAK,GAAGb,OAAO,CAAChF,aAAa,CAAC,SAAS,CAAC;EAE9C,IAAI6F,KAAK,IAAIN,KAAK,EAAE;IAClBA,KAAK,CAAC7E,qBAAqB,CAAC,YAAY,EAAEmF,KAAK,CAAC;EAClD;EAEA,IAAIT,aAAa,IAAIC,MAAM,EAAE;IAC3BA,MAAM,CAACnB,WAAW,CAACkB,aAAa,CAAC;EACnC;EAEA,IAAMU,MAAM,GAAGd,OAAO,CAAChF,aAAa,CAAC,QAAQ,CAAC;EAC9C,IAAI,CAAC8F,MAAM,EAAE;IACX,IAAIT,MAAM,EAAEA,MAAM,CAACU,KAAK,CAACC,UAAU,GAAG,QAAQ;IAC9C,IAAIR,YAAY,EAAEA,YAAY,CAACO,KAAK,CAACC,UAAU,GAAG,QAAQ;EAC5D;EAEA,IAAMC,KAAK,GAAGjB,OAAO,CAAChF,aAAa,CAAC,QAAQ,CAAC;EAC7C,IAAMkG,WAAW,GAAGlB,OAAO,CAAChF,aAAa,CAAC,gBAAgB,CAAC;EAC3D,IAAIkG,WAAW,EAAE;IACfD,KAAK,CAAC/B,WAAW,CAACgC,WAAW,CAAC;IAC9B,IAAMC,WAAW,GAAGD,WAAW,CAAC1B,YAAY,CAAC,yBAAyB,CAAC;IACvE,IAAI2B,WAAW,EAAE;MACf,IAAInE,UAAU,CAACmE,WAAW,CAAC,KAAK,CAAC,EAAE;QACjCD,WAAW,CAACtD,MAAM,CAAC,CAAC;MACtB,CAAC,MAAM;QACL,IAAMwD,QAAQ,GAAGF,WAAW,CAACvE,gBAAgB,CAAC,OAAO,CAAC;QACtD;QACAyE,QAAQ,CAACjE,OAAO,CAAC,UAACkE,IAAI,EAAEC,GAAG,EAAK;UAC9B,IAAIA,GAAG,GAAG,CAAC,EAAE;YACXD,IAAI,CAACN,KAAK,CAACQ,OAAO,GAAG,MAAM;UAC7B,CAAC,MAAM;YACLF,IAAI,CAACN,KAAK,CAACQ,OAAO,GAAG,EAAE,CAAC,CAAC;UAC3B;QACF,CAAC,CAAC;;QAEF;QACA,IAAIC,UAAU,GAAGN,WAAW,CAAClG,aAAa,CAAC,eAAe,CAAC;QAC3D,IAAI,CAACwG,UAAU,EAAE;UACfA,UAAU,GAAGzG,QAAQ,CAACgE,aAAa,CAAC,MAAM,CAAC;UAC3CyC,UAAU,CAAC/C,SAAS,GAAG,cAAc;UACrC+C,UAAU,CAACC,WAAW,GAAGN,WAAW;UACpCD,WAAW,CAAChC,WAAW,CAACsC,UAAU,CAAC;QACrC;MACF;IACF;EACF;EACA;AACF,CAAC;AACD,IAAME,QAAQ,GAAG3G,QAAQ,CAAC4B,gBAAgB,CACxC,gDACF,CAAC;AAED,IAAMgF,aAAa,GAAG5G,QAAQ,CAAC4B,gBAAgB,CAAC,0BAA0B,CAAC;AAC3E,IAAIgF,aAAa,CAACjK,MAAM,EAAE;EACxBiK,aAAa,CAACxE,OAAO,CAAC,UAAC6C,OAAO,EAAK;IACjC,IAAI,CAACA,OAAO,CAACtC,SAAS,CAACkE,QAAQ,CAAC,iBAAiB,CAAC,EAAE;MAClD7B,WAAW,CAACC,OAAO,CAAC;MACpBG,gBAAgB,CAACH,OAAO,CAAC;IAC3B;EACF,CAAC,CAAC;AACJ;AAEAjF,QAAQ,CAACiB,gBAAgB,CAAC,yBAAyB,EAAE,YAAM;EACzD,IAAM2F,aAAa,GAAG5G,QAAQ,CAAC4B,gBAAgB,CAAC,0BAA0B,CAAC;EAC3E,IAAIgF,aAAa,CAACjK,MAAM,EAAE;IACxBiK,aAAa,CAACxE,OAAO,CAAC,UAAC6C,OAAO,EAAK;MACjC,IAAI,CAACA,OAAO,CAACtC,SAAS,CAACkE,QAAQ,CAAC,iBAAiB,CAAC,EAAE;QAClD7B,WAAW,CAACC,OAAO,CAAC;QACpBG,gBAAgB,CAACH,OAAO,CAAC;MAC3B;IACF,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;;AAEF;AACA,SAAS6B,aAAaA,CAAA,EAAG;EACvB,IAAMC,YAAY,GAAG/G,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;EAC7D,IAAM+G,YAAY,GAAGhH,QAAQ,CAACC,aAAa,CAAC,SAAS,CAAC;EACtD,IAAI8G,YAAY,IAAIC,YAAY,EAAE;IAChC,IAAMC,mBAAmB,GAAGjH,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;IACzDiD,mBAAmB,CAACtE,SAAS,CAACC,GAAG,CAAC,uBAAuB,CAAC;IAC1DqE,mBAAmB,CAAC9C,WAAW,CAAC4C,YAAY,CAAC;IAC7CC,YAAY,CAAC3F,aAAa,CAAC6F,YAAY,CACrCD,mBAAmB,EACnBD,YAAY,CAACG,kBACf,CAAC;IACD,IAAMC,SAAS,GAAGL,YAAY,CAAC9G,aAAa,CAAC,YAAY,CAAC;IAC1D,IAAImH,SAAS,EAAE;MACbA,SAAS,CAACpB,KAAK,CAACQ,OAAO,GAAG,MAAM;MAChC,IAAMa,gBAAgB,GAAGrH,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;MACtDqD,gBAAgB,CAAC1E,SAAS,CAACC,GAAG,CAAC,iBAAiB,CAAC;MACjDyE,gBAAgB,CAAC7C,GAAG,GAClB,oDAAoD;MACtD6C,gBAAgB,CAACC,GAAG,GAAG,iBAAiB;MACxCF,SAAS,CAAC/F,aAAa,CAAC6F,YAAY,CAClCG,gBAAgB,EAChBD,SAAS,CAACD,kBACZ,CAAC;IACH;EACF;AACF;AAEAL,aAAa,CAAC,CAAC;;AAEf;AACA,IAAMS,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,IAAI,EAAEC,MAAM,EAAE/E,EAAE,EAAK;EAC7C,IAAMgF,QAAQ,GAAG1H,QAAQ,CAACgE,aAAa,CAAC,IAAI,CAAC;EAC7C,IAAM2D,UAAU,GAAG3H,QAAQ,CAACgE,aAAa,CAAC,GAAG,CAAC;EAC9C0D,QAAQ,CAAC/E,SAAS,CAACC,GAAG,CAAC,SAAS,CAAC;EACjC8E,QAAQ,CAACvD,WAAW,CAACwD,UAAU,CAAC;EAChCA,UAAU,CAAChF,SAAS,CAACC,GAAG,CAAC,cAAc,CAAC;EACxC+E,UAAU,CAACC,IAAI,GAAGH,MAAM;EACxBE,UAAU,CAACE,SAAS,GAAGL,IAAI;EAC3B,IAAI9E,EAAE,EAAE;IACNgF,QAAQ,CAAChF,EAAE,GAAGA,EAAE;EAClB;EACA,OAAOgF,QAAQ;AACjB,CAAC;AAED,IAAI1H,QAAQ,CAAC8H,IAAI,CAACnF,SAAS,CAACkE,QAAQ,CAAC,aAAa,CAAC,EAAE;EACnD,IAAMkB,WAAW,GAAG/H,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;EAC5D,IAAM+H,UAAU,GAAGhI,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC;EAEzD,IAAMgI,kBAAkB,GAAGjI,QAAQ,CAACC,aAAa,CAAC,wBAAwB,CAAC;EAC3EiI,UAAU,CAAC,YAAM;IACf;EAAA,CACD,EAAE,IAAI,CAAC;;EAER;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAC,SAAS,CAAC;IACRC,UAAU,EAAE,wBAAwB;IACpCC,KAAK,EAAE,eAAe;IACtBC,aAAa,EAAE;MACbC,UAAU,EAAE,KAAK;MACjBC,QAAQ,EAAE,KAAK;MACfC,IAAI,EAAE,IAAI;MACVC,MAAM,EAAE,KAAK;MACbC,SAAS,EAAE,KAAK;MAChBC,YAAY,EAAE;IAChB,CAAC;IACDC,aAAa,EAAE;MACbC,SAAS,EAAE,YAAY;MACvBC,KAAK,EAAE,GAAG;MACVC,YAAY,EAAE,EAAE;MAChBC,aAAa,EAAE;IACjB;EACF,CAAC,CAAC;EACF;;EAEA,IAAMC,SAAS,GAAGlJ,QAAQ,CAACC,aAAa,CAAC,YAAY,CAAC;EACtD,IAAIiJ,SAAS,EAAE;IACb,IAAMC,gBAAgB,GAAGnJ,QAAQ,CAACgE,aAAa,CAAC,IAAI,CAAC;IACrD,IAAMoF,cAAc,GAClB3H,MAAM,CAAC4H,WAAW,CAACC,IAAI,CAAC,UAACjH,IAAI;MAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;IAAA,EAAC,IAChE/H,MAAM,CAAC4H,WAAW,CAAC,CAAC,CAAC;IACvBF,gBAAgB,CAACtB,SAAS,GAAGuB,cAAc,CAAC5B,IAAI;IAChD0B,SAAS,CAACO,OAAO,CAACN,gBAAgB,CAAC;IAEnC,IAAMO,YAAY,GAAGR,SAAS,CAACjJ,aAAa,CAAC,eAAe,CAAC;IAC7D,IAAIyJ,YAAY,EAAE;MAChBR,SAAS,CAAC/E,WAAW,CAACuF,YAAY,CAAC;IACrC;EACF;EACA,IAAMC,gBAAgB,GAAG3J,QAAQ,CAACC,aAAa,CAAC,oBAAoB,CAAC;EACrE,IAAI0J,gBAAgB,EAAE;IACpB,IAAMC,oBAAoB,GAAG5J,QAAQ,CAACgE,aAAa,CAAC,IAAI,CAAC;IACzD,IAAM6F,kBAAkB,GACtBpI,MAAM,CAACqI,eAAe,CAACR,IAAI,CAAC,UAACjH,IAAI;MAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;IAAA,EAAC,IACpE/H,MAAM,CAACqI,eAAe,CAAC,CAAC,CAAC;IAC3BF,oBAAoB,CAAC/B,SAAS,GAAGgC,kBAAkB,CAACrC,IAAI;IACxDmC,gBAAgB,CAACF,OAAO,CAACG,oBAAoB,CAAC;EAChD;EAEA,IAAMG,YAAY,GAAG/J,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC;EAC5D,IAAI8J,YAAY,EAAE;IAChB,IAAMC,mBAAmB,GAAGhK,QAAQ,CAACgE,aAAa,CAAC,IAAI,CAAC;IACxD,IAAMiG,oBAAoB,GACxBxI,MAAM,CAACyI,iBAAiB,CAACZ,IAAI,CAAC,UAACjH,IAAI;MAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;IAAA,EAAC,IACtE/H,MAAM,CAACyI,iBAAiB,CAAC,CAAC,CAAC;IAC7BF,mBAAmB,CAACnC,SAAS,GAAGoC,oBAAoB,CAACzC,IAAI;IACzDuC,YAAY,CAACN,OAAO,CAACO,mBAAmB,CAAC;EAC3C;EAEA,IAAMG,eAAe,GAAGnK,QAAQ,CAACC,aAAa,CAAC,mBAAmB,CAAC;EACnE,IAAMmK,sBAAsB,GAAGpK,QAAQ,CAACC,aAAa,CACnD,0BACF,CAAC;EAED,IAAMoK,YAAY,GAAGrK,QAAQ,CAAC4B,gBAAgB,CAAC,wBAAwB,CAAC;EACxEyI,YAAY,CAACjI,OAAO,CAAC,UAACkI,WAAW,EAAK;IACpC,IAAMC,kBAAkB,GAAGD,WAAW,CAACrK,aAAa,CAClD,wBACF,CAAC;IACD,IAAIsK,kBAAkB,EAAE;MACtBD,WAAW,CAAC3J,qBAAqB,CAAC,UAAU,EAAE4J,kBAAkB,CAAC;IACnE;EACF,CAAC,CAAC;EACF,IAAMC,gBAAgB,GAAGxK,QAAQ,CAAC4B,gBAAgB,CAChD,0BACF,CAAC;EACD,IAAI4I,gBAAgB,CAAC7N,MAAM,EAAE;IAC3B6N,gBAAgB,CAACpI,OAAO,CAAC,UAAC2D,MAAM,EAAK;MACnCA,MAAM,CAACpD,SAAS,CAACE,MAAM,CAAC,aAAa,EAAE,QAAQ,CAAC;MAChDkD,MAAM,CAACpD,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;IACnC,CAAC,CAAC;EACJ;EACA,IAAM6H,SAAS,GAAGzK,QAAQ,CAACC,aAAa,CAAC,iCAAiC,CAAC;EAC3E,IAAMyK,MAAM,GAAG1K,QAAQ,CAACC,aAAa,CAAC,qCAAqC,CAAC;EAC5EE,OAAO,CAACwK,GAAG,CAACD,MAAM,CAAC;EACnB,IAAIA,MAAM,EAAE;IACV,IAAME,QAAQ,GACZnJ,MAAM,CAACoJ,WAAW,CAACvB,IAAI,CAAC,UAACjH,IAAI;MAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;IAAA,EAAC,IAChE/H,MAAM,CAACoJ,WAAW,CAAC,CAAC,CAAC;IACvBH,MAAM,CAAC7C,SAAS,GAAG+C,QAAQ,CAACpD,IAAI;IAChCkD,MAAM,CAAC/H,SAAS,CAACC,GAAG,CAAC,cAAc,CAAC;IACpC,IAAI6H,SAAS,EAAE;MACbA,SAAS,CAAChB,OAAO,CAACiB,MAAM,CAAC;IAC3B;EACF;EACA,IAAIP,eAAe,IAAIC,sBAAsB,EAAE;IAC7C,IAAIA,sBAAsB,EAAE;MAC1B,IAAMU,uBAAuB,GAC3BrJ,MAAM,CAACsJ,oBAAoB,CAACzB,IAAI,CAC9B,UAACjH,IAAI;QAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;MAAA,CACzC,CAAC,IAAI/H,MAAM,CAACsJ,oBAAoB,CAAC,CAAC,CAAC;MACrCX,sBAAsB,CAACY,SAAS,GAAGF,uBAAuB,CAACtD,IAAI;IACjE;IACA,IAAMyD,SAAS,GAAGb,sBAAsB,CAACY,SAAS;IAElD,IAAME,oBAAoB,GACxBf,eAAe,CAACvI,gBAAgB,CAAC,UAAU,CAAC,CAACjF,MAAM;IACrD,IAAMqL,WAAU,GAAGhI,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC;;IAEzD;IACA;IACA;IACA;IACA;IACA,IAAMkL,cAAc,GAAGnL,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAC;IACzDmK,sBAAsB,CAACzH,SAAS,CAACC,GAAG,CAAC,sBAAsB,CAAC;IAC5D;IACA,IAAMwI,kBAAkB,GAAGpL,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;IACxD;IACAoH,kBAAkB,CAAC1I,EAAE,GAAG,iBAAiB;IACzC0I,kBAAkB,CAACjH,WAAW,CAACiG,sBAAsB,CAAC;IACtDgB,kBAAkB,CAACjH,WAAW,CAACgG,eAAe,CAAC;IAC/CgB,cAAc,CAAChH,WAAW,CAACiH,kBAAkB,CAAC;;IAE9C;;IAEA,IAAMC,cAAc,GAAGrL,QAAQ,CAACC,aAAa,CAAC,mBAAmB,CAAC;IAClE,IAAMqL,SAAS,GAAGtL,QAAQ,CAACC,aAAa,CAAC,kBAAkB,CAAC;IAC5D,IAAMsL,gBAAgB,GAAGvL,QAAQ,CAACC,aAAa,CAAC,oBAAoB,CAAC;IAErE,IAAIoL,cAAc,IAAIC,SAAS,EAAE;MAC/B,IAAIE,OAAO,GAAGxL,QAAQ,CAACC,aAAa,CAAC,yBAAyB,CAAC;MAC/D,IAAI,CAACuL,OAAO,EAAE;QACZA,OAAO,GAAGxL,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;QACvCwH,OAAO,CAAC9I,EAAE,GAAG,wBAAwB;QACrC4I,SAAS,CAACG,UAAU,CAACvE,YAAY,CAACsE,OAAO,EAAEF,SAAS,CAAC;QACrDE,OAAO,CAACrH,WAAW,CAACmH,SAAS,CAAC;MAChC;;MAEA;MACA;MACA;MACA;MACA;MACA;IACF;IAEAnD,SAAS,CAAC;MACRC,UAAU,EAAE,mBAAmB;MAC/BC,KAAK,EAAE,UAAU;MACjBC,aAAa,EAAE;QACbC,UAAU,EAAE,KAAK;QACjBC,QAAQ,EAAE,IAAI;QACdC,IAAI,EAAE,IAAI;QACVC,MAAM,EAAE,IAAI;QACZC,SAAS,EAAE,KAAK;QAChBC,YAAY,EAAE,IAAI;QAClB8C,aAAa,EAAE;MACjB,CAAC;MACD7C,aAAa,EAAE;QACbC,SAAS,EAAE,YAAY;QACvBC,KAAK,EAAE,GAAG;QACVE,aAAa,EAAE,GAAG;QAClBD,YAAY,EAAE,EAAE;QAChB2C,WAAW,EAAE;UACX,IAAI,EAAE;YACJ1C,aAAa,EAAE,CAAC;YAChBD,YAAY,EAAE;UAChB,CAAC;UACD,IAAI,EAAE;YACJC,aAAa,EAAE,CAAC;YAChBD,YAAY,EAAE;UAChB,CAAC;UACD,IAAI,EAAE;YACJC,aAAa,EAAE,CAAC;YAChBD,YAAY,EAAE;UAChB,CAAC;UACD,GAAG,EAAE;YACHC,aAAa,EAAE,CAAC;YAChBD,YAAY,EAAE;UAChB,CAAC;UACD,GAAG,EAAE;YACHC,aAAa,EAAE,CAAC;YAChBD,YAAY,EAAE;UAChB;QACF;MACF;IACF,CAAC,CAAC;EACJ;EAEA,IAAM4C,0BAA0B,GAAG5L,QAAQ,CAACC,aAAa,CACvD,4CACF,CAAC;EACD,IAAI2L,0BAA0B,EAC5BA,0BAA0B,CAACvK,aAAa,CAACwB,MAAM,CAAC,CAAC;EACnD,IAAMgJ,mBAAmB,GAAG7L,QAAQ,CAACC,aAAa,CAAC,sBAAsB,CAAC;EAC1E,IAAI4L,mBAAmB,EAAE;IACvBA,mBAAmB,CAAClJ,SAAS,CAACE,MAAM,CAAC,UAAU,EAAE,MAAM,CAAC;IACxD,IAAMiJ,0BAA0B,GAAG9L,QAAQ,CAACgE,aAAa,CAAC,IAAI,CAAC;IAC/D8H,0BAA0B,CAACnJ,SAAS,CAACC,GAAG,CAAC,sBAAsB,CAAC;IAChE,IAAMmJ,kBAAkB,GAAGC,iBAAiB,CAAC1C,IAAI,CAC/C,UAACjH,IAAI;MAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;IAAA,CACzC,CAAC;IACD,IAAIuC,kBAAkB,EAAE;MACtBD,0BAA0B,CAACjE,SAAS,GAAGkE,kBAAkB,CAACvE,IAAI;IAChE;IACA,IAAM2D,eAAc,GAAGnL,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAC;IACzD;IACA;IACA;IACA;IACA;;IAEA,IAAMgM,MAAM,GAAGjM,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;IAC5CiI,MAAM,CAACtJ,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;IAC9BiJ,mBAAmB,CAAC3E,YAAY,CAC9B4E,0BAA0B,EAC1BD,mBAAmB,CAACK,UACtB,CAAC;IACDf,eAAc,CAAChH,WAAW,CAAC0H,mBAAmB,CAAC;IAC/C;IACA;;IAEA1D,SAAS,CAAC;MACRC,UAAU,EAAE,uBAAuB;MACnCC,KAAK,EAAE,UAAU;MACjBC,aAAa,EAAE;QACbC,UAAU,EAAE,KAAK;QACjBC,QAAQ,EAAE,IAAI;QACdC,IAAI,EAAE,IAAI;QACVC,MAAM,EAAE,IAAI;QACZC,SAAS,EAAE,KAAK;QAChBC,YAAY,EAAE,IAAI;QAClB8C,aAAa,EAAE;MACjB,CAAC;MACD7C,aAAa,EAAE;QACbC,SAAS,EAAE,YAAY;QACvBC,KAAK,EAAE,GAAG;QACVE,aAAa,EAAE,GAAG;QAClBD,YAAY,EAAE,EAAE;QAChB2C,WAAW,EAAE;UACX,IAAI,EAAE;YACJ1C,aAAa,EAAE,CAAC;YAChBD,YAAY,EAAE;UAChB,CAAC;UACD,IAAI,EAAE;YACJC,aAAa,EAAE,CAAC;YAChBD,YAAY,EAAE;UAChB,CAAC;UACD,IAAI,EAAE;YACJC,aAAa,EAAE,CAAC;YAChBD,YAAY,EAAE;UAChB,CAAC;UACD,GAAG,EAAE;YACHC,aAAa,EAAE,CAAC;YAChBD,YAAY,EAAE;UAChB,CAAC;UACD,GAAG,EAAE;YACHC,aAAa,EAAE,CAAC;YAChBD,YAAY,EAAE;UAChB;QACF;MACF;IACF,CAAC,CAAC;EACJ;EAEA,IAAMmD,sBAAsB,GAAGnM,QAAQ,CAACC,aAAa,CACnD,wCACF,CAAC;EACD,IAAIkM,sBAAsB,EAAE;IAC1B,IAAMC,kBAAkB,GACtB3K,MAAM,CAAC4K,eAAe,CAAC/C,IAAI,CAAC,UAACjH,IAAI;MAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;IAAA,EAAC,IACpE/H,MAAM,CAAC4K,eAAe,CAAC,CAAC,CAAC;IAC3BF,sBAAsB,CAACtE,SAAS,GAAGuE,kBAAkB,CAAC5E,IAAI;EAC5D;EACA,IAAM8E,QAAQ,GAAGtM,QAAQ,CAACC,aAAa,CACrC,2DACF,CAAC;EACD,IAAIqM,QAAQ,EAAE;IACZ,IAAMC,OAAO,GAAGD,QAAQ,CAACrM,aAAa,CAAC,SAAS,CAAC;IACjD,IAAMuM,OAAO,GAAGF,QAAQ,CAACrM,aAAa,CAAC,SAAS,CAAC;IAEjD,IAAIsM,OAAO,EAAE;MACX,IAAME,aAAa,GACjBhL,MAAM,CAACiL,kBAAkB,CAACpD,IAAI,CAC5B,UAACjH,IAAI;QAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;MAAA,CACzC,CAAC,IAAI/H,MAAM,CAACiL,kBAAkB,CAAC,CAAC,CAAC;MACnCH,OAAO,CAAC1E,SAAS,GAAG4E,aAAa,CAACjF,IAAI;IACxC;IACA,IAAIgF,OAAO,EAAE;MACX,IAAMG,YAAY,GAChBlL,MAAM,CAACmL,sBAAsB,CAACtD,IAAI,CAChC,UAACjH,IAAI;QAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;MAAA,CACzC,CAAC,IAAI/H,MAAM,CAACmL,sBAAsB,CAAC,CAAC,CAAC;MACvCJ,OAAO,CAAC3E,SAAS,GAAG8E,YAAY,CAACnF,IAAI;IACvC;EACF;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,IAAMqF,WAAW,GAAG7M,QAAQ,CAAC4B,gBAAgB,CAAC,eAAe,CAAC;EAC9D,IAAIiL,WAAW,CAAClQ,MAAM,EAAE;IACtBkQ,WAAW,CAACzK,OAAO,CAAC,UAAC0K,IAAI,EAAK;MAC5BA,IAAI,CAACC,eAAe,CAAC,MAAM,CAAC;MAC5BD,IAAI,CAACC,eAAe,CAAC,aAAa,CAAC;;MAEnC;MACAD,IAAI,CAACpG,WAAW,GAAGoG,IAAI,CAACpG,WAAW,CAACsG,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAACC,IAAI,CAAC,CAAC;IACpE,CAAC,CAAC;EACJ;EACA,IAAMC,UAAU,GAAGlN,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC;EAE1D,IAAIiN,UAAU,EAAE;IACd,IAAMC,MAAM,GAAG;MAAEC,SAAS,EAAE,IAAI;MAAEC,OAAO,EAAE;IAAK,CAAC;IAEjD,IAAMrM,QAAQ,GAAG,SAAXA,QAAQA,CAAasM,aAAa,EAAEjK,QAAQ,EAAE;MAAA,IAAAkK,UAAA,GAAArO,0BAAA,CAC7BoO,aAAa;QAAAE,MAAA;MAAA;QAAA,IAAAC,KAAA,YAAAA,MAAA,EAAE;UAAA,IAA3BhK,QAAQ,GAAA+J,MAAA,CAAAxQ,KAAA;UACf,IAAIyG,QAAQ,CAACiK,IAAI,KAAK,WAAW,EAAE;YACjC,IAAMC,WAAW,GAAG3N,QAAQ,CAACC,aAAa,CACxC,6BACF,CAAC;YACD,IAAM2N,UAAU,GAAG5N,QAAQ,CAACC,aAAa,CAAC,yBAAyB,CAAC;YAEpE,IAAI0N,WAAW,IAAIC,UAAU,EAAE;cAC7B;cACA,IAAMC,OAAO,GAAGF,WAAW,CAAC/L,gBAAgB,CAAC,UAAU,CAAC;cACxDiM,OAAO,CAACzL,OAAO,CAAC,UAAC0L,GAAG,EAAK;gBACvBF,UAAU,CAACzJ,WAAW,CAAC2J,GAAG,CAAC;cAC7B,CAAC,CAAC;;cAEF;cACAH,WAAW,CAAC9K,MAAM,CAAC,CAAC;YACtB;UACF;QACF,CAAC;QAlBD,KAAA0K,UAAA,CAAAlO,CAAA,MAAAmO,MAAA,GAAAD,UAAA,CAAAhS,CAAA,IAAAwB,IAAA;UAAA0Q,KAAA;QAAA;MAkBC,SAAA7M,GAAA;QAAA2M,UAAA,CAAApS,CAAA,CAAAyF,GAAA;MAAA;QAAA2M,UAAA,CAAApR,CAAA;MAAA;IACH,CAAC;IAED,IAAMkH,UAAQ,GAAG,IAAIC,gBAAgB,CAACtC,QAAQ,CAAC;IAC/CqC,UAAQ,CAACuB,OAAO,CAACsI,UAAU,EAAEC,MAAM,CAAC;;IAEpC;IACA1L,MAAM,CAACR,gBAAgB,CAAC,QAAQ,EAAE;MAAA,OAChCoC,UAAQ,CAACuB,OAAO,CAACsI,UAAU,EAAEC,MAAM,CAAC;IAAA,CACtC,CAAC;IACD1L,MAAM,CAACR,gBAAgB,CAAC,mBAAmB,EAAE;MAAA,OAC3CoC,UAAQ,CAACuB,OAAO,CAACsI,UAAU,EAAEC,MAAM,CAAC;IAAA,CACtC,CAAC;EACH;EACA1L,MAAM,CAACR,gBAAgB,CAAC,MAAM,EAAE,YAAM;IACpCiH,UAAU,CAAC,YAAM;MACf,IAAMtB,aAAa,GAAG5G,QAAQ,CAAC4B,gBAAgB,CAC7C,0BACF,CAAC;MAED,IAAIgF,aAAa,CAACjK,MAAM,EAAE;QACxBiK,aAAa,CAACxE,OAAO,CAAC,UAAC6C,OAAO;UAAA,OAAKD,WAAW,CAACC,OAAO,CAAC;QAAA,EAAC;QACxD2B,aAAa,CAACxE,OAAO,CAAC,UAAC6C,OAAO;UAAA,OAAKG,gBAAgB,CAACH,OAAO,CAAC;QAAA,EAAC;QAC7D;QACA;MACF;IACF,CAAC,EAAE,GAAG,CAAC;EACT,CAAC,CAAC;AACJ;;AAEA;AACA,IAAM8I,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;EACvB,IAAMC,UAAU,GAAGhO,QAAQ,CAACC,aAAa,CAAC,SAAS,CAAC;EACpD,IAAMgO,UAAU,GAAGjO,QAAQ,CAACC,aAAa,CAAC,4BAA4B,CAAC;EACvE,IAAMiO,gBAAgB,GAAGlO,QAAQ,CAACC,aAAa,CAAC,sBAAsB,CAAC;EACvE,IAAMkO,MAAM,GAAGnO,QAAQ,CAACC,aAAa,CAAC,SAAS,CAAC;EAChD,IAAMmO,SAAS,GAAGpO,QAAQ,CAACC,aAAa,CAAC,aAAa,CAAC;EACvD;EACA;EACA;EACA;EACA;;EAEA,IAAMoO,cAAc,GAAGrO,QAAQ,CAACC,aAAa,CAAC,oBAAoB,CAAC;EACnE,IAAIoO,cAAc,EAAE;IAAA,IAAAC,qBAAA;IAClB,IAAMC,UAAU,IAAAD,qBAAA,GAAG7M,MAAM,CAAC+M,eAAe,CAAClF,IAAI,CAC5C,UAACjH,IAAI;MAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;IAAA,CACzC,CAAC,cAAA8E,qBAAA,uBAFkBA,qBAAA,CAEhB9G,IAAI;IACP,IAAI+G,UAAU,EAAE;MACdF,cAAc,CAACrD,SAAS,GAAGuD,UAAU;IACvC;EACF;EAEA,IAAIN,UAAU,IAAI,CAACC,gBAAgB,EAAE;IACnC,IAAMO,iBAAiB,GAAGzO,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;IACvDyK,iBAAiB,CAAC9L,SAAS,CAACC,GAAG,CAAC,qBAAqB,CAAC;IACtD6L,iBAAiB,CAACtK,WAAW,CAAC8J,UAAU,CAAC;IACzCA,UAAU,CAACtL,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;IACrCoL,UAAU,CAAC3M,aAAa,CAAC6F,YAAY,CACnCuH,iBAAiB,EACjBT,UAAU,CAAC7G,kBACb,CAAC;EACH,CAAC,MAAM,IAAI8G,UAAU,EAAE;IACrBA,UAAU,CAACpL,MAAM,CAAC,CAAC;EACrB;EAEA,IAAM6L,WAAW,GAAG1O,QAAQ,CAACC,aAAa,CAAC,kBAAkB,CAAC;EAC9D,IAAM0O,QAAQ,GAAG3O,QAAQ,CAACC,aAAa,CAAC,qBAAqB,CAAC;EAC9D;EACA,IAAM2O,aAAa,GAAG5O,QAAQ,CAACC,aAAa,CAAC,iBAAiB,CAAC;EAC/D,IAAI2O,aAAa,EAAE;IACjB,IAAIC,SAAS,CAAC,CAAC,CAAC,CAAC7L,OAAO,CAAC8L,QAAQ,CAACC,kBAAkB,CAACC,SAAS,IAAI,CAAC,EACjEJ,aAAa,CAACjM,SAAS,CAACC,GAAG,CAAC,eAAe,CAAC;IAC9C;EACF;EAEA,IAAMqM,cAAc,GAAGjP,QAAQ,CAACC,aAAa,CAAC,kBAAkB,CAAC;EACjE,IAAMiP,UAAU,GAAGlP,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;EAChDkL,UAAU,CAACvM,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC;EACvC,IAAIqM,cAAc,EAAEA,cAAc,CAAC9K,WAAW,CAAC+K,UAAU,CAAC;EAC1D,IAAMC,QAAQ,GAAGnP,QAAQ,CAACC,aAAa,CAAC,oBAAoB,CAAC;EAC7D,IAAMmP,SAAS,GAAGpP,QAAQ,CAACC,aAAa,CAAC,mBAAmB,CAAC;EAE7D,IAAMoP,eAAe,GAAGrP,QAAQ,CAACC,aAAa,CAAC,6BAA6B,CAAC;EAC7E,IAAMqP,YAAY,GAAGtP,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC;EAC3D,IAAIoP,eAAe,IAAIC,YAAY,EACjCA,YAAY,CAACnL,WAAW,CAACkL,eAAe,CAAC;EAE3C,IAAME,QAAQ,GAAGvP,QAAQ,CAACC,aAAa,CAAC,iBAAiB,CAAC;EAC1D,IAAIsP,QAAQ,EAAE;IACZ,IAAMC,OAAO,GAAGxP,QAAQ,CAACC,aAAa,CAAC,aAAa,CAAC;IACrD,IAAIuP,OAAO,EAAE;MACXA,OAAO,CAACrL,WAAW,CAACoL,QAAQ,CAAC;IAC/B;EACF;EAEA,IAAME,eAAe,GAAGzP,QAAQ,CAAC4B,gBAAgB,CAC/C,4BACF,CAAC;EACD,IAAM8N,gBAAgB,GAAG1P,QAAQ,CAACC,aAAa,CAC7C,4CACF,CAAC;EACD,IAAIwP,eAAe,CAAC9S,MAAM,IAAI+S,gBAAgB,EAAE;IAC9CD,eAAe,CAACrN,OAAO,CAAC,UAACuN,OAAO,EAAK;MACnCD,gBAAgB,CAACrO,aAAa,CAAC6F,YAAY,CACzCyI,OAAO,EACPD,gBAAgB,CAACvI,kBACnB,CAAC;IACH,CAAC,CAAC;EACJ;EACA,IAAI1F,MAAM,CAACmO,UAAU,IAAI,IAAI,EAAE;IAC7B,IAAMC,UAAU,GAAG7P,QAAQ,CAACC,aAAa,CAAC,aAAa,CAAC;IACxD,IAAM6P,QAAQ,GAAG9P,QAAQ,CAACC,aAAa,CAAC,qBAAqB,CAAC;IAC9D,IAAI4P,UAAU,IAAIC,QAAQ,EAAE;MAC1BD,UAAU,CAAC1L,WAAW,CAAC2L,QAAQ,CAAC;IAClC;EACF;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,IAAMC,mBAAmB,GAAG/P,QAAQ,CAAC4B,gBAAgB,CACnD,6BACF,CAAC;EACD,IAAImO,mBAAmB,CAACpT,MAAM,EAAE;IAC9BoT,mBAAmB,CAAC3N,OAAO,CAAC,UAAC4N,OAAO,EAAK;MACvCA,OAAO,CAAChF,SAAS,GAAG,GAAG;IACzB,CAAC,CAAC;EACJ;EACA,IAAMiF,wBAAwB,GAAG,SAA3BA,wBAAwBA,CAAA,EAAS;IACrC/H,UAAU,CAAC,YAAM;MACf,IAAMgI,eAAe,GAAGlQ,QAAQ,CAAC4B,gBAAgB,CAC/C,8CACF,CAAC;MACD,IAAIsO,eAAe,CAACvT,MAAM,EAAE;QAC1BuT,eAAe,CAAC9N,OAAO,CAAC,UAAC+N,KAAK,EAAK;UACjC,IAAIA,KAAK,CAACnF,SAAS,CAACoF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,QAAQ,CAAC,EAAE;YACpDF,KAAK,CAACxN,SAAS,CAACC,GAAG,CAAC,UAAU,CAAC;UACjC,CAAC,MAAM;YACLuN,KAAK,CAACxN,SAAS,CAACE,MAAM,CAAC,UAAU,CAAC;UACpC;QACF,CAAC,CAAC;MACJ;IACF,CAAC,EAAE,GAAG,CAAC;EACT,CAAC;EACD7C,QAAQ,CAACiB,gBAAgB,CACvB,8BAA8B,EAC9BgP,wBACF,CAAC;EACDjQ,QAAQ,CAACiB,gBAAgB,CACvB,6BAA6B,EAC7BgP,wBACF,CAAC;EAED,IAAMC,eAAe,GAAGlQ,QAAQ,CAAC4B,gBAAgB,CAC/C,oCACF,CAAC;EACD,IAAIsO,eAAe,CAACvT,MAAM,EAAE;IAC1BuT,eAAe,CAAC9N,OAAO,CAAC,UAAC+N,KAAK,EAAK;MACjC,IAAIA,KAAK,CAACnF,SAAS,CAACoF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,QAAQ,CAAC,EAAE;QACpDF,KAAK,CAACxN,SAAS,CAACC,GAAG,CAAC,UAAU,CAAC;MACjC,CAAC,MAAM;QACLuN,KAAK,CAACxN,SAAS,CAACE,MAAM,CAAC,UAAU,CAAC;MACpC;IACF,CAAC,CAAC;EACJ;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA,IAAMyN,WAAW,GAAGtQ,QAAQ,CAACC,aAAa,CAAC,0BAA0B,CAAC;EACtE,IAAI,CAACqQ,WAAW,EAAE;IAChB,IAAMC,eAAe,GAAGvQ,QAAQ,CAACC,aAAa,CAAC,oBAAoB,CAAC;IACpE,IAAMuQ,gBAAgB,GAAGxQ,QAAQ,CAACC,aAAa,CAAC,mBAAmB,CAAC;IACpE,IAAMwQ,qBAAqB,GAAGzQ,QAAQ,CAACgE,aAAa,CAAC,QAAQ,CAAC;IAC9DyM,qBAAqB,CAAC9N,SAAS,CAACC,GAAG,CAAC,yBAAyB,CAAC;IAE9D,IAAI8N,iBAAiB,GAAG,iBAAiB;IACzC,IAAIC,eAAe,GAAG,uBAAuB;IAE7C,IAAInH,WAAW,KAAK,IAAI,EAAE;MACxBkH,iBAAiB,GAAG,gBAAgB;MACpCC,eAAe,GAAG,4BAA4B;IAChD,CAAC,MAAM,IAAInH,WAAW,KAAK,IAAI,EAAE;MAC/BkH,iBAAiB,GAAG,iBAAiB;MACrCC,eAAe,GAAG,wCAAwC;IAC5D;IAEA,IAAMC,YAAY,GAChBnP,MAAM,CAACoP,gBAAgB,CAACvH,IAAI,CAAC,UAACjH,IAAI;MAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;IAAA,EAAC,IACrE/H,MAAM,CAACoP,gBAAgB,CAAC,CAAC,CAAC;IAE5BJ,qBAAqB,CAAC5I,SAAS,uLAAAxH,MAAA,CAKnBuQ,YAAY,CAACpJ,IAAI,qZAe5B;IACDyH,cAAc,CAAC9K,WAAW,CAACsM,qBAAqB,CAAC;IACjD,IAAMK,iCAAiC,GACrCL,qBAAqB,CAACxQ,aAAa,CAAC,gBAAgB,CAAC;IACvD,IAAM8Q,gCAAgC,GACpCN,qBAAqB,CAACxQ,aAAa,CAAC,eAAe,CAAC;IACtD,IAAIuQ,gBAAgB,EAAE;MACpB,IAAMQ,WAAW,GAAGR,gBAAgB,CAACS,SAAS,CAAC,IAAI,CAAC;MACpDH,iCAAiC,CAACrH,OAAO,CAACuH,WAAW,CAAC;MACtD,IAAME,YAAY,GAAGT,qBAAqB,CAACxQ,aAAa,CACtD,qBACF,CAAC;MACD,IAAIiR,YAAY,EAAE;QAChBA,YAAY,CAACvO,SAAS,CAACC,GAAG,CAAC,eAAe,CAAC;QAC3CsO,YAAY,CAACvO,SAAS,CAACE,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;MACxC;IACF;IAEA,IAAI0N,eAAe,EAAE;MACnB,IAAMY,UAAU,GAAGZ,eAAe,CAACU,SAAS,CAAC,IAAI,CAAC;MAClDF,gCAAgC,CAACtH,OAAO,CAAC0H,UAAU,CAAC;MACpD,IAAMC,WAAW,GAAGX,qBAAqB,CAACxQ,aAAa,CACrD,uBACF,CAAC;MACD,IAAImR,WAAW,EAAE;QACf;QACAA,WAAW,CAACzO,SAAS,CAACE,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;MACxC;IACF;EACF;EACA,IAAIkC,WAAW,KAAK,MAAM,EAAE;IAC1B,IAAMsM,cAAc,GAAGrR,QAAQ,CAAC4B,gBAAgB,CAC9C,kDACF,CAAC;IACDyP,cAAc,CAACjP,OAAO,CAAC,UAAC6C,OAAO,EAAK;MAClC,IAAMqM,UAAU,GAAGrM,OAAO,CAACR,YAAY,CAAC,gBAAgB,CAAC;MACzD,IAAM8M,WAAW,GAAGtM,OAAO,CAAChF,aAAa,CAAC,SAAS,CAAC;MACpD,IAAIqR,UAAU,IAAIC,WAAW,EAAE;QAC7B,IAAMC,YAAY,GAAGxR,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;QAClDwN,YAAY,CAAC7O,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC;QACzC4O,YAAY,CAAC3J,SAAS,cAAAxH,MAAA,CAAWiR,UAAU,CAAE;QAC7CC,WAAW,CAACpN,WAAW,CAACqN,YAAY,CAAC;MACvC;IACF,CAAC,CAAC;EACJ;EAEA,IAAM7K,QAAQ,GAAG3G,QAAQ,CAAC4B,gBAAgB,CAAC,+BAA+B,CAAC;EAC3E,IAAI+E,QAAQ,CAAChK,MAAM,EAAE;IACnBgK,QAAQ,CAACvE,OAAO,CAAC,UAAC6C,OAAO,EAAK;MAC5B,IAAMwM,SAAS,GAAGxM,OAAO,CAAChF,aAAa,CAAC,kBAAkB,CAAC;MAC3D,IAAMyR,KAAK,GAAGzM,OAAO,CAAChF,aAAa,CAAC,SAAS,CAAC;MAC9C,IAAM0R,QAAQ,GAAGD,KAAK,CAACzR,aAAa,CAAC,YAAY,CAAC;MAElD,IAAIwR,SAAS,IAAIC,KAAK,IAAIC,QAAQ,EAAE;QAClC,IAAMC,YAAY,GAAGH,SAAS,CAAC5J,SAAS;QACxC8J,QAAQ,CAACE,kBAAkB,CACzB,UAAU,iCAAAxR,MAAA,CACmBuR,YAAY,WAC3C,CAAC;MACH;IACF,CAAC,CAAC;EACJ;EAEA,IAAME,WAAW,GAAG9R,QAAQ,CAACC,aAAa,CAAC,kBAAkB,CAAC;EAC9D,IAAI6R,WAAW,EAAE;IACf,IAAMC,GAAG,GAAGD,WAAW,CAAC7R,aAAa,CAAC,MAAM,CAAC;IAC7C,IAAM+R,iBAAiB,GAAGhS,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;IAClE,IAAI8R,GAAG,EAAE;MACP,IAAME,YAAY,GAAGjS,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;MAClDiO,YAAY,CAACtP,SAAS,CAACC,GAAG,CAAC,eAAe,CAAC;MAC3CmP,GAAG,CAACtI,OAAO,CAACwI,YAAY,CAAC;MAEzB,IAAMC,kBAAkB,GAAGlS,QAAQ,CAACC,aAAa,CAC/C,6BACF,CAAC;MACD,IAAIiS,kBAAkB,EAAE;QACtB,IAAMC,SAAS,GAAGnS,QAAQ,CAACC,aAAa,CAAC,aAAa,CAAC;QACvD6R,WAAW,CAAC3N,WAAW,CAAC+N,kBAAkB,CAAC;QAE3C,IAAME,EAAE,GAAGF,kBAAkB,CAACjS,aAAa,CAAC,IAAI,CAAC;;QAEjD;QACA;QACA,IAAMoS,YAAY,GAAGrS,QAAQ,CAACC,aAAa,CAAC,kBAAkB,CAAC;QAE/D,IAAImS,EAAE,EAAE;UAAA,IAAAE,qBAAA;UACNL,YAAY,CAACxI,OAAO,CAAC2I,EAAE,CAAC;UAExBA,EAAE,CAACvK,SAAS,IAAAyK,qBAAA,GAAGC,eAAe,CAACjJ,IAAI,CACjC,UAACjH,IAAI;YAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;UAAA,CACzC,CAAC,cAAA8I,qBAAA,uBAFcA,qBAAA,CAEZ9K,IAAI;UAEP,IAAI,CAAC0K,kBAAkB,CAACjS,aAAa,CAAC,kBAAkB,CAAC,EAAE;YACzDmS,EAAE,CAACpM,KAAK,CAACQ,OAAO,GAAG,MAAM;UAC3B;;UAEA;UACA,IAAI6L,YAAY,EAAE;YAChBD,EAAE,CAACzR,qBAAqB,CAAC,UAAU,EAAE0R,YAAY,CAAC;UACpD;QACF;QACA,IACEH,kBAAkB,CAACjS,aAAa,CAAC,kCAAkC,CAAC,EACpE;UACA,IAAMuS,cAAc,GAClBN,kBAAkB,CAACjS,aAAa,CAAC,kBAAkB,CAAC;UACtDmS,EAAE,CAACzP,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;UAC1B4P,cAAc,CAAC7P,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;QACxC;QAEA,IAAMmD,MAAM,GAAG/F,QAAQ,CAACC,aAAa,CAAC,yBAAyB,CAAC;QAChE,IAAI8F,MAAM,EAAE;UACVA,MAAM,CAAC8B,SAAS,GAAG,UAAU,CAAC,CAAC;QACjC;QACA,IAAM4K,QAAQ,GAAGP,kBAAkB,CAACjS,aAAa,CAAC,YAAY,CAAC;QAC/D,IAAIwS,QAAQ,EAAE;UACZ,IAAMC,MAAM,GAAG1S,QAAQ,CAACgE,aAAa,CAAC,IAAI,CAAC;UAC3C0O,MAAM,CAAC7K,SAAS,GAAG,OAAO;UAC1BkK,GAAG,CAAC7K,YAAY,CAACuL,QAAQ,EAAER,YAAY,CAAC;UACxCQ,QAAQ,CAAChJ,OAAO,CAACiJ,MAAM,CAAC;QAC1B;MACF;MAEA,IAAMC,WAAW,GAAG3S,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;MACjD2O,WAAW,CAAChQ,SAAS,CAACC,GAAG,CAAC,cAAc,CAAC;MACzCqP,YAAY,CAAC9N,WAAW,CAACwO,WAAW,CAAC;;MAErC;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA,IAAMC,YAAY,GAAGd,WAAW,CAAC7R,aAAa,CAAC,gBAAgB,CAAC;MAChE,IAAI2S,YAAY,EAAE;QAChBD,WAAW,CAACxO,WAAW,CAACyO,YAAY,CAAC;MACvC;MAEA,IAAMC,QAAQ,GAAG7S,QAAQ,CAACC,aAAa,CAAC,iBAAiB,CAAC;MAC1D,IAAI4S,QAAQ,EAAE;QACZ;QACA;MAAA;IAEJ;EACF;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,IAAMC,SAAS,GAAG9S,QAAQ,CAACC,aAAa,CAAC,YAAY,CAAC;EACtD,IAAI6S,SAAS,EAAE;IACb,IAAMb,aAAY,GAAGjS,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;IAC7D,IAAIgS,aAAY,EAAE;MAChBA,aAAY,CAAC9N,WAAW,CAAC2O,SAAS,CAAC;IACrC;EACF;EAEA,IAAI9S,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC,CAAC0C,SAAS,CAACkE,QAAQ,CAAC,OAAO,CAAC,EAAE;IAC9D,IAAMkM,MAAM,GAAG/S,QAAQ,CAACgE,aAAa,CAAC,IAAI,CAAC;IAC3C,IAAMgP,EAAE,GAAGhT,QAAQ,CAACC,aAAa,CAAC,wBAAwB,CAAC;IAC3D,IAAI8S,MAAM,IAAI,CAACC,EAAE,EAAE;MAAA,IAAAC,oBAAA;MACjBF,MAAM,CAAClL,SAAS,IAAAoL,oBAAA,GAAGC,cAAc,CAAC5J,IAAI,CACpC,UAACjH,IAAI;QAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;MAAA,CACzC,CAAC,cAAAyJ,oBAAA,uBAFkBA,oBAAA,CAEhBzL,IAAI;MACP,IAAM2L,GAAG,GAAGnT,QAAQ,CAACC,aAAa,CAAC,mCAAmC,CAAC;MACvE,IAAIkT,GAAG,EAAE;QACPA,GAAG,CAACjM,YAAY,CAAC6L,MAAM,EAAEI,GAAG,CAACjH,UAAU,CAAC;MAC1C;IACF;EACF;EACA,IAAIlM,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC,CAAC0C,SAAS,CAACkE,QAAQ,CAAC,QAAQ,CAAC,EAAE;IAC/D,IAAMuM,QAAQ,GAAGpT,QAAQ,CAACC,aAAa,CAAC,iBAAiB,CAAC;IAC1D,IAAMoT,iBAAiB,GAAGrT,QAAQ,CAACC,aAAa,CAAC,yBAAyB,CAAC;IAC3E,IAAImT,QAAQ,EAAE;MACZ,IAAME,eAAe,GACnB7R,MAAM,CAAC8R,YAAY,CAACjK,IAAI,CAAC,UAACjH,IAAI;QAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;MAAA,EAAC,IACjE/H,MAAM,CAAC8R,YAAY,CAAC,CAAC,CAAC;MACxBH,QAAQ,CAACpI,SAAS,GAAGsI,eAAe,CAAC9L,IAAI;MACzC4L,QAAQ,CAACzQ,SAAS,CAACC,GAAG,CAAC,cAAc,CAAC;MACtC,IAAIyQ,iBAAiB,EAAE;QACrBA,iBAAiB,CAAC1S,qBAAqB,CAAC,UAAU,EAAEyS,QAAQ,CAAC;MAC/D;IACF;IACA,IAAMI,eAAe,GAAGxT,QAAQ,CAACC,aAAa,CAAC,kBAAkB,CAAC;IAClE,IAAIuT,eAAe,IAAI,CAACxT,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC,EAAE;MAChE,IAAMwT,eAAe,GACnBhS,MAAM,CAACiS,eAAe,CAACpK,IAAI,CAAC,UAACjH,IAAI;QAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;MAAA,EAAC,IACpE/H,MAAM,CAACiS,eAAe,CAAC,CAAC,CAAC;MAC3B,IAAMC,gBAAgB,GAAG3T,QAAQ,CAACgE,aAAa,CAAC,GAAG,CAAC;MACpD2P,gBAAgB,CAACjQ,SAAS,GAAG,kCAAkC;MAC/DiQ,gBAAgB,CAAC/L,IAAI,GAAG6L,eAAe,CAACG,GAAG;MAC3CD,gBAAgB,CAAC3I,SAAS,GAAGyI,eAAe,CAACjM,IAAI;MACjD,IAAI/F,MAAM,CAACmO,UAAU,IAAI,GAAG,EAAE;QAC5B4D,eAAe,CAACrP,WAAW,CAACwP,gBAAgB,CAAC;MAC/C,CAAC,MAAM;QACL,IAAMnE,QAAO,GAAGxP,QAAQ,CAACC,aAAa,CAAC,uBAAuB,CAAC;QAC/D,IAAIuP,QAAO,EAAE;UACXA,QAAO,CAACrL,WAAW,CAACwP,gBAAgB,CAAC;QACvC;MACF;IACF;IACA,IAAME,aAAa,GAAG7T,QAAQ,CAACC,aAAa,CAAC,0BAA0B,CAAC;IACxE,IAAI4T,aAAa,EAAE;MACjB,IAAMC,gBAAgB,GACpBrS,MAAM,CAACoS,aAAa,CAACvK,IAAI,CAAC,UAACjH,IAAI;QAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;MAAA,EAAC,IAClE/H,MAAM,CAACoS,aAAa,CAAC,CAAC,CAAC;MACzBA,aAAa,CAAChM,SAAS,GAAGiM,gBAAgB,CAACtM,IAAI;IACjD;IAEA,IAAMuM,aAAa,GAAG/T,QAAQ,CAACC,aAAa,CAAC,yBAAyB,CAAC;IACvE,IAAI8T,aAAa,EAAE;MACjB,IAAMC,eAAe,GACnBvS,MAAM,CAACwS,YAAY,CAAC3K,IAAI,CAAC,UAACjH,IAAI;QAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;MAAA,EAAC,IACjE/H,MAAM,CAACwS,YAAY,CAAC,CAAC,CAAC;MACxBF,aAAa,CAAClM,SAAS,GAAGmM,eAAe,CAACxM,IAAI;IAChD;EACF;EACA,IAAIxH,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC,CAAC0C,SAAS,CAACkE,QAAQ,CAAC,QAAQ,CAAC,EAAE;IAC/D,IAAMqN,aAAa,GAAGlU,QAAQ,CAACC,aAAa,CAAC,yBAAyB,CAAC;IACvE,IAAMkU,YAAY,GAAGnU,QAAQ,CAACC,aAAa,CACzC,uCACF,CAAC;IACD,IAAIkU,YAAY,IAAID,aAAa,EAAE;MACjCC,YAAY,CAACxR,SAAS,CAACC,GAAG,CAAC,cAAc,CAAC;MAC1C,IAAMwR,WAAW,GAAGpU,QAAQ,CAACC,aAAa,CAAC,qBAAqB,CAAC;MACjE,IAAImU,WAAW,EAAE;QACfA,WAAW,CAACzR,SAAS,CAACC,GAAG,CAAC,aAAa,EAAE,cAAc,CAAC;QACxDwR,WAAW,CAACzR,SAAS,CAACE,MAAM,CAAC,eAAe,CAAC;MAC/C,CAAC,MAAM;QACLsR,YAAY,CAACxR,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;MACtC;MACA,IAAMwQ,SAAQ,GAAGpT,QAAQ,CAACC,aAAa,CAAC,iBAAiB,CAAC;MAC1D,IAAImT,SAAQ,EAAE;QACZ,IAAME,gBAAe,GACnB7R,MAAM,CAAC4S,yBAAyB,CAAC/K,IAAI,CACnC,UAACjH,IAAI;UAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;QAAA,CACzC,CAAC,IAAI/H,MAAM,CAAC4S,yBAAyB,CAAC,CAAC,CAAC;QAC1CjB,SAAQ,CAACpI,SAAS,GAAGsI,gBAAe,CAAC9L,IAAI;QACzC2M,YAAY,CAAC1K,OAAO,CAAC2J,SAAQ,CAAC;MAChC;MACAc,aAAa,CAACzK,OAAO,CAAC0K,YAAY,CAAC;IACrC;IACA,IAAMX,gBAAe,GAAGxT,QAAQ,CAACC,aAAa,CAAC,kBAAkB,CAAC;IAClE,IAAIuT,gBAAe,IAAI,CAACxT,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC,EAAE;MAChE,IAAMwT,gBAAe,GACnBhS,MAAM,CAACiS,eAAe,CAACpK,IAAI,CAAC,UAACjH,IAAI;QAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;MAAA,EAAC,IACpE/H,MAAM,CAACiS,eAAe,CAAC,CAAC,CAAC;MAC3B,IAAMC,iBAAgB,GAAG3T,QAAQ,CAACgE,aAAa,CAAC,GAAG,CAAC;MACpD2P,iBAAgB,CAACjQ,SAAS,GAAG,kCAAkC;MAC/DiQ,iBAAgB,CAAC/L,IAAI,GAAG6L,gBAAe,CAACG,GAAG;MAC3CD,iBAAgB,CAAC3I,SAAS,GAAGyI,gBAAe,CAACjM,IAAI;MACjD,IAAI/F,MAAM,CAACmO,UAAU,IAAI,GAAG,EAAE;QAC5B4D,gBAAe,CAACrP,WAAW,CAACwP,iBAAgB,CAAC;MAC/C,CAAC,MAAM;QACL,IAAMnE,SAAO,GAAGxP,QAAQ,CAACC,aAAa,CAAC,uBAAuB,CAAC;QAC/D,IAAIuP,SAAO,EAAE;UACXA,SAAO,CAACrL,WAAW,CAACwP,iBAAgB,CAAC;QACvC;MACF;IACF;EACF;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA,IAAMxJ,eAAe,GAAGnK,QAAQ,CAAC4B,gBAAgB,CAAC,uBAAuB,CAAC;EAE1EuI,eAAe,CAAC/H,OAAO,CAAC,UAAC6C,OAAO,EAAK;IACnC,IAAMQ,YAAY,GAAGR,OAAO,CAAChF,aAAa,CACxC,iCACF,CAAC;IACD,IAAMqU,UAAU,GAAGrP,OAAO,CAAChF,aAAa,CACtC,yCACF,CAAC;IAED,IACEwF,YAAY,IACZA,YAAY,CAACiB,WAAW,CAACuG,IAAI,CAAC,CAAC,KAAK,uBAAuB,EAC3D;MACA;MACAxH,YAAY,CAACpE,aAAa,CAACwB,MAAM,CAAC,CAAC;;MAEnC;MACA,IAAIyR,UAAU,EAAE;QACdA,UAAU,CAACzR,MAAM,CAAC,CAAC;MACrB;IACF;EACF,CAAC,CAAC;AACJ,CAAC;AACD,IAAI7C,QAAQ,CAAC8H,IAAI,CAACnF,SAAS,CAACkE,QAAQ,CAAC,kBAAkB,CAAC,EAAE;EACxDkH,UAAU,CAAC,CAAC;EACZ/N,QAAQ,CAACiB,gBAAgB,CAAC,6BAA6B,EAAE8M,UAAU,CAAC;AACtE;;AAEA;AACA/N,QAAQ,CAACiB,gBAAgB,CAAC,6BAA6B,EAAE,YAAM;EAC7D,IAAMsT,aAAa,GAAG1F,SAAS,CAAC,CAAC,CAAC,CAAC7L,OAAO,CAACwR,YAAY,CAACC,MAAM;EAC9D,IAAMC,kBAAkB,GAAG1U,QAAQ,CAAC4B,gBAAgB,CAAC,sBAAsB,CAAC;EAC5E,IAAI8S,kBAAkB,CAAC/X,MAAM,EAAE;IAC7B+X,kBAAkB,CAACtS,OAAO,CAAC,UAAC6C,OAAO,EAAK;MACtC,IAAM0P,YAAY,GAAG1P,OAAO,CAAChF,aAAa,CACxC,4CACF,CAAC;MACD,IAAI0U,YAAY,EAAE;QAChB,IAAMC,OAAO,GAAG5U,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;QAC7C4Q,OAAO,CAACjS,SAAS,CAACC,GAAG,CAAC,2BAA2B,CAAC;QAClDgS,OAAO,CAACzQ,WAAW,CAACwQ,YAAY,CAAC;QACjC1P,OAAO,CAACd,WAAW,CAACyQ,OAAO,CAAC;QAC5B,IAAMtD,UAAU,GAAGrM,OAAO,CAACR,YAAY,CAAC,gBAAgB,CAAC;QACzD,IAAI6M,UAAU,EAAE;UACd,IAAMuD,kBAAkB,GAAGhG,SAAS,CAAC,CAAC,CAAC,CAAC7L,OAAO,CAAC8R,IAAI,CAACC,MAAM,CACzD,UAAC1S,IAAI;YAAA,OAAKA,IAAI,CAAC2S,IAAI,KAAK1D,UAAU;UAAA,CACpC,CAAC,CAAC,CAAC,CAAC,CAAC2D,YAAY;UACjB,IAAMC,oBAAoB,GAAGlV,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;UAC1DkR,oBAAoB,CAACvS,SAAS,CAACC,GAAG,CAChC,kCACF,CAAC;UACDsS,oBAAoB,CAACrN,SAAS,MAAAxH,MAAA,CAAMwU,kBAAkB,OAAAxU,MAAA,CAAIkU,aAAa,UAAO,CAAC,CAAC;UAChFK,OAAO,CAACzQ,WAAW,CAAC+Q,oBAAoB,CAAC;QAC3C;MACF;IACF,CAAC,CAAC;EACJ;EAEA,IAAIC,gBAAgB,GAAGnV,QAAQ,CAACC,aAAa,CAAC,qBAAqB,CAAC;EACpE,IAAI,CAACkV,gBAAgB,EAAE;IACrBA,gBAAgB,GAAGnV,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;IAChDmR,gBAAgB,CAACxS,SAAS,CAACC,GAAG,CAAC,oBAAoB,CAAC;EACtD;EACA,IAAIwS,wBAAwB,GAAGC,MAAM,CACnCxG,SAAS,CAAC,CAAC,CAAC,CAAC7L,OAAO,CAAC8L,QAAQ,CAACwG,yBAAyB,CAACC,OAC1D,CAAC;EACD,IAAIH,wBAAwB,CAAC/E,QAAQ,CAAC,GAAG,CAAC,EAAE;IAC1C+E,wBAAwB,GAAGA,wBAAwB,CAACpI,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;EACvE;EAEA,IAAIwI,0BAA0B,GAAGH,MAAM,CACrCxG,SAAS,CAAC,CAAC,CAAC,CAAC7L,OAAO,CAAC8L,QAAQ,CAACwG,yBAAyB,CAACG,UAC1D,CAAC;EACD,IAAID,0BAA0B,CAACnF,QAAQ,CAAC,GAAG,CAAC,EAAE;IAC5CmF,0BAA0B,GAAGA,0BAA0B,CAACxI,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;EAC3E;EACA;;EAEA;EACA,IAAI0I,gCAAgC,GAAGzT,UAAU,CAC/CuT,0BAA0B,CAACxI,OAAO,CAAC,GAAG,EAAE,GAAG,CAC7C,CAAC;EAEDmI,gBAAgB,CAACtN,SAAS,mMAAAxH,MAAA,CAGwB+U,wBAAwB,OAAA/U,MAAA,CAAIkU,aAAa,yMAAAlU,MAAA,CAI3CsV,IAAI,CAACC,KAAK,CACpDF,gCACF,CAAC,OAAArV,MAAA,CAAIkU,aAAa,4BAErB,CAAC,CAAC;EACH,IAAMsB,yBAAyB,GAAG7V,QAAQ,CAACC,aAAa,CACtD,uBACF,CAAC;EACD,IAAI4V,yBAAyB,EAC3BA,yBAAyB,CAACxU,aAAa,CAAC6F,YAAY,CAClDiO,gBAAgB,EAChBU,yBAAyB,CAAC1O,kBAC5B,CAAC;EAEH,IAAM2O,gBAAgB,GAAG9V,QAAQ,CAACC,aAAa,CAAC,qBAAqB,CAAC;EACtE,IAAM8V,eAAe,GAAG/V,QAAQ,CAACC,aAAa,CAAC,oBAAoB,CAAC;EACpE,IAAI6V,gBAAgB,IAAIC,eAAe,EACrCA,eAAe,CAAC5R,WAAW,CAAC2R,gBAAgB,CAAC7E,SAAS,CAAC,IAAI,CAAC,CAAC;EAE/D,IAAM+E,kBAAkB,GAAGhW,QAAQ,CAACC,aAAa,CAAC,qBAAqB,CAAC;EACxE,IAAI+V,kBAAkB,EAAE;IACtB,IAAMC,uBAAuB,GAC3BpH,SAAS,CAAC,CAAC,CAAC,CAAC7L,OAAO,CAAC8L,QAAQ,CAACC,kBAAkB,CAACC,SAAS;IAC5D,IAAIiH,uBAAuB,GAAG,CAAC,EAAE;MAC/B,IAAMC,eAAe,GAAGlW,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;MACrD,IAAMmS,iBAAiB,GAAGnW,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;MACvDkS,eAAe,CAACvT,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC;MAC5CsT,eAAe,CAAC/R,WAAW,CAACgS,iBAAiB,CAAC;MAE9Cf,wBAAwB,GAAGgB,MAAM,CAAChB,wBAAwB,CAAC;MAE3De,iBAAiB,CAACnQ,KAAK,CAACqQ,KAAK,MAAAhW,MAAA,CAC3B,GAAG,GACF,GAAG,GAAG4V,uBAAuB,IAC3BA,uBAAuB,GAAGb,wBAAwB,CAAC,MACrD;MACHY,kBAAkB,CAAC7R,WAAW,CAAC+R,eAAe,CAAC;MAC/C,IAAMI,qBAAqB,GACzBN,kBAAkB,CAACpU,gBAAgB,CAAC,QAAQ,CAAC;MAC/C,IAAI0U,qBAAqB,CAAC3Z,MAAM,EAAE;QAChC2Z,qBAAqB,CAAClU,OAAO,CAAC,UAACmU,MAAM,EAAK;UACxC,IAAIA,MAAM,CAACvL,SAAS,CAACqF,QAAQ,CAAC,QAAQ,CAAC,EACrCkG,MAAM,CAAC5T,SAAS,CAACC,GAAG,CAAC,sBAAsB,CAAC,CAAC,CAAC;QAClD,CAAC,CAAC;MACJ;IACF;EACF;AACF,CAAC,CAAC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA5C,QAAQ,CAACiB,gBAAgB,CAAC,+BAA+B,EAAE,YAAM;EAC/D,IAAMuV,aAAa,GAAGxW,QAAQ,CAACC,aAAa,CAAC,iBAAiB,CAAC;EAC/D,IAAMwW,KAAK,GAAGzW,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;EAC3CyS,KAAK,CAAC9T,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;EAC7B4T,aAAa,CAAC/M,OAAO,CAACgN,KAAK,CAAC;EAC5B,IAAMC,OAAO,GAAGF,aAAa,CAACvW,aAAa,CAAC,KAAK,CAAC;EAClD,IAAIyW,OAAO,EAAED,KAAK,CAACtS,WAAW,CAACuS,OAAO,CAAC;EACvC,IAAMC,SAAS,GACbH,aAAa,CAACvW,aAAa,CAAC,aAAa,CAAC,IAC1CuW,aAAa,CAACvW,aAAa,CAAC,KAAK,CAAC;EACpC,IAAI0W,SAAS,EAAEF,KAAK,CAACtS,WAAW,CAACwS,SAAS,CAAC;EAC3C,IAAMC,SAAS,GAAG5W,QAAQ,CAACC,aAAa,CAAC,YAAY,CAAC;EACtD,IAAI2W,SAAS,EAAE;IACbA,SAAS,CAAC5L,SAAS,GAAG,QAAQ,CAAC,CAAC;IAChC4L,SAAS,CAAClU,EAAE,GAAG,WAAW;IAC1BkU,SAAS,CAACjU,SAAS,CAACC,GAAG,CAAC,OAAO,CAAC;IAChC;EACF;EACA,IAAMiU,mBAAmB,GAAG7W,QAAQ,CAACgE,aAAa,CAAC,QAAQ,CAAC;EAC5D6S,mBAAmB,CAAClU,SAAS,CAACC,GAAG,CAAC,KAAK,EAAE,cAAc,CAAC;EACxDiU,mBAAmB,CAAC7L,SAAS,GAAG,QAAQ,CAAC,CAAC;EAC1C6L,mBAAmB,CAAC5V,gBAAgB,CAAC,OAAO,EAAE,YAAM;IAClD+B,OAAO,CAAC8T,KAAK,CAACC,KAAK,CAAC,CAAC;EACvB,CAAC,CAAC;EACF,IAAMC,SAAS,GAAGR,aAAa,CAACvW,aAAa,CAAC,aAAa,CAAC;EAC5D,IAAI+W,SAAS,EAAEA,SAAS,CAACvN,OAAO,CAACoN,mBAAmB,CAAC;EAErD,IAAMI,eAAe,GAAGT,aAAa,CAAC5U,gBAAgB,CACpD,wBACF,CAAC;EACD,IAAIqV,eAAe,CAACta,MAAM,EAAE;IAC1Bsa,eAAe,CAAC7U,OAAO,CAAC,UAACmU,MAAM,EAAK;MAClC,IAAIA,MAAM,CAACvL,SAAS,KAAK,QAAQ,EAAEuL,MAAM,CAAC5T,SAAS,CAACC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;IACvE,CAAC,CAAC;EACJ;EACA,IAAMsU,UAAU,GAAGV,aAAa,CAACvW,aAAa,CAAC,4BAA4B,CAAC;EAC5E,IAAIiX,UAAU,EAAE;IACdA,UAAU,CAACrP,SAAS,GAAG,yBAAyB;EAClD;EACA,IAAMsP,GAAG,GAAGX,aAAa,CAACvW,aAAa,CAAC,2BAA2B,CAAC;EACpE,IAAIkX,GAAG,EAAE;IACPA,GAAG,CAAC3S,GAAG,GAAG2S,GAAG,CAAC1S,YAAY,CAAC,UAAU,CAAC;EACxC;EAEA,IAAM2S,qBAAqB,GAAGC,CAAC,CAAC,kCAAkC,CAAC;EACnE,IAAID,qBAAqB,CAACza,MAAM,EAAE;IAChCya,qBAAqB,CAACE,KAAK,CAACC,qBAAqB,CAAC;EACpD;AACF,CAAC,CAAC;;AAEF;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAA,EAAS;EAC5B,IAAMC,SAAS,GAAGzX,QAAQ,CAACC,aAAa,CAAC,wBAAwB,CAAC;EAClE,IAAI,CAACwX,SAAS,EAAE;EAChBzX,QAAQ,CAAC8H,IAAI,CAACnF,SAAS,CAACC,GAAG,CAAC,mBAAmB,CAAC;EAChD,IAAM8U,WAAW,GAAGD,SAAS,CAACxX,aAAa,CAAC,eAAe,CAAC;EAC5D,IAAM0X,QAAQ,GAAG3X,QAAQ,CAACgE,aAAa,CAAC,GAAG,CAAC;EAC5C2T,QAAQ,CAAChV,SAAS,CAACC,GAAG,CAAC,eAAe,EAAE,aAAa,CAAC;EACtD,IAAMgV,qBAAqB,GAAGnW,MAAM,CAACoW,iBAAiB,CAACvO,IAAI,CACzD,UAACjH,IAAI;IAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;EAAA,CACzC,CAAC,CAAChC,IAAI;EACNmQ,QAAQ,CAAC3M,SAAS,GAAG4M,qBAAqB;EAC1C,IAAIF,WAAW,EAAE;IACf,IAAMI,sBAAsB,GAAGrW,MAAM,CAACsW,kBAAkB,CAACzO,IAAI,CAC3D,UAACjH,IAAI;MAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;IAAA,CACzC,CAAC,CAAChC,IAAI;IACNkQ,WAAW,CAAC1M,SAAS,GAAG8M,sBAAsB;IAC9CJ,WAAW,CAAC/U,SAAS,CAACC,GAAG,CAAC,sBAAsB,CAAC;IACjD8U,WAAW,CAACrW,aAAa,CAAC6F,YAAY,CACpCyQ,QAAQ,EACRD,WAAW,CAACvQ,kBACd,CAAC;EACH;EACA,IAAM6Q,SAAS,GAAGP,SAAS,CAACxX,aAAa,CAAC,OAAO,CAAC;EAClD,IAAMmP,SAAS,GAAGqI,SAAS,CAACxX,aAAa,CAAC,MAAM,CAAC;EACjD,IAAMgY,WAAW,GAAGjY,QAAQ,CAACgE,aAAa,CAAC,IAAI,CAAC;EAChDiU,WAAW,CAACtV,SAAS,CAACC,GAAG,CAAC,cAAc,EAAE,aAAa,CAAC;EACxD,IAAIwM,SAAS,EAAE;IACb6I,WAAW,CAAC9T,WAAW,CAACiL,SAAS,CAAC/N,aAAa,CAAC;EAClD;EACA,IAAI2W,SAAS,EAAE;IACb,IAAME,cAAc,GAAGzW,MAAM,CAACyW,cAAc,CAAC5O,IAAI,CAC/C,UAACjH,IAAI;MAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;IAAA,CACzC,CAAC,CAAChC,IAAI;IACN,IAAM2Q,UAAU,GAAGnY,QAAQ,CAACgE,aAAa,CAAC,MAAM,CAAC;IACjDmU,UAAU,CAACnN,SAAS,GAAGkN,cAAc;IACrCF,SAAS,CAAC3W,aAAa,CAAC6F,YAAY,CAClCiR,UAAU,EACVH,SAAS,CAAC7Q,kBACZ,CAAC;IACD8Q,WAAW,CAAC9T,WAAW,CAAC6T,SAAS,CAAC3W,aAAa,CAAC;EAClD;EACAoW,SAAS,CAACtT,WAAW,CAAC8T,WAAW,CAAC;;EAElC;EACA,IAAMG,SAAS,GAAGpY,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;EAC/CoU,SAAS,CAACzV,SAAS,CAACC,GAAG,CAAC,YAAY,EAAE,aAAa,CAAC;EAEpD,IAAMyV,aAAa,GAAG5W,MAAM,CAAC6W,iBAAiB,CAAChP,IAAI,CACjD,UAACjH,IAAI;IAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;EAAA,CACzC,CAAC;EACD,IAAM+O,eAAe,GAAG9W,MAAM,CAAC+W,mBAAmB,CAAClP,IAAI,CACrD,UAACjH,IAAI;IAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;EAAA,CACzC,CAAC;EAED4O,SAAS,CAACvQ,SAAS,wBAAAxH,MAAA,CACNgY,aAAa,CAACzE,GAAG,mCAAAvT,MAAA,CAA6BgY,aAAa,CAAC7Q,IAAI,4BAAAnH,MAAA,CAChEkY,eAAe,CAAC3E,GAAG,iCAAAvT,MAAA,CAA2BkY,eAAe,CAAC/Q,IAAI,eAC7E;EAEFiQ,SAAS,CAACtT,WAAW,CAACiU,SAAS,CAAC;EAEhC,IAAMK,eAAe,GAAGzY,QAAQ,CAACC,aAAa,CAAC,sBAAsB,CAAC;EACtE,IAAIwY,eAAe,EAAEA,eAAe,CAAC5V,MAAM,CAAC,CAAC;AAC/C,CAAC;AAED,IAAM4U,SAAS,GAAGzX,QAAQ,CAACC,aAAa,CAAC,wBAAwB,CAAC;AAClE,IAAIwX,SAAS,EAAED,eAAe,CAAC,CAAC;AAEhCxX,QAAQ,CAACiB,gBAAgB,CAAC,6BAA6B,EAAE,YAAM;EAC7D,IAAI,CAAC4N,SAAS,CAAC,CAAC,CAAC,CAAC7L,OAAO,CAAC8R,IAAI,CAACnY,MAAM,EAAE6a,eAAe,CAAC,CAAC;AAC1D,CAAC,CAAC;AAEF/V,MAAM,CAACR,gBAAgB,CAAC,cAAc,EAAE,UAAUyX,KAAK,EAAE;EACvDjX,MAAM,CAACkX,cAAc,CAACC,UAAU,CAAC,eAAe,CAAC;AACnD,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMC,YAAY;EAAA,IAAAC,IAAA,GAAA1a,iBAAA,cAAAb,YAAA,GAAAE,CAAA,CAAG,SAAAsb,QAAA;IAAA,IAAAC,OAAA,EAAA5R,SAAA,EAAA6R,gBAAA,EAAAC,KAAA,EAAAC,cAAA,EAAAC,gBAAA,EAAAC,QAAA,EAAAC,YAAA,EAAAC,mBAAA,EAAAC,8BAAA,EAAAtZ,MAAA,EAAAuZ,SAAA,EAAAC,eAAA,EAAAC,oBAAA,EAAAvH,EAAA,EAAA5K,IAAA,EAAAoS,QAAA;IAAA,OAAArc,YAAA,GAAAC,CAAA,WAAAqc,QAAA;MAAA,kBAAAA,QAAA,CAAAte,CAAA;QAAA;UACnB;UACA;UACA;UACMyd,OAAO,GAAGhZ,QAAQ,CAACC,aAAa,CAAC,sBAAsB,CAAC;UAC9D,IAAI+Y,OAAO,EAAE,CACb;UACM5R,SAAS,GAAGpH,QAAQ,CAACC,aAAa,CAAC,YAAY,CAAC;UACtD,IAAImH,SAAS,EAAE;YACP6R,gBAAgB;YAQtB7R,SAAS,CAACyK,kBAAkB,CAAC,WAAW,EAAEoH,gBAAgB,CAAC;YAErDC,KAAK,GAAG9R,SAAS,CAACnH,aAAa,CAAC,QAAQ,CAAC;YAC/C,IAAIiZ,KAAK,EAAE;cACTA,KAAK,CAACrR,SAAS,GACb,8EAA8E;YAClF;UACF;UACMsR,cAAc,GAAGnZ,QAAQ,CAAC4B,gBAAgB,CAC9C,sCACF,CAAC;UACDuX,cAAc,CAAC/W,OAAO,CAAC,UAAC0X,OAAO,EAAK;YAClCA,OAAO,CAACnX,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;YAClCkX,OAAO,CAAC7Y,gBAAgB,CAAC,OAAO,EAAE,YAAM;cACtC6Y,OAAO,CAACC,OAAO,CAAC,iBAAiB,CAAC,CAACpX,SAAS,CAACqX,MAAM,CAAC,QAAQ,CAAC;YAC/D,CAAC,CAAC;UACJ,CAAC,CAAC;UACIZ,gBAAgB,GAAGpZ,QAAQ,CAACC,aAAa,CAC7C,iCACF,CAAC;UACD,IAAImZ,gBAAgB,EAAE;YACpBA,gBAAgB,CAACzW,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;YAC3CwW,gBAAgB,CAACnY,gBAAgB,CAAC,OAAO,EAAE,YAAM;cAC/CmY,gBAAgB,CACbW,OAAO,CAAC,4BAA4B,CAAC,CACrCpX,SAAS,CAACqX,MAAM,CAAC,QAAQ,CAAC;YAC/B,CAAC,CAAC;UACJ;UAEMX,QAAQ,GAAGrZ,QAAQ,CAACC,aAAa,CAAC,oBAAoB,CAAC;UACvDqZ,YAAY,GAAGtZ,QAAQ,CAACC,aAAa,CAAC,wBAAwB,CAAC;UACrE,IAAIqZ,YAAY,EAAE;YAChBA,YAAY,CAACpS,YAAY,CAACmS,QAAQ,EAAEC,YAAY,CAACpN,UAAU,CAAC;UAC9D;UACMqN,mBAAmB,GAAGvZ,QAAQ,CAACC,aAAa,CAChD,iCACF,CAAC;UACKuZ,8BAA8B,GAAGxZ,QAAQ,CAACC,aAAa,CAC3D,+BACF,CAAC;UACD,IAAIsZ,mBAAmB,IAAIC,8BAA8B,EAAE;YACzDA,8BAA8B,CAACS,MAAM,CAACV,mBAAmB,CAAC;UAC5D;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACMrZ,MAAM,GAAGF,QAAQ,CAACC,aAAa,CAAC,SAAS,CAAC;UAC1CwZ,SAAS,GAAGzZ,QAAQ,CAACC,aAAa,CAAC,4BAA4B,CAAC;UAEhEyZ,eAAe,GAAG1Z,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;UAChE,IAAIyZ,eAAe,EAAE;YACnBxZ,MAAM,CAACS,qBAAqB,CAAC,aAAa,EAAE+Y,eAAe,CAAC;UAC9D;UACA,IAAID,SAAS,EAAE;YACPrH,EAAE,GAAGqH,SAAS,CAACxZ,aAAa,CAAC,IAAI,CAAC;YAClCuH,IAAI,IAAAmS,oBAAA,GAAGO,cAAc,CAAC5Q,IAAI,CAC9B,UAACjH,IAAI;cAAA,OAAKA,IAAI,CAACkH,QAAQ,KAAKC,WAAW;YAAA,CACzC,CAAC,cAAAmQ,oBAAA,uBAFYA,oBAAA,CAEVnS,IAAI;YACP,IAAI4K,EAAE,IAAI5K,IAAI,EAAE4K,EAAE,CAACvK,SAAS,GAAGL,IAAI;YACnCtH,MAAM,CAACS,qBAAqB,CAAC,aAAa,EAAE8Y,SAAS,CAAC;UACxD;UAEMG,QAAQ,GAAG5Z,QAAQ,CAACC,aAAa,CAAC,WAAW,CAAC;UACpD,IAAI2Z,QAAQ,IAAI1Z,MAAM,EAAE;YACtBA,MAAM,CAACuL,UAAU,CAACvE,YAAY,CAAC0S,QAAQ,EAAE1Z,MAAM,CAAC;UAClD;QAAC;UAAA,OAAA2Z,QAAA,CAAArd,CAAA;MAAA;IAAA,GAAAuc,OAAA;EAAA,CACF;EAAA,gBA7FKF,YAAYA,CAAA;IAAA,OAAAC,IAAA,CAAAxa,KAAA,OAAAD,SAAA;EAAA;AAAA,GA6FjB;AACDwa,YAAY,CAAC,CAAC;;AAEd;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI9T,WAAW,KAAK,UAAU,EAAE;EAAA,IA4DrBoV,gBAAgB,GAAzB,SAASA,gBAAgBA,CAAA,EAAG;IAC1B,IAAMrS,IAAI,GAAG9H,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;IAC3C,IAAIma,kBAAkB,GAAGpa,QAAQ,CAACC,aAAa,CAAC,kBAAkB,CAAC;IACnE,IAAMoa,UAAU,GAAGra,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC;IACzD,IAAMqa,SAAS,GAAGD,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEpa,aAAa,CAAC,2BAA2B,CAAC;IAExE,IAAIsa,UAAU;IACd,IAAID,SAAS,EAAE;MACbC,UAAU,GAAGva,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;MAC1CuW,UAAU,CAAC5X,SAAS,CAACC,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;MAEpD0X,SAAS,CAAC3X,SAAS,CAACE,MAAM,CAAC,UAAU,CAAC;MAEtC0X,UAAU,CAACpW,WAAW,CAACmW,SAAS,CAAC;MAEjC,IAAIF,kBAAkB,EAAE;QACtBA,kBAAkB,CAACzZ,qBAAqB,CAAC,UAAU,EAAE4Z,UAAU,CAAC;MAClE,CAAC,MAAM,IAAIF,UAAU,EAAE;QACrBA,UAAU,CAAC1Z,qBAAqB,CAAC,UAAU,EAAE4Z,UAAU,CAAC;MAC1D;IACF;IAEA,IAAMC,eAAe,GAAGxa,QAAQ,CAAC4B,gBAAgB,CAAC,uBAAuB,CAAC;;IAE1E;IACA,IAAM6Y,gBAAgB,GACpBza,QAAQ,CAACC,aAAa,CAAC,yBAAyB,CAAC,IACjDD,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC;IAEzC,IAAMya,QAAQ,GAAG,EAAE;IAEnBF,eAAe,CAACpY,OAAO,CAAC,UAAC0X,OAAO,EAAE7V,KAAK,EAAK;MAC1C,IAAM0W,UAAU,GAAGb,OAAO,CAACpW,SAAS,CAACkX,KAAK,CAAC,4BAA4B,CAAC;MACxE,IAAID,UAAU,CAAChe,MAAM,GAAG,CAAC,EAAE;QACzB,IAAMke,aAAa,GAAGF,UAAU,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACjD,IAAME,cAAc,GAAG9a,QAAQ,CAACC,aAAa,uBAAAI,MAAA,CACrBwa,aAAa,CACrC,CAAC;QAED,IAAIC,cAAc,EAAE;UAClB,IAAMC,OAAO,GAAG/a,QAAQ,CAACgE,aAAa,CAAC,SAAS,CAAC;UACjD+W,OAAO,CAACpY,SAAS,CAACC,GAAG,CACnB,iBAAiB,qBAAAvC,MAAA,CACEwa,aAAa,CAClC,CAAC;UAED,IAAI5W,KAAK,KAAK,CAAC,EAAE;YACf8W,OAAO,CAACpY,SAAS,CAACC,GAAG,CAAC,oBAAoB,CAAC;UAC7C;UAEA,IAAMoY,SAAS,GAAGhb,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;UAC/CgX,SAAS,CAACrY,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;UACpCmY,OAAO,CAAC5W,WAAW,CAAC6W,SAAS,CAAC;UAC9BA,SAAS,CAAC7W,WAAW,CAAC2V,OAAO,CAAC;UAC9BkB,SAAS,CAAC7W,WAAW,CAAC2W,cAAc,CAAC;UAErCJ,QAAQ,CAACO,IAAI,CAACF,OAAO,CAAC;QACxB;MACF;IACF,CAAC,CAAC;;IAEF;IACA,IAAIL,QAAQ,CAAC/d,MAAM,GAAG,CAAC,EAAE;MACvB,IAAMue,gBAAgB,GAAGd,kBAAkB,IAAIC,UAAU;;MAEzD;MACAa,gBAAgB,aAAhBA,gBAAgB,eAAhBA,gBAAgB,CAAEva,qBAAqB,CAAC,UAAU,EAAE+Z,QAAQ,CAAC,CAAC,CAAC,CAAC;;MAEhE;MACA,IAAIA,QAAQ,CAAC,CAAC,CAAC,IAAIH,UAAU,EAAE;QAC7BA,UAAU,CAAC5Z,qBAAqB,CAAC,UAAU,EAAE+Z,QAAQ,CAAC,CAAC,CAAC,CAAC;MAC3D;;MAEA;MACA,IAAIA,QAAQ,CAAC,CAAC,CAAC,IAAID,gBAAgB,EAAE;QACnCA,gBAAgB,CAAC9Z,qBAAqB,CAAC,UAAU,EAAE+Z,QAAQ,CAAC,CAAC,CAAC,CAAC;MACjE;;MAEA;MACA,KAAK,IAAI/e,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+e,QAAQ,CAAC/d,MAAM,EAAEhB,CAAC,EAAE,EAAE;QACxC+e,QAAQ,CAAC/e,CAAC,GAAG,CAAC,CAAC,CAACgF,qBAAqB,CAAC,UAAU,EAAE+Z,QAAQ,CAAC/e,CAAC,CAAC,CAAC;MAChE;IACF;;IAEA;IACA,IAAMwf,aAAa,GAAGnb,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;IAC9D,IAAIkb,aAAa,EAAE;MAAA,IAAAC,iBAAA;MACjB,IAAI,EAAAA,iBAAA,GAAA3Z,MAAM,CAACoN,SAAS,cAAAuM,iBAAA,gBAAAA,iBAAA,GAAhBA,iBAAA,CAAmB,CAAC,CAAC,cAAAA,iBAAA,gBAAAA,iBAAA,GAArBA,iBAAA,CAAuBpY,OAAO,cAAAoY,iBAAA,uBAA9BA,iBAAA,CAAgCC,QAAQ,MAAK,UAAU,EAAE;QAC3D,IAAMC,kBAAkB,GAAGtb,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC;QACjE,IAAIqb,kBAAkB,EAAE;UACtBA,kBAAkB,CAACnX,WAAW,CAACgX,aAAa,CAAC;QAC/C;MACF;IACF;EACF,CAAC;EAzJD,IAAMI,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAA,EAAS;IAC9B,IAAMC,WAAW,GAAGxb,QAAQ,CAAC4B,gBAAgB,CAAC,WAAW,CAAC;IAE1D,IAAI,CAAC4Z,WAAW,EAAE;IAElB,IAAMC,WAAW,GAAG,EAAE;IAAC,IAAAC,UAAA,GAAAxc,0BAAA,CAEAsc,WAAW;MAAAG,MAAA;IAAA;MAAlC,KAAAD,UAAA,CAAArc,CAAA,MAAAsc,MAAA,GAAAD,UAAA,CAAAngB,CAAA,IAAAwB,IAAA,GAAoC;QAAA,IAAzB4J,SAAQ,GAAAgV,MAAA,CAAA3e,KAAA;QACjB;;QAEAye,WAAW,CAACR,IAAI,KAAA5a,MAAA,CAAKsG,SAAQ,CAACjE,EAAE,CAAE,CAAC;MACrC;MACA;IAAA,SAAA9B,GAAA;MAAA8a,UAAA,CAAAvgB,CAAA,CAAAyF,GAAA;IAAA;MAAA8a,UAAA,CAAAvf,CAAA;IAAA;IACA,OAAOsf,WAAW;EACpB,CAAC;EAEDtT,SAAS,CAAC;IACRC,UAAU,EAAA3J,kBAAA,CAAM8c,iBAAiB,CAAC,CAAC,CAAC;IACpClT,KAAK,EAAE,CAACF,SAAS,CAACyT,WAAW,CAACL,iBAAiB,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;IAC/DjT,aAAa,EAAE;MACbC,UAAU,EAAE,KAAK;MACjBC,QAAQ,EAAE,IAAI;MACdC,IAAI,EAAE,IAAI;MACVC,MAAM,EAAE,IAAI;MACZC,SAAS,EAAE,KAAK;MAChBC,YAAY,EAAE,IAAI;MAClBiT,MAAM,EAAE,IAAI,CAAE;IAChB,CAAC;IAEDhT,aAAa,EAAE;MACbC,SAAS,EAAE,YAAY;MACvBC,KAAK,EAAE,GAAG;MACVE,aAAa,EAAE,GAAG;MAClBD,YAAY,EAAE,EAAE;MAChB2C,WAAW,EAAE;QACX,IAAI,EAAE;UACJ1C,aAAa,EAAE,CAAC;UAChBD,YAAY,EAAE;QAChB,CAAC;QACD,IAAI,EAAE;UACJC,aAAa,EAAE,CAAC;UAChBD,YAAY,EAAE;QAChB,CAAC;QACD,IAAI,EAAE;UACJC,aAAa,EAAE,CAAC;UAChBD,YAAY,EAAE;QAChB,CAAC;QACD,GAAG,EAAE;UACHC,aAAa,EAAE,CAAC;UAChBD,YAAY,EAAE;QAChB,CAAC;QACD,GAAG,EAAE;UACHC,aAAa,EAAE,CAAC;UAChBD,YAAY,EAAE;QAChB;MACF;IACF;EACF,CAAC,CAAC;EAkGFmR,gBAAgB,CAAC,CAAC;EAElB,IAAI1Y,MAAM,CAACmO,UAAU,IAAI,GAAG,EAAE;IAC5B,IAAMkM,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAA,EAAS;MAC/B,IAAMC,eAAe,GAAG/b,QAAQ,CAAC4B,gBAAgB,CAAC,kBAAkB,CAAC;MAErEma,eAAe,CAAC3Z,OAAO,CAAC,UAAC2Y,OAAO,EAAE9W,KAAK,EAAK;QAC1C,IAAM+W,SAAS,GAAGD,OAAO,CAAC9a,aAAa,CAAC,YAAY,CAAC;QACrD,IAAM6Z,OAAO,GAAGkB,SAAS,CAAC/a,aAAa,CAAC,uBAAuB,CAAC;QAEhE,IAAM+b,aAAa,GAAGC,KAAK,CAAC3S,IAAI,CAC9B,UAAC4S,KAAK;UAAA,OAAKA,KAAK,CAAC3S,QAAQ,KAAKC,WAAW;QAAA,CAC3C,CAAC;QAED,IAAIwS,aAAa,EAAE;UACjB,IAAMlP,IAAI,GAAGkP,aAAa,CAACC,KAAK,CAAC3S,IAAI,CAAC,UAACwD,IAAI;YAAA,OAAKA,IAAI,CAAC7I,KAAK,KAAKA,KAAK;UAAA,EAAC;UACrE,IAAI6I,IAAI,EAAE;YACR,IAAM/G,MAAM,GAAG/F,QAAQ,CAACgE,aAAa,CAAC,GAAG,CAAC;YAC1C+B,MAAM,CAACpD,SAAS,CAACC,GAAG,CAAC,KAAK,EAAE,aAAa,CAAC;YAC1CmD,MAAM,CAAC6B,IAAI,GAAGkF,IAAI,CAAC8G,GAAG;YACtB7N,MAAM,CAACW,WAAW,MAAArG,MAAA,CAAMyM,IAAI,CAACpN,IAAI,CAAE;YAEnC,IAAIoa,OAAO,EAAE;cACX;cACA,IAAMtO,QAAO,GAAGxL,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;cAC7CwH,QAAO,CAAC7I,SAAS,CAACC,GAAG,CAAC,OAAO,CAAC;;cAE9B;cACA4I,QAAO,CAACrH,WAAW,CAAC2V,OAAO,CAAC;cAC5BtO,QAAO,CAACrH,WAAW,CAAC4B,MAAM,CAAC;;cAE3B;cACAiV,SAAS,CAACra,qBAAqB,CAAC,YAAY,EAAE6K,QAAO,CAAC;YACxD,CAAC,MAAM;cACL;cACAwP,SAAS,CAAC7W,WAAW,CAAC4B,MAAM,CAAC;YAC/B;UACF;QACF;MACF,CAAC,CAAC;IACJ,CAAC;;IAED;IACA+V,kBAAkB,CAAC,CAAC;EACtB;EACA9b,QAAQ,CAACiB,gBAAgB,CAAC,OAAO,EAAE,UAAU9F,CAAC,EAAE;IAC9C,IAAMiX,EAAE,GAAGjX,CAAC,CAACuF,MAAM,CAACqZ,OAAO,CAAC,kBAAkB,CAAC;IAC/C,IAAI3H,EAAE,EAAE;MACN,IAAM+J,SAAS,GAAG/J,EAAE,CAAC2H,OAAO,CAAC,aAAa,CAAC;MAC3C,IAAIoC,SAAS,EAAE;QACbA,SAAS,CAACxZ,SAAS,CAACqX,MAAM,CAAC,QAAQ,CAAC;MACtC;IACF;EACF,CAAC,CAAC;AACJ;AAEA,SAASoC,cAAcA,CAACrb,QAAQ,EAAEsb,KAAK,EAAE;EACvC,IAAM3Q,aAAa,GAAG1L,QAAQ,CAACC,aAAa,IAAAI,MAAA,CAAIU,QAAQ,qBAAkB,CAAC;EAC3E,IAAI2K,aAAa,EAAE;IACjB2Q,KAAK,CAACC,IAAI,CAAC,UAAC9f,CAAC,EAAE+f,CAAC;MAAA,OAAKA,CAAC,CAAClG,KAAK,GAAG7Z,CAAC,CAAC6Z,KAAK;IAAA,EAAC;IACvC,IAAMmG,cAAc,GAAGH,KAAK,CAAC/S,IAAI,CAAC,UAACmT,IAAI;MAAA,OAAKhb,MAAM,CAACmO,UAAU,GAAG6M,IAAI,CAACpG,KAAK;IAAA,EAAC;IAE3E,IAAImG,cAAc,EAAE;MAClB,KAAK,IAAI7gB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6gB,cAAc,CAACE,gBAAgB,EAAE/gB,CAAC,EAAE,EAAE;QACxD,IAAMghB,UAAU,GAAG3c,QAAQ,CAACgE,aAAa,CAAC,KAAK,CAAC;QAChD2Y,UAAU,CAACha,SAAS,CAACC,GAAG,CAAC,cAAc,CAAC;QACxC8I,aAAa,CAACvH,WAAW,CAACwY,UAAU,CAAC;MACvC;IACF;EACF;AACF;;AAEA;AACA,IAAIjc,MAAM,GAAGV,QAAQ,CAAC4B,gBAAgB,CAAC,iBAAiB,CAAC;AACzD,IAAMgb,OAAO,GAAG5c,QAAQ,CAACC,aAAa,CAAC,sBAAsB,CAAC;AAC9D,SAAS4c,kBAAkBA,CAACC,OAAO,EAAE;EACnCA,OAAO,CAACC,GAAG,CAAC,UAACC,KAAK,EAAE/Y,KAAK,EAAK;IAC5B+Y,KAAK,CAACtc,MAAM,CAACsF,KAAK,CAACiX,cAAc,CAAC,mBAAmB,CAAC;IACtDD,KAAK,CAACtc,MAAM,CAACwc,YAAY,CACvB,OAAO,EACPF,KAAK,CAACtc,MAAM,CAAC+D,YAAY,CAAC,OAAO,CAAC,GAC9BuY,KAAK,CAACtc,MAAM,CAAC+D,YAAY,CAAC,OAAO,CAAC,yBAAApE,MAAA,CAAyB4D,KAAK,CAAE,yBAAA5D,MAAA,CAC5C4D,KAAK,CACjC,CAAC;IACD;IACA,IAAI+Y,KAAK,CAACG,cAAc,EAAE;MACxBH,KAAK,CAACtc,MAAM,CAACiC,SAAS,CAACC,GAAG,CAAC,SAAS,CAAC;IACvC;EACF,CAAC,CAAC;AACJ;AACA,IAAMS,QAAQ,GAAG,IAAI+Z,oBAAoB,CAACP,kBAAkB,CAAC;AAC7D,IAAMQ,SAAS,GAAG,IAAID,oBAAoB,CAACP,kBAAkB,CAAC;AAC9D,IAAInc,MAAM,CAAC/D,MAAM,EAAE;EACjB+D,MAAM,CAAC0B,OAAO,CAAC,UAACC,IAAI,EAAK;IACvBA,IAAI,CAACM,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;IAC/B,IAAM0a,UAAU,GAAGjb,IAAI,CAACT,gBAAgB,CAAC,UAAU,CAAC;IACpD0b,UAAU,CAAClb,OAAO,CAAC,UAACmb,SAAS,EAAK;MAChCla,QAAQ,CAACuB,OAAO,CAAC2Y,SAAS,CAAC;IAC7B,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AACAvd,QAAQ,CAACiB,gBAAgB,CAAC,kCAAkC,EAAE,YAAM;EAClE,IAAIP,MAAM,CAAC/D,MAAM,EAAE;IACjB+D,MAAM,CAAC0B,OAAO,CAAC,UAACC,IAAI,EAAK;MACvBA,IAAI,CAACM,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;MAC/B,IAAM0a,UAAU,GAAGjb,IAAI,CAACT,gBAAgB,CAAC,UAAU,CAAC;MACpD0b,UAAU,CAAClb,OAAO,CAAC,UAACmb,SAAS,EAAK;QAChCla,QAAQ,CAACuB,OAAO,CAAC2Y,SAAS,CAAC;MAC7B,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;AACF,IAAIX,OAAO,EAAE;EACXA,OAAO,CAACja,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;EAClC,IAAM0a,UAAU,GAAGV,OAAO,CAAChb,gBAAgB,CAAC,WAAW,CAAC;EACxD0b,UAAU,CAAClb,OAAO,CAAC,UAACmb,SAAS,EAAK;IAChCF,SAAS,CAACzY,OAAO,CAAC2Y,SAAS,CAAC;EAC9B,CAAC,CAAC;AACJ;AAIA,IAAI9b,MAAM,CAACmO,UAAU,GAAG,GAAG,EAAE;EAC3B,IAAM4N,oBAAoB,GAAGxd,QAAQ,CAACC,aAAa,CACjD,0BACF,CAAC;EACD,IAAMwd,YAAY,GAAGzd,QAAQ,CAACC,aAAa,CAAC,4BAA4B,CAAC;EAEzE,IAAIud,oBAAoB,IAAIC,YAAY,EAAE;IACxCA,YAAY,CAACtZ,WAAW,CAACqZ,oBAAoB,CAAC;EAChD;AACF;AAEA,SAASE,cAAcA,CAAChd,MAAM,EAAiC;EAAA,IAA/Bid,MAAM,GAAAtf,SAAA,CAAA1B,MAAA,QAAA0B,SAAA,QAAAuf,SAAA,GAAAvf,SAAA,MAAG,CAAC,GAAG;EAAA,IAAEwf,QAAQ,GAAAxf,SAAA,CAAA1B,MAAA,QAAA0B,SAAA,QAAAuf,SAAA,GAAAvf,SAAA,MAAG,GAAG;EAC3D,IAAM6C,aAAa,GAAGlB,QAAQ,CAACC,aAAa,CAACS,MAAM,CAAC;EACpD,IAAIQ,aAAa,EAAE;IACjB,IAAM4c,cAAc,GAClB5c,aAAa,CAAC6c,qBAAqB,CAAC,CAAC,CAACC,GAAG,GAAGvc,MAAM,CAACwc,WAAW,GAAGN,MAAM;IACzElc,MAAM,CAACyc,QAAQ,CAAC;MACdF,GAAG,EAAEF,cAAc;MACnBK,QAAQ,EAAE;IACZ,CAAC,CAAC;EACJ;AACF;;AAEA;AACAtd,EAAE,CAAC,OAAO,EAAE,eAAe,EAAE,UAAU1F,CAAC,EAAE;EACxC,IAAMuF,MAAM,GAAG,IAAI,CAAC+D,YAAY,CAAC,MAAM,CAAC;EACxC,IAAIzE,QAAQ,CAACC,aAAa,CAACS,MAAM,CAAC,EAAE;IAClCgd,cAAc,CAAChd,MAAM,EAAE,GAAG,CAAC;EAC7B;AACF,CAAC,CAAC;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,M","sources":["webpack://sniper-one/./src/js/script.js"],"sourcesContent":["// -- Split menu -- //\r\nfunction moveElement(elementSelector, targetSelectors) {\r\n  const element = document.querySelector(elementSelector);\r\n  const footer = document.querySelector(\"footer\");\r\n\r\n  if (!element) {\r\n    console.error(`Prvek ${elementSelector} nebyl nalezen`);\r\n    return;\r\n  }\r\n\r\n  let moved = false;\r\n\r\n  for (const targetSelector of targetSelectors) {\r\n    const target = document.querySelector(targetSelector);\r\n    if (target) {\r\n      target.insertAdjacentElement(\"afterend\", element);\r\n      moved = true;\r\n      break;\r\n    }\r\n  }\r\n\r\n  if (!moved && footer) {\r\n    footer.insertAdjacentElement(\"beforebegin\", element);\r\n  }\r\n}\r\n\r\n//On funkce, na kliknut a zavoln funkce\r\nfunction on(eventType, selector, callback) {\r\n  document.addEventListener(eventType, function (e) {\r\n    let targetElement = e.target;\r\n    while (targetElement && targetElement !== document) {\r\n      if (targetElement.matches(selector)) {\r\n        e.preventDefault();\r\n        callback.call(targetElement, e);\r\n        break;\r\n      }\r\n      targetElement = targetElement.parentElement;\r\n    }\r\n  });\r\n}\r\n\r\nconst splitMenu = () => {\r\n    const menuWrapper = document.querySelector(\"#navigation .navigation-in\");\r\n    const menuHelper = document.querySelector(\".menu-helper\");\r\n    \r\n    if (!menuWrapper || !menuHelper) return;\r\n\r\n    // requestAnimationFrame je pro vpoty layoutu lep ne setTimeout\r\n    window.requestAnimationFrame(() => {\r\n        const menuItems = menuWrapper.querySelectorAll(\".menu-level-1 > li:not(.appended-category)\");\r\n        const menuWrapperStyle = window.getComputedStyle(menuWrapper);\r\n        const availableWidth = menuWrapper.clientWidth - parseFloat(menuWrapperStyle.paddingRight);\r\n        \r\n        let hasVisibleInHelper = false;\r\n\r\n        menuItems.forEach((item) => {\r\n            const offsetRight = item.offsetLeft + item.offsetWidth;\r\n            \r\n            // Najdeme odpovdajc poloku v helperu (priorita ID, pak tda)\r\n            const itemInHelper = item.id === \"nav-manufacturers\"\r\n                ? menuHelper.querySelector(\"#nav-manufacturers\")\r\n                : menuHelper.querySelector(`.${item.classList[0]}`);\r\n\r\n            if (offsetRight > availableWidth) {\r\n                // Poloka se nevejde -> schovat v hlavnm menu, ukzat v helperu\r\n                item.classList.add(\"splitted\");\r\n                if (itemInHelper) {\r\n                    itemInHelper.classList.remove(\"splitted\");\r\n                    hasVisibleInHelper = true; // Mme co zobrazit v \"Vce...\"\r\n                }\r\n            } else {\r\n                // Poloka se vejde -> ukzat v hlavnm menu, schovat v helperu\r\n                item.classList.remove(\"splitted\");\r\n                if (itemInHelper) itemInHelper.classList.add(\"splitted\");\r\n            }\r\n        });\r\n\r\n        // Finln pepnut stavu \"Vce...\" (menuHelper)\r\n        // Kontrolujeme, jestli v helperu zbyla aspo jedna poloka, co nen .splitted\r\n        const itemsToDisplayInHelper = menuHelper.querySelector(\".menu-level-1 > li:not(.splitted):not(.appended-category)\");\r\n        \r\n        if (itemsToDisplayInHelper) {\r\n            menuHelper.classList.remove(\"empty\");\r\n            menuWrapper.classList.remove(\"fitted\");\r\n        } else {\r\n            menuHelper.classList.add(\"empty\");\r\n            menuWrapper.classList.add(\"fitted\");\r\n        }\r\n    });\r\n};\r\n\r\n// Pepsn Shoptet funkce\r\nif (window.shoptet?.menu) {\r\n    shoptet.menu.splitMenu = splitMenu;\r\n}\r\n\r\n// Zajitn, e se menu pepot pi zmn velikosti okna\r\nwindow.addEventListener('resize', debounce(splitMenu, 150));\r\n// CAROUSEL\r\nconst handleCarousel = () => {\r\n  const carousel = document.querySelector(\"#carousel .carousel-inner\");\r\n  if (carousel) {\r\n    let observer = new MutationObserver((mutationList) => {\r\n      let currentItem;\r\n      mutationList.forEach((mutation) => {\r\n        if (mutation.target.className === \"item active\") {\r\n          currentItem = mutation.target;\r\n        }\r\n      });\r\n      if (typeof currentItem == \"undefined\") return;\r\n      let actualIndex = [\r\n          ...document.querySelectorAll(\".carousel-inner .item\"),\r\n        ].indexOf(currentItem),\r\n        dotsList = document.querySelectorAll(\".carousel-dots li\");\r\n      dotsList.forEach((dot) => {\r\n        dot.classList.remove(\"dot-active\");\r\n      });\r\n      dotsList[actualIndex].classList.add(\"dot-active\");\r\n    });\r\n    let dotsCounter = 0,\r\n      dotsList = document.createElement(\"ul\");\r\n    dotsList.classList.add(\"carousel-dots\");\r\n    carousel.querySelectorAll(\".item\").forEach((item, index) => {\r\n      dotsCounter += 1;\r\n      let dotEl = document.createElement(\"li\");\r\n      dotsList.appendChild(dotEl);\r\n      if (index === 0) dotEl.classList.add(\"dot-active\");\r\n      dotEl.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n        document\r\n          .querySelector(\".carousel-inner .item.active\")\r\n          .classList.remove(\"active\");\r\n        let targetItem = document.querySelectorAll(\".carousel-inner .item\")[\r\n          index\r\n        ];\r\n        const targetItemMedia = targetItem.querySelector(\"img, video\");\r\n        if (targetItemMedia) {\r\n          if (\r\n            targetItemMedia.tagName.toLowerCase() === \"img\" &&\r\n            !targetItemMedia.src\r\n          ) {\r\n            targetItemMedia.src = targetItemMedia.getAttribute(\"data-src\");\r\n          } else if (targetItemMedia.tagName.toLowerCase() === \"video\") {\r\n            const sourceElement = targetItemMedia.querySelector(\"source\");\r\n            if (sourceElement && !sourceElement.src) {\r\n              sourceElement.src = sourceElement.getAttribute(\"data-src\");\r\n              targetItemMedia.load(); // Reload the video to apply the new source\r\n            }\r\n          }\r\n        }\r\n        targetItem.classList.add(\"active\");\r\n      });\r\n      observer.observe(item, {\r\n        attributes: true,\r\n        attributeFilter: [\"class\"],\r\n      });\r\n    });\r\n    carousel.appendChild(dotsList);\r\n  }\r\n\r\n  // const videoObserver = new IntersectionObserver((entries, observer) => {\r\n  // \tfor (const entry of entries) {\r\n  // \t\tconst video = entry.target;\r\n  // \t\tif (entry.isIntersecting) {\r\n  // \t\t\tvideo.play();\r\n  // \t\t\t// Disconnect the observer for this video\r\n  // \t\t\tobserver.unobserve(video);\r\n  // \t\t} else {\r\n  // \t\t\tvideo.pause();\r\n  // \t\t}\r\n  // \t}\r\n  // }, {\r\n  // \trootMargin: '0px 0px 0px 0px',\r\n  // \tthreshold: 0.1 // Adjust threshold as needed\r\n  // });\r\n\r\n  // // Select all video elements and observe them\r\n  // document.querySelectorAll('video').forEach((video) => {\r\n  // \tvideoObserver.observe(video);\r\n  // });\r\n};\r\nif (shoptetPage == \"homepage\") {\r\n  handleCarousel();\r\n}\r\n\r\n// FLAGS and card\r\nconst handleFlags = (product) => {\r\n  const flagsDefault = product.querySelector(\".flags-default\");\r\n  const flagsExtra = product.querySelector(\".flags-extra\");\r\n\r\n  if (flagsDefault && flagsExtra) {\r\n    flagsDefault.appendChild(flagsExtra);\r\n    flagsDefault.classList.add(\"contains-extra\");\r\n  }\r\n};\r\n\r\nconst handleTextLayout = (product) => {\r\n  const priceStandard = product.querySelector(\".price-standard\");\r\n  const prices = product.querySelector(\".prices\");\r\n  const pDesc = product.querySelector(\".p-desc\");\r\n  const pInIn = product.querySelector(\".p-in-in\");\r\n  const availability = product.querySelector(\".availability\");\r\n\r\n  const availabilitySpan = availability?.querySelector(\"span\");\r\n  const pricesFinal = product.querySelector(\".prices .price-final\");\r\n\r\n  const priceAditional = product.querySelector(\".price-additional\");\r\n  const addToCartButton = product.querySelector(\".add-to-cart-button\");\r\n\r\n  const pCode = product.querySelector(\".p-code\");\r\n\r\n  if (pCode && pInIn) {\r\n    pInIn.insertAdjacentElement(\"afterbegin\", pCode);\r\n  }\r\n\r\n  if (priceStandard && prices) {\r\n    prices.appendChild(priceStandard);\r\n  }\r\n\r\n  const button = product.querySelector(\"button\");\r\n  if (!button) {\r\n    if (prices) prices.style.visibility = \"hidden\";\r\n    if (availability) availability.style.visibility = \"hidden\";\r\n  }\r\n\r\n  const image = product.querySelector(\".image\");\r\n  const starsRating = product.querySelector(\".stars-wrapper\");\r\n  if (starsRating) {\r\n    image.appendChild(starsRating);\r\n    const ratingValue = starsRating.getAttribute(\"data-micro-rating-value\");\r\n    if (ratingValue) {\r\n      if (parseFloat(ratingValue) === 0) {\r\n        starsRating.remove();\r\n      } else {\r\n        const allStars = starsRating.querySelectorAll(\".star\");\r\n        // Skryj vechny hvzdy krom prvn\r\n        allStars.forEach((star, idx) => {\r\n          if (idx > 0) {\r\n            star.style.display = \"none\";\r\n          } else {\r\n            star.style.display = \"\"; // prvn hvzda zobrazena\r\n          }\r\n        });\r\n\r\n        // Ov, zda u existuje span s ratingem\r\n        let ratingSpan = starsRating.querySelector(\".rating-value\");\r\n        if (!ratingSpan) {\r\n          ratingSpan = document.createElement(\"span\");\r\n          ratingSpan.className = \"rating-value\";\r\n          ratingSpan.textContent = ratingValue;\r\n          starsRating.appendChild(ratingSpan);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // ...existing code...\r\n};\r\nconst products = document.querySelectorAll(\r\n  \".products-block .product:not(.banner-category)\"\r\n);\r\n\r\nconst mmAllProducts = document.querySelectorAll(\".products-block .product\");\r\nif (mmAllProducts.length) {\r\n  mmAllProducts.forEach((product) => {\r\n    if (!product.classList.contains(\"banner-category\")) {\r\n      handleFlags(product);\r\n      handleTextLayout(product);\r\n    }\r\n  });\r\n}\r\n\r\ndocument.addEventListener(\"ShoptetDOMContentLoaded\", () => {\r\n  const mmAllProducts = document.querySelectorAll(\".products-block .product\");\r\n  if (mmAllProducts.length) {\r\n    mmAllProducts.forEach((product) => {\r\n      if (!product.classList.contains(\"banner-category\")) {\r\n        handleFlags(product);\r\n        handleTextLayout(product);\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\n// FOOTER-BOTTOM\r\nfunction footerBilling() {\r\n  const footerBottom = document.querySelector(\".footer-bottom\");\r\n  const footerGlobal = document.querySelector(\"#footer\");\r\n  if (footerBottom && footerGlobal) {\r\n    const footerBottomWrapper = document.createElement(\"div\");\r\n    footerBottomWrapper.classList.add(\"footer-bottom-wrapper\");\r\n    footerBottomWrapper.appendChild(footerBottom);\r\n    footerGlobal.parentElement.insertBefore(\r\n      footerBottomWrapper,\r\n      footerGlobal.nextElementSibling\r\n    );\r\n    const signature = footerBottom.querySelector(\"#signature\");\r\n    if (signature) {\r\n      signature.style.display = \"flex\";\r\n      const platebniMetodyEl = document.createElement(\"img\");\r\n      platebniMetodyEl.classList.add(\"platebni-metody\");\r\n      platebniMetodyEl.src =\r\n        \"/user/documents/upload/Obrazky/platebni-metody.png\";\r\n      platebniMetodyEl.alt = \"Platebn metody\";\r\n      signature.parentElement.insertBefore(\r\n        platebniMetodyEl,\r\n        signature.nextElementSibling\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nfooterBilling();\r\n\r\n// PRODUCT DETAIL\r\nconst createShpTabLink = (text, anchor, id) => {\r\n  const shpTabLi = document.createElement(\"li\");\r\n  const shpTabLink = document.createElement(\"a\");\r\n  shpTabLi.classList.add(\"shp-tab\");\r\n  shpTabLi.appendChild(shpTabLink);\r\n  shpTabLink.classList.add(\"shp-tab-link\");\r\n  shpTabLink.href = anchor;\r\n  shpTabLink.innerHTML = text;\r\n  if (id) {\r\n    shpTabLi.id = id;\r\n  }\r\n  return shpTabLi;\r\n};\r\n\r\nif (document.body.classList.contains(\"type-detail\")) {\r\n  const pDetailTabs = document.querySelector(\"#p-detail-tabs\");\r\n  const tabContent = document.querySelector(\"#tab-content\");\r\n\r\n  const customMobileSlider = document.querySelector(\".custom-slider-wrapper\");\r\n  setTimeout(() => {\r\n    // console.log(customMobileSlider)\r\n  }, 3000);\r\n\r\n  // if (customMobileSlider) {\r\n  // \t$(customMobileSlider).slick({\r\n  // \t\tinfinite: false,\r\n  // \t\tarrows: false,\r\n  // \t\tslidesToShow: 1,\r\n  // \t\tslidesToScroll: 1,\r\n  // \t\tdots: true,\r\n  // \t})\r\n  // }\r\n  swiperize({\r\n    containers: \".custom-slider-wrapper\",\r\n    slide: \".p-main-image\",\r\n    customOptions: {\r\n      fullscreen: false,\r\n      infinity: false,\r\n      dots: true,\r\n      arrows: false,\r\n      scrollbar: false,\r\n      lazyPrevNext: true,\r\n    },\r\n    swiperOptions: {\r\n      direction: \"horizontal\",\r\n      speed: 800,\r\n      spaceBetween: 20,\r\n      slidesPerView: 1,\r\n    },\r\n  });\r\n  // DLOUHY POPIS + OSTATNI TABY\r\n\r\n  const ratingTab = document.querySelector(\"#ratingTab\");\r\n  if (ratingTab) {\r\n    const ratingTabHeading = document.createElement(\"h3\");\r\n    const ratingTitleObj =\r\n      window.ratingTitle.find((item) => item.language === shoptetLang) ||\r\n      window.ratingTitle[0];\r\n    ratingTabHeading.innerHTML = ratingTitleObj.text;\r\n    ratingTab.prepend(ratingTabHeading);\r\n\r\n    const ratingButton = ratingTab.querySelector(\".add-comment \");\r\n    if (ratingButton) {\r\n      ratingTab.appendChild(ratingButton);\r\n    }\r\n  }\r\n  const discusionWrapper = document.querySelector(\"#productDiscussion\");\r\n  if (discusionWrapper) {\r\n    const discussionTabHeading = document.createElement(\"h3\");\r\n    const discussionTitleObj =\r\n      window.discussionTitle.find((item) => item.language === shoptetLang) ||\r\n      window.discussionTitle[0];\r\n    discussionTabHeading.innerHTML = discussionTitleObj.text;\r\n    discusionWrapper.prepend(discussionTabHeading);\r\n  }\r\n\r\n  const relatedFiles = document.querySelector(\"#relatedFiles\");\r\n  if (relatedFiles) {\r\n    const relatedFilesHeading = document.createElement(\"h3\");\r\n    const relatedFilesTitleObj =\r\n      window.relatedFilesTitle.find((item) => item.language === shoptetLang) ||\r\n      window.relatedFilesTitle[0];\r\n    relatedFilesHeading.innerHTML = relatedFilesTitleObj.text;\r\n    relatedFiles.prepend(relatedFilesHeading);\r\n  }\r\n\r\n  const relatedProducts = document.querySelector(\".products-related\");\r\n  const relatedProductsHeading = document.querySelector(\r\n    \".products-related-header\"\r\n  );\r\n\r\n  const voteWrappers = document.querySelectorAll(\".votes-wrap .vote-wrap\");\r\n  voteWrappers.forEach((voteWrapper) => {\r\n    const voteWrapperWrapper = voteWrapper.querySelector(\r\n      \".votes-wrap.discussion\"\r\n    );\r\n    if (voteWrapperWrapper) {\r\n      voteWrapper.insertAdjacentElement(\"afterend\", voteWrapperWrapper);\r\n    }\r\n  });\r\n  const addComentButtons = document.querySelectorAll(\r\n    \".add-comment.btn-primary\"\r\n  );\r\n  if (addComentButtons.length) {\r\n    addComentButtons.forEach((button) => {\r\n      button.classList.remove(\"btn-primary\", \"btn-sm\");\r\n      button.classList.add(\"link-like\");\r\n    });\r\n  }\r\n  const descInner = document.querySelector(\"#description .description-inner\");\r\n  const descH3 = document.querySelector(\"#description .basic-description >h3\");\r\n  console.log(descH3);\r\n  if (descH3) {\r\n    const titleObj =\r\n      window.detailTitle.find((item) => item.language === shoptetLang) ||\r\n      window.detailTitle[0];\r\n    descH3.innerHTML = titleObj.text;\r\n    descH3.classList.add(\"detail-title\");\r\n    if (descInner) {\r\n      descInner.prepend(descH3);\r\n    }\r\n  }\r\n  if (relatedProducts && relatedProductsHeading) {\r\n    if (relatedProductsHeading) {\r\n      const relatedProductsTitleObj =\r\n        window.relatedProductsTitle.find(\r\n          (item) => item.language === shoptetLang\r\n        ) || window.relatedProductsTitle[0];\r\n      relatedProductsHeading.innerText = relatedProductsTitleObj.text;\r\n    }\r\n    const titleText = relatedProductsHeading.innerText;\r\n\r\n    const relatedProductsCount =\r\n      relatedProducts.querySelectorAll(\".product\").length;\r\n    const tabContent = document.querySelector(\"#tab-content\");\r\n\r\n    // if (pDetailTabs.children[2]) {\r\n    // \tpDetailTabs.insertBefore(relatedProductsLink, pDetailTabs.children[2]);\r\n    // } else {\r\n    // pDetailTabs.appendChild(relatedProductsLink);\r\n    // }\r\n    const productContent = document.querySelector(\"#content\");\r\n    relatedProductsHeading.classList.add(\"homepage-group-title\");\r\n    // relatedProductsHeading.innerHTML = `Dal produkty z kolekce`\r\n    const relatedProductsTab = document.createElement(\"div\");\r\n    // relatedProductsTab.classList.add('tab-pane')\r\n    relatedProductsTab.id = \"relatedProducts\";\r\n    relatedProductsTab.appendChild(relatedProductsHeading);\r\n    relatedProductsTab.appendChild(relatedProducts);\r\n    productContent.appendChild(relatedProductsTab);\r\n\r\n    // desc.parentNode.insertBefore(relatedProductsTab, desc.nextSibling)\r\n\r\n    const shpTabsWrapper = document.querySelector(\".shp-tabs-wrapper\");\r\n    const wholeProd = document.querySelector(\"#relatedProducts\");\r\n    const descriptionInner = document.querySelector(\".basic-description\");\r\n\r\n    if (shpTabsWrapper && wholeProd) {\r\n      let wrapper = document.querySelector(\"#relatedProductsWrapper\");\r\n      if (!wrapper) {\r\n        wrapper = document.createElement(\"div\");\r\n        wrapper.id = \"relatedProductsWrapper\";\r\n        wholeProd.parentNode.insertBefore(wrapper, wholeProd);\r\n        wrapper.appendChild(wholeProd);\r\n      }\r\n\r\n      // if (descriptionInner) {\r\n      //   descriptionInner.parentNode.insertBefore(\r\n      //     wrapper,\r\n      //     descriptionInner.nextSibling\r\n      //   );\r\n      // }\r\n    }\r\n\r\n    swiperize({\r\n      containers: \".products-related\",\r\n      slide: \".product\",\r\n      customOptions: {\r\n        fullscreen: false,\r\n        infinity: true,\r\n        dots: true,\r\n        arrows: true,\r\n        scrollbar: false,\r\n        lazyPrevNext: true,\r\n        swiperWrapper: true,\r\n      },\r\n      swiperOptions: {\r\n        direction: \"horizontal\",\r\n        speed: 800,\r\n        slidesPerView: 1.4,\r\n        spaceBetween: 16,\r\n        breakpoints: {\r\n          1200: {\r\n            slidesPerView: 5,\r\n            spaceBetween: 24,\r\n          },\r\n          1100: {\r\n            slidesPerView: 5,\r\n            spaceBetween: 24,\r\n          },\r\n          1024: {\r\n            slidesPerView: 4,\r\n            spaceBetween: 24,\r\n          },\r\n          768: {\r\n            slidesPerView: 3,\r\n            spaceBetween: 20,\r\n          },\r\n          500: {\r\n            slidesPerView: 2,\r\n            spaceBetween: 16,\r\n          },\r\n        },\r\n      },\r\n    });\r\n  }\r\n\r\n  const alternativeProductsTabLink = document.querySelector(\r\n    '.shp-tab-link[href=\"#productsAlternative\"]'\r\n  );\r\n  if (alternativeProductsTabLink)\r\n    alternativeProductsTabLink.parentElement.remove();\r\n  const alternativeProducts = document.querySelector(\"#productsAlternative\");\r\n  if (alternativeProducts) {\r\n    alternativeProducts.classList.remove(\"tab-pane\", \"fade\");\r\n    const alternativeProductsHeading = document.createElement(\"h2\");\r\n    alternativeProductsHeading.classList.add(\"homepage-group-title\");\r\n    const alternativeNadpisy = alternativeNadpis.find(\r\n      (item) => item.language === shoptetLang\r\n    );\r\n    if (alternativeNadpisy) {\r\n      alternativeProductsHeading.innerHTML = alternativeNadpisy.text;\r\n    }\r\n    const productContent = document.querySelector(\"#content\");\r\n    // const helpUSP = document.querySelector('#content > .benefitBanner')\r\n    // if (helpUSP) {\r\n    // \thelpUSP.parentElement.insertBefore(alternativeProductsHeading, helpUSP)\r\n    // \thelpUSP.parentElement.insertBefore(alternativeProducts, helpUSP)\r\n    // } else {\r\n\r\n    const holder = document.createElement(\"div\");\r\n    holder.classList.add(\"holder\");\r\n    alternativeProducts.insertBefore(\r\n      alternativeProductsHeading,\r\n      alternativeProducts.firstChild\r\n    );\r\n    productContent.appendChild(alternativeProducts);\r\n    // }\r\n    // $(alternativeProducts.querySelector('.products-block')).slick(productsSlickSettings)\r\n\r\n    swiperize({\r\n      containers: \".products-alternative\",\r\n      slide: \".product\",\r\n      customOptions: {\r\n        fullscreen: false,\r\n        infinity: true,\r\n        dots: true,\r\n        arrows: true,\r\n        scrollbar: false,\r\n        lazyPrevNext: true,\r\n        swiperWrapper: true,\r\n      },\r\n      swiperOptions: {\r\n        direction: \"horizontal\",\r\n        speed: 800,\r\n        slidesPerView: 1.4,\r\n        spaceBetween: 16,\r\n        breakpoints: {\r\n          1200: {\r\n            slidesPerView: 5,\r\n            spaceBetween: 24,\r\n          },\r\n          1100: {\r\n            slidesPerView: 5,\r\n            spaceBetween: 24,\r\n          },\r\n          1024: {\r\n            slidesPerView: 4,\r\n            spaceBetween: 24,\r\n          },\r\n          768: {\r\n            slidesPerView: 3,\r\n            spaceBetween: 20,\r\n          },\r\n          500: {\r\n            slidesPerView: 2,\r\n            spaceBetween: 16,\r\n          },\r\n        },\r\n      },\r\n    });\r\n  }\r\n\r\n  const parametersTabContentH3 = document.querySelector(\r\n    \"#description .extended-description >h3\"\r\n  );\r\n  if (parametersTabContentH3) {\r\n    const parametersTitleObj =\r\n      window.parametersTitle.find((item) => item.language === shoptetLang) ||\r\n      window.parametersTitle[0];\r\n    parametersTabContentH3.innerHTML = parametersTitleObj.text;\r\n  }\r\n  const firstRow = document.querySelector(\r\n    \".extended-description .detail-parameters tr:first-of-type\"\r\n  );\r\n  if (firstRow) {\r\n    const firstTh = firstRow.querySelector(\"th span\");\r\n    const firstTd = firstRow.querySelector(\"td span\");\r\n\r\n    if (firstTh) {\r\n      const paramTitleObj =\r\n        window.parametersParametr.find(\r\n          (item) => item.language === shoptetLang\r\n        ) || window.parametersParametr[0];\r\n      firstTh.innerHTML = paramTitleObj.text;\r\n    }\r\n    if (firstTd) {\r\n      const paramTextObj =\r\n        window.parametersParametrText.find(\r\n          (item) => item.language === shoptetLang\r\n        ) || window.parametersParametrText[0];\r\n      firstTd.innerHTML = paramTextObj.text;\r\n    }\r\n  }\r\n  // if (parametersTabContent) {\r\n  //   const specificationText = window.specificationTabText.find(\r\n  //     (item) => item.language === shoptetLang\r\n  //   ).text;\r\n  //   const parametersTab = createShpTabLink(specificationText, \"#parameters\");\r\n  //   const descriptionTab = document.querySelector(\r\n  //     '.shp-tab[data-testid=\"tabDescription\"]'\r\n  //   );\r\n  //   descriptionTab.after(parametersTab);\r\n  //   parametersTabContent.id = \"parameters\";\r\n  // }\r\n\r\n  const shpTabLinks = document.querySelectorAll(\".shp-tab-link\");\r\n  if (shpTabLinks.length) {\r\n    shpTabLinks.forEach((link) => {\r\n      link.removeAttribute(\"role\");\r\n      link.removeAttribute(\"data-toggle\");\r\n\r\n      // Odstrann zvorek a sel z textu odkazu\r\n      link.textContent = link.textContent.replace(/\\(\\d+\\)/g, \"\").trim();\r\n    });\r\n  }\r\n  const targetNode = document.querySelector(\".shp-tabs-row\");\r\n\r\n  if (targetNode) {\r\n    const config = { childList: true, subtree: true };\r\n\r\n    const callback = function (mutationsList, observer) {\r\n      for (let mutation of mutationsList) {\r\n        if (mutation.type === \"childList\") {\r\n          const hiddenLinks = document.querySelector(\r\n            \".shp-tabs-row .hidden-links\"\r\n          );\r\n          const shpTabsRow = document.querySelector(\".shp-tabs-row .shp-tabs\");\r\n\r\n          if (hiddenLinks && shpTabsRow) {\r\n            // Pesunout vechny .shp-tab do .shp-tabs-row .shp-tabs\r\n            const shpTabs = hiddenLinks.querySelectorAll(\".shp-tab\");\r\n            shpTabs.forEach((tab) => {\r\n              shpTabsRow.appendChild(tab);\r\n            });\r\n\r\n            // Odstranit .hidden-links\r\n            hiddenLinks.remove();\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    const observer = new MutationObserver(callback);\r\n    observer.observe(targetNode, config);\r\n\r\n    // Pidat posluchae udlost pro resize a orientationchange\r\n    window.addEventListener(\"resize\", () =>\r\n      observer.observe(targetNode, config)\r\n    );\r\n    window.addEventListener(\"orientationchange\", () =>\r\n      observer.observe(targetNode, config)\r\n    );\r\n  }\r\n  window.addEventListener(\"load\", () => {\r\n    setTimeout(() => {\r\n      const mmAllProducts = document.querySelectorAll(\r\n        \".products-block .product\"\r\n      );\r\n\r\n      if (mmAllProducts.length) {\r\n        mmAllProducts.forEach((product) => handleFlags(product));\r\n        mmAllProducts.forEach((product) => handleTextLayout(product));\r\n        // mmAllProducts.forEach((product) => handleRatings(product))\r\n        // mmAllProducts.forEach((product) => handleProductAvailability(product))\r\n      }\r\n    }, 100);\r\n  });\r\n}\r\n\r\n// CART\r\nconst handleCart = () => {\r\n  const pageHeader = document.querySelector(\"#header\");\r\n  const cartHeader = document.querySelector(\".cart-content .cart-header\");\r\n  const cartHeaderHelper = document.querySelector(\".cart-header-wrapper\");\r\n  const search = document.querySelector(\".search\");\r\n  const headerTop = document.querySelector(\".header-top\");\r\n  // console.log(search)\r\n  // console.log(headerTop)\r\n  // if (search && headerTop) {\r\n  // \theaderTop.appendChild(search)\r\n  // }\r\n\r\n  const continueInCart = document.querySelector(\".next-step-forward\");\r\n  if (continueInCart) {\r\n    const buttonText = window.cartContinueBtn.find(\r\n      (item) => item.language === shoptetLang\r\n    )?.text;\r\n    if (buttonText) {\r\n      continueInCart.innerText = buttonText;\r\n    }\r\n  }\r\n\r\n  if (cartHeader && !cartHeaderHelper) {\r\n    const cartHeaderWrapper = document.createElement(\"div\");\r\n    cartHeaderWrapper.classList.add(\"cart-header-wrapper\");\r\n    cartHeaderWrapper.appendChild(cartHeader);\r\n    cartHeader.classList.add(\"container\");\r\n    pageHeader.parentElement.insertBefore(\r\n      cartHeaderWrapper,\r\n      pageHeader.nextElementSibling\r\n    );\r\n  } else if (cartHeader) {\r\n    cartHeader.remove();\r\n  }\r\n\r\n  const sidebarCart = document.querySelector(\".sidebar-in-cart\");\r\n  const backLink = document.querySelector(\".back-shopping-link\");\r\n  // const sidebarCart = document.querySelector('.sidebar-in-cart .box[data-testid=\"tableCart\"]')\r\n  const extraDelivery = document.querySelector(\".extra.delivery\");\r\n  if (extraDelivery) {\r\n    if (dataLayer[0].shoptet.cartInfo.leftToFreeShipping.priceLeft <= 0)\r\n      extraDelivery.classList.add(\"free-shipping\");\r\n    // sidebarCart.prepend(extraDelivery)\r\n  }\r\n\r\n  const overallWrapper = document.querySelector(\".overall-wrapper\");\r\n  const cartFooter = document.createElement(\"div\");\r\n  cartFooter.classList.add(\"cart-footer\");\r\n  if (overallWrapper) overallWrapper.appendChild(cartFooter);\r\n  const cartMail = document.querySelector(\".contact-box .mail\");\r\n  const cartPhone = document.querySelector(\".contact-box .tel\");\r\n\r\n  const sidebarNextStep = document.querySelector(\"#checkoutSidebar .next-step\");\r\n  const orderSummary = document.querySelector(\"#summary-box\");\r\n  if (sidebarNextStep && orderSummary)\r\n    orderSummary.appendChild(sidebarNextStep);\r\n\r\n  const nextStep = document.querySelector(\".next-step-back\");\r\n  if (nextStep) {\r\n    const cartRow = document.querySelector(\".cart-inner\");\r\n    if (cartRow) {\r\n      cartRow.appendChild(nextStep);\r\n    }\r\n  }\r\n\r\n  const sidebarConsents = document.querySelectorAll(\r\n    \"#checkoutSidebar .consents\"\r\n  );\r\n  const summaryItemPrice = document.querySelector(\r\n    \"#checkoutSidebar .order-summary-item.price\"\r\n  );\r\n  if (sidebarConsents.length && summaryItemPrice) {\r\n    sidebarConsents.forEach((consent) => {\r\n      summaryItemPrice.parentElement.insertBefore(\r\n        consent,\r\n        summaryItemPrice.nextElementSibling\r\n      );\r\n    });\r\n  }\r\n  if (window.innerWidth <= 1300) {\r\n    const backHolder = document.querySelector(\".cart-inner\");\r\n    const backHold = document.querySelector(\".back-shopping-link\");\r\n    if (backHolder && backHold) {\r\n      backHolder.appendChild(backHold);\r\n    }\r\n  }\r\n  // const backToShopButtons = document.querySelectorAll('.back-to-shop')\r\n  // if (backToShopButtons.length) {\r\n  // \tbackToShopButtons.forEach((button) => {\r\n  // \t\tbutton.innerText = 'ZPT K NKUPNMU KOKU'\r\n  // \t})\r\n  // }\r\n\r\n  // const backToShop = document.querySelector('.back-to-shop')\r\n  // if (backToShop) {\r\n  // \t// console.log(backToShop)\r\n  // \tconst backToShopLinks = document.querySelector('.back-shopping-link')\r\n  // \tif (backToShopLinks) {\r\n  // \t\t// console.log(backToShopLinks)\r\n  // \t\tbackToShopLinks.appendChild(backToShop);\r\n  // \t}\r\n  // }\r\n  const paymentInfoTooltips = document.querySelectorAll(\r\n    \".payment-info .show-tooltip\"\r\n  );\r\n  if (paymentInfoTooltips.length) {\r\n    paymentInfoTooltips.forEach((tooltip) => {\r\n      tooltip.innerText = \"i\";\r\n    });\r\n  }\r\n  const handleFreeRecapitulation = () => {\r\n    setTimeout(() => {\r\n      const recapItemPrices = document.querySelectorAll(\r\n        \".recapitulation-shipping-billing-info > span\"\r\n      );\r\n      if (recapItemPrices.length) {\r\n        recapItemPrices.forEach((price) => {\r\n          if (price.innerText.toUpperCase().includes(\"ZDARMA\")) {\r\n            price.classList.add(\"for-free\");\r\n          } else {\r\n            price.classList.remove(\"for-free\");\r\n          }\r\n        });\r\n      }\r\n    }, 100);\r\n  };\r\n  document.addEventListener(\r\n    \"ShoptetShippingMethodUpdated\",\r\n    handleFreeRecapitulation\r\n  );\r\n  document.addEventListener(\r\n    \"ShoptetBillingMethodUpdated\",\r\n    handleFreeRecapitulation\r\n  );\r\n\r\n  const recapItemPrices = document.querySelectorAll(\r\n    'span[data-testid=\"recapItemPrice\"]'\r\n  );\r\n  if (recapItemPrices.length) {\r\n    recapItemPrices.forEach((price) => {\r\n      if (price.innerText.toUpperCase().includes(\"ZDARMA\")) {\r\n        price.classList.add(\"for-free\");\r\n      } else {\r\n        price.classList.remove(\"for-free\");\r\n      }\r\n    });\r\n  }\r\n\r\n  // const continueOrderButton = document.querySelector('#continue-order-button')\r\n  // if (continueOrderButton) {\r\n  //   continueOrderButton.innerText = 'Pokraovat v objednvce' //jazyk\r\n  // }\r\n\r\n  // const relatedProductsBuyButton = document.querySelectorAll('.cart-related-product .add-to-cart-button')\r\n  // if (relatedProductsBuyButton.length) {\r\n  // \trelatedProductsBuyButton.forEach((button) => {\r\n  // \t\tbutton.innerText = 'Koupit' //jazyk\r\n  // \t})\r\n  // }\r\n\r\n  const footerCheck = document.querySelector(\".ordering-process-footer\");\r\n  if (!footerCheck) {\r\n    const cartProjectMail = document.querySelector(\".contact-box .mail\");\r\n    const cartProjectPhone = document.querySelector(\".contact-box .tel\");\r\n    const orderingProcessFooter = document.createElement(\"footer\");\r\n    orderingProcessFooter.classList.add(\"ordering-process-footer\");\r\n\r\n    let securePaymentText = \"Bezpen platba\";\r\n    let respondTimeText = \"Reagujeme do 24 hodin\";\r\n\r\n    if (shoptetLang === \"en\") {\r\n      securePaymentText = \"Secure Payment\";\r\n      respondTimeText = \"We respond within 24 hours\";\r\n    } else if (shoptetLang === \"de\") {\r\n      securePaymentText = \"Sichere Zahlung\";\r\n      respondTimeText = \"Wir antworten innerhalb von 24 Stunden\";\r\n    }\r\n\r\n    const phoneTimeObj =\r\n      window.projectPhoneTime.find((item) => item.language === shoptetLang) ||\r\n      window.projectPhoneTime[0];\r\n\r\n    orderingProcessFooter.innerHTML = `\r\n      <div class=\"container\">\r\n        <div class=\"contact-holder\">\r\n          <div class=\"phone-wrapper\">\r\n            <div class=\"holder-phone-time\">\r\n              ${phoneTimeObj.text}\r\n            </div>\r\n          </div>\r\n          <div class=\"mail-wrapper\">\r\n          </div>\r\n        </div>\r\n        <div class=\"payment-types\">\r\n          <img\r\n            src=\"/user/documents/upload/Obrazky/platebni-metody-2.png\"\r\n            width=\"200\"\r\n            height=\"20\"\r\n            alt=\"Visa, MasterCard, Maestro, PayPal\"\r\n          />\r\n        </div>\r\n      </div>\r\n    `;\r\n    overallWrapper.appendChild(orderingProcessFooter);\r\n    const orderingProcessFooterPhoneWrapper =\r\n      orderingProcessFooter.querySelector(\".phone-wrapper\");\r\n    const orderingProcessFooterMailWrapper =\r\n      orderingProcessFooter.querySelector(\".mail-wrapper\");\r\n    if (cartProjectPhone) {\r\n      const clonedPhone = cartProjectPhone.cloneNode(true);\r\n      orderingProcessFooterPhoneWrapper.prepend(clonedPhone);\r\n      const phoneElement = orderingProcessFooter.querySelector(\r\n        \".phone-wrapper .tel\"\r\n      );\r\n      if (phoneElement) {\r\n        phoneElement.classList.add(\"project-phone\");\r\n        phoneElement.classList.remove(\"tel\"); // Odstrann tdy 'tel'\r\n      }\r\n    }\r\n\r\n    if (cartProjectMail) {\r\n      const clonedMail = cartProjectMail.cloneNode(true);\r\n      orderingProcessFooterMailWrapper.prepend(clonedMail);\r\n      const mailElement = orderingProcessFooter.querySelector(\r\n        \".mail-wrapper .mail a\"\r\n      );\r\n      if (mailElement) {\r\n        // mailElement.classList.add(\"project-email\");\r\n        mailElement.classList.remove(\"mail\"); // Odstrann tdy 'mail'\r\n      }\r\n    }\r\n  }\r\n  if (shoptetPage === \"cart\") {\r\n    const productsInCart = document.querySelectorAll(\r\n      '.cart-table tr.removeable[data-micro=\"cartItem\"]'\r\n    );\r\n    productsInCart.forEach((product) => {\r\n      const productSKU = product.getAttribute(\"data-micro-sku\");\r\n      const productName = product.querySelector(\".p-name\");\r\n      if (productSKU && productName) {\r\n        const productSKUEl = document.createElement(\"div\");\r\n        productSKUEl.classList.add(\"product-sku\");\r\n        productSKUEl.innerHTML = `Kd: ${productSKU}`;\r\n        productName.appendChild(productSKUEl);\r\n      }\r\n    });\r\n  }\r\n\r\n  const products = document.querySelectorAll('tbody [data-micro=\"cartItem\"]');\r\n  if (products.length) {\r\n    products.forEach((product) => {\r\n      const pQuantity = product.querySelector(\".p-availability \");\r\n      const pName = product.querySelector(\".p-name\");\r\n      const mainLink = pName.querySelector(\".main-link\");\r\n\r\n      if (pQuantity && pName && mainLink) {\r\n        const quantityHtml = pQuantity.innerHTML;\r\n        mainLink.insertAdjacentHTML(\r\n          \"afterend\",\r\n          `<div class=\"availability\">${quantityHtml}</div>`\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  const cartSummary = document.querySelector(\".summary-wrapper\");\r\n  if (cartSummary) {\r\n    const box = cartSummary.querySelector(\".box\");\r\n    const upperSummaryReayl = document.querySelector(\".upper-summary\");\r\n    if (box) {\r\n      const upperSummary = document.createElement(\"div\");\r\n      upperSummary.classList.add(\"upper-summary\");\r\n      box.prepend(upperSummary);\r\n\r\n      const cartContentSummary = document.querySelector(\r\n        \".cart-content .cart-summary\"\r\n      );\r\n      if (cartContentSummary) {\r\n        const cartInner = document.querySelector(\".cart-inner\");\r\n        cartSummary.appendChild(cartContentSummary);\r\n\r\n        const h4 = cartContentSummary.querySelector(\"h4\");\r\n\r\n        // const discountInput = discountForm.querySelector('input')\r\n        // discountInput.placeholder = 'Vlote kd'\r\n        const discountForm = document.querySelector(\".discount-coupon\");\r\n\r\n        if (h4) {\r\n          upperSummary.prepend(h4);\r\n\r\n          h4.innerHTML = extraGiftTitles.find(\r\n            (item) => item.language === shoptetLang\r\n          )?.text;\r\n\r\n          if (!cartContentSummary.querySelector(\".discount-coupon\")) {\r\n            h4.style.display = \"none\";\r\n          }\r\n\r\n          // Pesunut discountForm za h4\r\n          if (discountForm) {\r\n            h4.insertAdjacentElement(\"afterend\", discountForm);\r\n          }\r\n        }\r\n        if (\r\n          cartContentSummary.querySelector(\".discount-coupon .applied-coupon\")\r\n        ) {\r\n          const discountCoupon =\r\n            cartContentSummary.querySelector(\".discount-coupon\");\r\n          h4.classList.add(\"active\");\r\n          discountCoupon.classList.add(\"active\");\r\n        }\r\n\r\n        const button = document.querySelector(\".discount-coupon button\");\r\n        if (button) {\r\n          button.innerHTML = \"Uplatnit\"; //jazyk\r\n        }\r\n        const freeGift = cartContentSummary.querySelector(\".free-gift\");\r\n        if (freeGift) {\r\n          const h4Gift = document.createElement(\"h4\");\r\n          h4Gift.innerHTML = \"Drek\";\r\n          box.insertBefore(freeGift, upperSummary);\r\n          freeGift.prepend(h4Gift);\r\n        }\r\n      }\r\n\r\n      const priceHolder = document.createElement(\"div\");\r\n      priceHolder.classList.add(\"price-holder\");\r\n      upperSummary.appendChild(priceHolder);\r\n\r\n      // if (totalSaved > 0) {\r\n      // \tconst saveHolder = document.createElement('span');\r\n      // \tsaveHolder.classList.add('save-holder');\r\n      // \tconst totalSavedActualCurrency = totalSaved.ShoptetFormatAsCurrency();\r\n      // \tsaveHolder.innerHTML = `Uette: ${totalSavedActualCurrency}`;\r\n      // \tpriceHolder.appendChild(saveHolder);\r\n      // }\r\n\r\n      const priceWrapper = cartSummary.querySelector(\".price-wrapper\");\r\n      if (priceWrapper) {\r\n        priceHolder.appendChild(priceWrapper);\r\n      }\r\n\r\n      const shipping = document.querySelector(\".extra.delivery\");\r\n      if (shipping) {\r\n        // upperSummary.insertAdjacentElement('afterend', shipping)\r\n        // cartSummary.prepend(shipping)\r\n      }\r\n    }\r\n  }\r\n  // const discountForm = document.querySelector('.discount-coupon')\r\n  // const summaryWrapper = document.querySelector('.upper-summary')\r\n  // if (discountForm && summaryWrapper) {\r\n  // \tsummaryWrapper.prepend(discountForm)\r\n  // \t// const discountInput = discountForm.querySelector('input')\r\n  // \t// discountInput.placeholder = 'Vlote kd'\r\n  // }\r\n  const nextStepH = document.querySelector(\".next-step\");\r\n  if (nextStepH) {\r\n    const upperSummary = document.querySelector(\".upper-summary\");\r\n    if (upperSummary) {\r\n      upperSummary.appendChild(nextStepH);\r\n    }\r\n  }\r\n\r\n  if (document.querySelector(\"body\").classList.contains(\"id--9\")) {\r\n    const cartH2 = document.createElement(\"h2\");\r\n    const h2 = document.querySelector(\".cart-row .col-md-8 h2\");\r\n    if (cartH2 && !h2) {\r\n      cartH2.innerHTML = itemsCartTitle.find(\r\n        (item) => item.language === shoptetLang\r\n      )?.text;\r\n      const row = document.querySelector(\".cart-row .col-md-8 .cart-content\");\r\n      if (row) {\r\n        row.insertBefore(cartH2, row.firstChild);\r\n      }\r\n    }\r\n  }\r\n  if (document.querySelector(\"body\").classList.contains(\"id--16\")) {\r\n    const stepBack = document.querySelector(\".next-step-back\");\r\n    const basicInformations = document.querySelector(\"#select-country-payment\");\r\n    if (stepBack) {\r\n      const stepBackTextObj =\r\n        window.stepBackText.find((item) => item.language === shoptetLang) ||\r\n        window.stepBackText[0];\r\n      stepBack.innerText = stepBackTextObj.text;\r\n      stepBack.classList.add(\"back-to-cart\");\r\n      if (basicInformations) {\r\n        basicInformations.insertAdjacentElement(\"afterend\", stepBack);\r\n      }\r\n    }\r\n    const checkoutContent = document.querySelector(\"#checkoutContent\");\r\n    if (checkoutContent && !document.querySelector(\".back-homepage\")) {\r\n      const backHomepageObj =\r\n        window.backHomepageBtn.find((item) => item.language === shoptetLang) ||\r\n        window.backHomepageBtn[0];\r\n      const backHomepageLink = document.createElement(\"a\");\r\n      backHomepageLink.className = \"btn next-step-back back-homepage\";\r\n      backHomepageLink.href = backHomepageObj.url;\r\n      backHomepageLink.innerText = backHomepageObj.text;\r\n      if (window.innerWidth >= 768) {\r\n        checkoutContent.appendChild(backHomepageLink);\r\n      } else {\r\n        const cartRow = document.querySelector(\".cart-inner .cart-row\");\r\n        if (cartRow) {\r\n          cartRow.appendChild(backHomepageLink);\r\n        }\r\n      }\r\n    }\r\n    const shippingTitle = document.querySelector(\".co-delivery-method > h4\");\r\n    if (shippingTitle) {\r\n      const shippingTitleObj =\r\n        window.shippingTitle.find((item) => item.language === shoptetLang) ||\r\n        window.shippingTitle[0];\r\n      shippingTitle.innerHTML = shippingTitleObj.text;\r\n    }\r\n\r\n    const deliveryTitle = document.querySelector(\".co-payment-method > h4\");\r\n    if (deliveryTitle) {\r\n      const paymentTitleObj =\r\n        window.paymentTitle.find((item) => item.language === shoptetLang) ||\r\n        window.paymentTitle[0];\r\n      deliveryTitle.innerHTML = paymentTitleObj.text;\r\n    }\r\n  }\r\n  if (document.querySelector(\"body\").classList.contains(\"id--17\")) {\r\n    const coInformation = document.querySelector(\".co-contact-information\");\r\n    const loginWrapper = document.querySelector(\r\n      \".co-contact-information > .form-group\"\r\n    );\r\n    if (loginWrapper && coInformation) {\r\n      loginWrapper.classList.add(\"login-helper\");\r\n      const loginButton = document.querySelector(\"a.btn.btn-secondary\");\r\n      if (loginButton) {\r\n        loginButton.classList.add(\"btn-primary\", \"login-button\");\r\n        loginButton.classList.remove(\"btn-secondary\");\r\n      } else {\r\n        loginWrapper.classList.add(\"no-btn\");\r\n      }\r\n      const stepBack = document.querySelector(\".next-step-back\");\r\n      if (stepBack) {\r\n        const stepBackTextObj =\r\n          window.stepBackToShippingPayment.find(\r\n            (item) => item.language === shoptetLang\r\n          ) || window.stepBackToShippingPayment[0];\r\n        stepBack.innerText = stepBackTextObj.text;\r\n        loginWrapper.prepend(stepBack);\r\n      }\r\n      coInformation.prepend(loginWrapper);\r\n    }\r\n    const checkoutContent = document.querySelector(\"#checkoutContent\");\r\n    if (checkoutContent && !document.querySelector(\".back-homepage\")) {\r\n      const backHomepageObj =\r\n        window.backHomepageBtn.find((item) => item.language === shoptetLang) ||\r\n        window.backHomepageBtn[0];\r\n      const backHomepageLink = document.createElement(\"a\");\r\n      backHomepageLink.className = \"btn next-step-back back-homepage\";\r\n      backHomepageLink.href = backHomepageObj.url;\r\n      backHomepageLink.innerText = backHomepageObj.text;\r\n      if (window.innerWidth >= 768) {\r\n        checkoutContent.appendChild(backHomepageLink);\r\n      } else {\r\n        const cartRow = document.querySelector(\".cart-inner .cart-row\");\r\n        if (cartRow) {\r\n          cartRow.appendChild(backHomepageLink);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // if (document.querySelector(\"body\").classList.contains(\"id--16\")) {\r\n  //   const deliveryMethods = document.querySelector(\".co-delivery-method\");\r\n  //   if (deliveryMethods) {\r\n  //     const allMethods = deliveryMethods.querySelectorAll(\r\n  //       \"[data-testid='shippingMethod']\"\r\n  //     );\r\n  //     if (allMethods.length > 6) {\r\n  //       for (let i = 2; i < allMethods.length; i++) {\r\n  //         allMethods[i].classList.add(\"hidden\");\r\n  //       }\r\n\r\n  //       const btnHolder = document.createElement(\"div\");\r\n  //       btnHolder.className = \"btn-holder\";\r\n\r\n  //       const showMoreBtn = document.createElement(\"a\");\r\n  //       showMoreBtn.className = \"btn btn-secondary\";\r\n  //       showMoreBtn.textContent = \"Zobrazi viac\";\r\n  //       if (shoptetLang === \"cz\") {\r\n  //         showMoreBtn.textContent = \"Zobrazit vce\";\r\n  //       }\r\n  //       btnHolder.appendChild(showMoreBtn);\r\n  //       deliveryMethods.appendChild(btnHolder);\r\n\r\n  //       showMoreBtn.addEventListener(\"click\", () => {\r\n  //         for (let i = 2; i < allMethods.length; i++) {\r\n  //           allMethods[i].classList.remove(\"hidden\");\r\n  //         }\r\n  //         btnHolder.style.display = \"none\";\r\n  //       });\r\n  //     }\r\n  //     const h4 = deliveryMethods.querySelector(\"h4\");\r\n  //     if (h4) {\r\n  //       const h4Text = cartDeliveryTitle.find(\r\n  //         (item) => item.language === shoptetLang\r\n  //       ).text;\r\n  //       if (h4Text) {\r\n  //         h4.innerHTML = h4Text;\r\n  //       }\r\n  //     }\r\n  //   }\r\n  // }\r\n  // const button = document.querySelector(\".show-related\"); // Vyberte tlatko, kter chcete upravit\r\n\r\n  // if (button) {\r\n  //   // Odstrann zvorek a jejich obsahu z textu tlatka\r\n  //   button.textContent = button.textContent\r\n  //     .replace(/\\s*\\(.*?\\)\\s*/g, \"\")\r\n  //     .trim();\r\n  // }\r\n  const relatedProducts = document.querySelectorAll(\".cart-related-product\");\r\n\r\n  relatedProducts.forEach((product) => {\r\n    const availability = product.querySelector(\r\n      \".cart-related-availability span\"\r\n    );\r\n    const priceFinal = product.querySelector(\r\n      \".cart-related-button .price.price-final\"\r\n    );\r\n\r\n    if (\r\n      availability &&\r\n      availability.textContent.trim() === \"Momentln nedostupn\"\r\n    ) {\r\n      // Schovn .cart-related-availability\r\n      availability.parentElement.remove();\r\n\r\n      // Schovn .cart-related-button .price.price-final\r\n      if (priceFinal) {\r\n        priceFinal.remove();\r\n      }\r\n    }\r\n  });\r\n};\r\nif (document.body.classList.contains(\"ordering-process\")) {\r\n  handleCart();\r\n  document.addEventListener(\"ShoptetDOMCartContentLoaded\", handleCart);\r\n}\r\n\r\n// POPUP CART\r\ndocument.addEventListener(\"ShoptetDOMCartContentLoaded\", () => {\r\n  const currencyLabel = dataLayer[0].shoptet.currencyInfo.symbol;\r\n  const cartWidgetProducts = document.querySelectorAll(\".cart-widget-product\");\r\n  if (cartWidgetProducts.length) {\r\n    cartWidgetProducts.forEach((product) => {\r\n      const productPrice = product.querySelector(\r\n        'span[data-testid=\"cartWidgetProductPrice\"]'\r\n      );\r\n      if (productPrice) {\r\n        const priceEl = document.createElement(\"div\");\r\n        priceEl.classList.add(\"cart-widget-product-price\");\r\n        priceEl.appendChild(productPrice);\r\n        product.appendChild(priceEl);\r\n        const productSKU = product.getAttribute(\"data-micro-sku\");\r\n        if (productSKU) {\r\n          const productSinglePrice = dataLayer[0].shoptet.cart.filter(\r\n            (item) => item.code === productSKU\r\n          )[0].priceWithVat;\r\n          const productSinglePriceEl = document.createElement(\"div\");\r\n          productSinglePriceEl.classList.add(\r\n            \"cart-widget-product-single-price\"\r\n          );\r\n          productSinglePriceEl.innerHTML = `${productSinglePrice} ${currencyLabel} / ks`; //jazyk\r\n          priceEl.appendChild(productSinglePriceEl);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  let popupCartSummary = document.querySelector(\".popup-cart-summary\");\r\n  if (!popupCartSummary) {\r\n    popupCartSummary = document.createElement(\"div\");\r\n    popupCartSummary.classList.add(\"popup-cart-summary\");\r\n  }\r\n  let popupCartSummaryPriveVAT = String(\r\n    dataLayer[0].shoptet.cartInfo.getNoBillingShippingPrice.withVat\r\n  );\r\n  if (popupCartSummaryPriveVAT.includes(\".\")) {\r\n    popupCartSummaryPriveVAT = popupCartSummaryPriveVAT.replace(\".\", \",\");\r\n  }\r\n\r\n  let popupCartSummaryPriceNoVAT = String(\r\n    dataLayer[0].shoptet.cartInfo.getNoBillingShippingPrice.withoutVat\r\n  );\r\n  if (popupCartSummaryPriceNoVAT.includes(\".\")) {\r\n    popupCartSummaryPriceNoVAT = popupCartSummaryPriceNoVAT.replace(\".\", \",\");\r\n  }\r\n  // console.log(popupCartSummaryPriceNoVAT)\r\n\r\n  // Pevod etzce na slo\r\n  let popupCartSummaryPriceNoVATNumber = parseFloat(\r\n    popupCartSummaryPriceNoVAT.replace(\",\", \".\")\r\n  );\r\n\r\n  popupCartSummary.innerHTML = `\r\n\t  <div class=\"popup-cart-summary-item\">\r\n\t\t  <strong class=\"popup-cart-summary-item-label\">Celkem za zbo</strong>\r\n\t\t  <strong class=\"popup-cart-summary-item-value\">${popupCartSummaryPriveVAT} ${currencyLabel}</strong>\r\n\t  </div>\r\n\t  <div class=\"popup-cart-summary-item\">\r\n\t\t  <span class=\"popup-cart-summary-item-label\">Celkem bez DPH</span>\r\n\t\t  <span class=\"popup-cart-summary-item-value\">${Math.round(\r\n        popupCartSummaryPriceNoVATNumber\r\n      )} ${currencyLabel}</span>\r\n\t  </div>\r\n  `; //jazyk\r\n  const cartWidgetProductsWrapper = document.querySelector(\r\n    \".cart-widget-products\"\r\n  );\r\n  if (cartWidgetProductsWrapper)\r\n    cartWidgetProductsWrapper.parentElement.insertBefore(\r\n      popupCartSummary,\r\n      cartWidgetProductsWrapper.nextElementSibling\r\n    );\r\n\r\n  const cartWidgetButton = document.querySelector(\".cart-widget-button\");\r\n  const cartWidgetInner = document.querySelector(\".cart-widget-inner\");\r\n  if (cartWidgetButton && cartWidgetInner)\r\n    cartWidgetInner.appendChild(cartWidgetButton.cloneNode(true));\r\n\r\n  const cartWidgetShipping = document.querySelector(\".cart-free-shipping\");\r\n  if (cartWidgetShipping) {\r\n    const priceLeftToFreeShipping =\r\n      dataLayer[0].shoptet.cartInfo.leftToFreeShipping.priceLeft;\r\n    if (priceLeftToFreeShipping > 0) {\r\n      const freeShippingBar = document.createElement(\"div\");\r\n      const freeShippingValue = document.createElement(\"div\");\r\n      freeShippingBar.classList.add(\"price-range\");\r\n      freeShippingBar.appendChild(freeShippingValue);\r\n\r\n      popupCartSummaryPriveVAT = Number(popupCartSummaryPriveVAT);\r\n\r\n      freeShippingValue.style.width = `${\r\n        100 -\r\n        (100 * priceLeftToFreeShipping) /\r\n          (priceLeftToFreeShipping + popupCartSummaryPriveVAT)\r\n      }%`;\r\n      cartWidgetShipping.appendChild(freeShippingBar);\r\n      const shippingWidgetStrongs =\r\n        cartWidgetShipping.querySelectorAll(\"strong\");\r\n      if (shippingWidgetStrongs.length) {\r\n        shippingWidgetStrongs.forEach((strong) => {\r\n          if (strong.innerText.includes(\"ZDARMA\"))\r\n            strong.classList.add(\"free-shipping-strong\"); //jazyk\r\n        });\r\n      }\r\n    }\r\n  }\r\n});\r\n// document.addEventListener('ShoptetCartUpdated', () => {\r\n// \tconst popupCartSummary = document.querySelector('.popup-cart-summary')\r\n// \tconsole.log(popupCartSummary)\r\n// \t// const popupCartSummaryPriveVAT = dataLayer[0].shoptet.cartInfo.getNoBillingShippingPrice.withVat\r\n// \t// const popupCartSummaryPriceNoVAT = dataLayer[0].shoptet.cartInfo.getNoBillingShippingPrice.withoutVat\r\n// \t// const popupCartPriceVAT = popupCartSummary.querySelector('strong.popup-cart-summary-item-value')\r\n// \t// const popupCartPriceNoVAT = popupCartSummary.querySelector('span.popup-cart-summary-item-value')\r\n// \t// popupCartPriceVAT.innerHTML = `${popupCartSummaryPriveVAT} ${currencyLabel}`\r\n// \t// popupCartPriceNoVAT.innerHTML = `${Math.round(popupCartSummaryPriceNoVAT)} ${currencyLabel}`\r\n// })\r\n\r\n// ADVANCED ORDER\r\ndocument.addEventListener(\"ShoptetDOMAdvancedOrderLoaded\", () => {\r\n  const advancedOrder = document.querySelector(\".advanced-order\");\r\n  const aoTop = document.createElement(\"div\");\r\n  aoTop.classList.add(\"ao-top\");\r\n  advancedOrder.prepend(aoTop);\r\n  const aoTitle = advancedOrder.querySelector(\".h1\");\r\n  if (aoTitle) aoTop.appendChild(aoTitle);\r\n  const aoProduct =\r\n    advancedOrder.querySelector(\".ao-product\") ||\r\n    advancedOrder.querySelector(\".h2\");\r\n  if (aoProduct) aoTop.appendChild(aoProduct);\r\n  const cboxClose = document.querySelector(\"#cboxClose\");\r\n  if (cboxClose) {\r\n    cboxClose.innerText = \"Zavt\"; //jazyk\r\n    cboxClose.id = \"cboxClose\";\r\n    cboxClose.classList.add(\"close\");\r\n    // aoTop.appendChild(cboxClose)\r\n  }\r\n  const continueShoppingBtn = document.createElement(\"button\");\r\n  continueShoppingBtn.classList.add(\"btn\", \"black-border\");\r\n  continueShoppingBtn.innerText = \"Zavt\"; //jazyk\r\n  continueShoppingBtn.addEventListener(\"click\", () => {\r\n    shoptet.modal.close();\r\n  });\r\n  const extraStep = advancedOrder.querySelector(\".extra.step\");\r\n  if (extraStep) extraStep.prepend(continueShoppingBtn);\r\n\r\n  const deliveryStrongs = advancedOrder.querySelectorAll(\r\n    \".extra.delivery strong\"\r\n  );\r\n  if (deliveryStrongs.length) {\r\n    deliveryStrongs.forEach((strong) => {\r\n      if (strong.innerText === \"ZDARMA\") strong.classList.add(\"for-free\"); //jazyk\r\n    });\r\n  }\r\n  const suggestion = advancedOrder.querySelector(\".advanced-order-suggestion\");\r\n  if (suggestion) {\r\n    suggestion.innerHTML = \"Mete jet pidat ...\";\r\n  }\r\n  const img = advancedOrder.querySelector(\".ao-product .ao-image img\");\r\n  if (img) {\r\n    img.src = img.getAttribute(\"data-src\");\r\n  }\r\n\r\n  const advancedOrderProducts = $(\".colorbox-html-content #products\");\r\n  if (advancedOrderProducts.length) {\r\n    advancedOrderProducts.slick(productsSlickSettings);\r\n  }\r\n});\r\n\r\n// EMPTY CART\r\n\r\nconst handleEmptyCart = () => {\r\n  const emptyCart = document.querySelector(\".cart-inner.cart-empty\");\r\n  if (!emptyCart) return;\r\n  document.body.classList.add(\"custom-empty-cart\");\r\n  const cartHeading = emptyCart.querySelector(\".cart-heading\");\r\n  const cartText = document.createElement(\"p\");\r\n  cartText.classList.add(\"narrow-custom\", \"text-center\");\r\n  const prazdnyKosikPerexText = window.prazdnyKosikPerex.find(\r\n    (item) => item.language === shoptetLang\r\n  ).text;\r\n  cartText.innerText = prazdnyKosikPerexText;\r\n  if (cartHeading) {\r\n    const prazdnyKosikNadpisText = window.prazdnyKosikNadpis.find(\r\n      (item) => item.language === shoptetLang\r\n    ).text;\r\n    cartHeading.innerText = prazdnyKosikNadpisText;\r\n    cartHeading.classList.add(\"homepage-group-title\");\r\n    cartHeading.parentElement.insertBefore(\r\n      cartText,\r\n      cartHeading.nextElementSibling\r\n    );\r\n  }\r\n  const cartEmail = emptyCart.querySelector(\".mail\");\r\n  const cartPhone = emptyCart.querySelector(\".tel\");\r\n  const cartContact = document.createElement(\"ul\");\r\n  cartContact.classList.add(\"cart-contact\", \"contact-box\");\r\n  if (cartPhone) {\r\n    cartContact.appendChild(cartPhone.parentElement);\r\n  }\r\n  if (cartEmail) {\r\n    const emailPerexText = window.emailPerexText.find(\r\n      (item) => item.language === shoptetLang\r\n    ).text;\r\n    const emailPerex = document.createElement(\"span\");\r\n    emailPerex.innerText = emailPerexText;\r\n    cartEmail.parentElement.insertBefore(\r\n      emailPerex,\r\n      cartEmail.nextElementSibling\r\n    );\r\n    cartContact.appendChild(cartEmail.parentElement);\r\n  }\r\n  emptyCart.appendChild(cartContact);\r\n\r\n  // Pidn btn holder s dvma odkazy\r\n  const btnHolder = document.createElement(\"div\");\r\n  btnHolder.classList.add(\"btn-holder\", \"text-center\");\r\n\r\n  const primaryButton = window.primaryButtonText.find(\r\n    (item) => item.language === shoptetLang\r\n  );\r\n  const secondaryButton = window.secondaryButtonText.find(\r\n    (item) => item.language === shoptetLang\r\n  );\r\n\r\n  btnHolder.innerHTML = `\r\n\t\t  <a href=\"${primaryButton.url}\" class=\"btn btn-primary\">${primaryButton.text}</a>\r\n\t\t  <a href=\"${secondaryButton.url}\" class=\"btn secondary\">${secondaryButton.text}</a>\r\n\t  `;\r\n\r\n  emptyCart.appendChild(btnHolder);\r\n\r\n  const emptyCartHeader = document.querySelector(\".cart-header-wrapper\");\r\n  if (emptyCartHeader) emptyCartHeader.remove();\r\n};\r\n\r\nconst emptyCart = document.querySelector(\".cart-inner.cart-empty\");\r\nif (emptyCart) handleEmptyCart();\r\n\r\ndocument.addEventListener(\"ShoptetDOMCartContentLoaded\", () => {\r\n  if (!dataLayer[0].shoptet.cart.length) handleEmptyCart();\r\n});\r\n\r\nwindow.addEventListener(\"beforeunload\", function (event) {\r\n  window.sessionStorage.removeItem(\"openedFilters\");\r\n});\r\n\r\n// const backToTop = document.querySelector('#back-to-top')\r\n// if (backToTop) {\r\n// \tbackToTop.addEventListener('click', (e) => {\r\n// \t\te.preventDefault()\r\n// \t\twindow.scrollTo(0, 0)\r\n// \t})\r\n// }\r\n\r\nconst handleFooter = async () => {\r\n  // const socialIcons = document.querySelector('.footer-links-icons')\r\n  // const contactBanner = document.querySelector('.custom-footer__contact')\r\n  // if (socialIcons && contactBanner) contactBanner.appendChild(socialIcons)\r\n  const cookies = document.querySelector(\".js-cookies-settings\");\r\n  if (cookies) {\r\n  }\r\n  const signature = document.querySelector(\"#signature\");\r\n  if (signature) {\r\n    const mirandaMediaLink = `\r\n\t  <span>Created by </span>\r\n\t\t\t  <a class=\"company\" href=\"https://www.mirandamedia.cz/shoptetnamiru\" target=\"_blank\">\r\n\t\t\t\t  <img class=\"company__logo\" src=\"/user/documents/upload/Obrazky/miranda.svg\">\r\n\t\t\t\t  MirandaMedia Group s.r.o.\r\n\t\t\t  </a>\r\n\t\t<span> on the platform </span>\r\n\t\t  `;\r\n    signature.insertAdjacentHTML(\"beforeend\", mirandaMediaLink);\r\n\r\n    const title = signature.querySelector(\".title\");\r\n    if (title) {\r\n      title.innerHTML =\r\n        '<img class=\"company__logo\" src=\"/user/documents/upload/Obrazky/shoptet.png\">';\r\n    }\r\n  }\r\n  const footerHeadings = document.querySelectorAll(\r\n    \".banner-wrapper > span > .block > h4\"\r\n  );\r\n  footerHeadings.forEach((heading) => {\r\n    heading.classList.add(\"clickable\");\r\n    heading.addEventListener(\"click\", () => {\r\n      heading.closest(\".banner-wrapper\").classList.toggle(\"active\");\r\n    });\r\n  });\r\n  const footerCategories = document.querySelector(\r\n    \".custom-footer__categories > h4\"\r\n  );\r\n  if (footerCategories) {\r\n    footerCategories.classList.add(\"clickable\");\r\n    footerCategories.addEventListener(\"click\", () => {\r\n      footerCategories\r\n        .closest(\".custom-footer__categories\")\r\n        .classList.toggle(\"active\");\r\n    });\r\n  }\r\n\r\n  const siteName = document.querySelector(\"#footer .site-name\");\r\n  const customFooter = document.querySelector(\"#footer .custom-footer\");\r\n  if (customFooter) {\r\n    customFooter.insertBefore(siteName, customFooter.firstChild);\r\n  }\r\n  const customFooterContact = document.querySelector(\r\n    \"#footer .custom-footer__contact\"\r\n  );\r\n  const customFooterContactPlaceholder = document.querySelector(\r\n    \"#footer .contacts-placeholder\"\r\n  );\r\n  if (customFooterContact && customFooterContactPlaceholder) {\r\n    customFooterContactPlaceholder.append(customFooterContact);\r\n  }\r\n\r\n  // const footeSiteNameImg = document.querySelector(\"#footer .site-name img\");\r\n  // if (footeSiteNameImg) {\r\n  //   console.log(footeSiteNameImg.src);\r\n  //   setInterval(() => {\r\n  //     footeSiteNameImg.src =\r\n  //       \"/user/documents/upload/newDesign/icons/logo-white.png\";\r\n  //   }, 1000);\r\n  // }\r\n  // const socialBanner = document.querySelector('.social-wrapper')\r\n  // if (socialBanner) {\r\n  // \tsiteName.appendChild(socialBanner)\r\n  // }\r\n  const footer = document.querySelector(\"#footer\");\r\n  const instagram = document.querySelector(\".custom-footer__instagram \");\r\n\r\n  const benefitsWrapper = document.querySelector(\".benefitBanner\");\r\n  if (benefitsWrapper) {\r\n    footer.insertAdjacentElement(\"beforebegin\", benefitsWrapper);\r\n  }\r\n  if (instagram) {\r\n    const h4 = instagram.querySelector(\"h4\");\r\n    const text = instagramTitle.find(\r\n      (item) => item.language === shoptetLang\r\n    )?.text;\r\n    if (h4 && text) h4.innerHTML = text;\r\n    footer.insertAdjacentElement(\"beforebegin\", instagram);\r\n  }\r\n\r\n  const zastupce = document.querySelector(\".zastupce\");\r\n  if (zastupce && footer) {\r\n    footer.parentNode.insertBefore(zastupce, footer);\r\n  }\r\n};\r\nhandleFooter();\r\n\r\n// const shoptetPage = dataLayer[0].shoptet.pageType\r\n// const shoptetLang = dataLayer[0].shoptet.language\r\n\r\n// const handleHomepageProducts = async () => {\r\n// \tconst productBlocks = document.querySelectorAll('.products-block');\r\n// \tif (productBlocks.length > 0) {\r\n// \t\t$(productBlocks[0]).slick(productsSlickSettings);\r\n// \t}\r\n\r\n// }\r\nif (shoptetPage === \"homepage\") {\r\n  const productsSelectors = () => {\r\n    const allProducts = document.querySelectorAll(\".products\");\r\n\r\n    if (!allProducts) return;\r\n\r\n    const productsIDs = [];\r\n\r\n    for (const products of allProducts) {\r\n      // if (index === 0) continue;\r\n\r\n      productsIDs.push(`#${products.id}`);\r\n    }\r\n    // console.log(productsIDs)\r\n    return productsIDs;\r\n  };\r\n\r\n  swiperize({\r\n    containers: [...productsSelectors()],\r\n    slide: [swiperize.spreadClass(productsSelectors(), \".product\")],\r\n    customOptions: {\r\n      fullscreen: false,\r\n      infinity: true,\r\n      dots: true,\r\n      arrows: true,\r\n      scrollbar: false,\r\n      lazyPrevNext: true,\r\n      helper: true, // Pidna nov monost\r\n    },\r\n\r\n    swiperOptions: {\r\n      direction: \"horizontal\",\r\n      speed: 800,\r\n      slidesPerView: 1.4,\r\n      spaceBetween: 16,\r\n      breakpoints: {\r\n        1200: {\r\n          slidesPerView: 6,\r\n          spaceBetween: 24,\r\n        },\r\n        1100: {\r\n          slidesPerView: 5,\r\n          spaceBetween: 24,\r\n        },\r\n        1024: {\r\n          slidesPerView: 4,\r\n          spaceBetween: 24,\r\n        },\r\n        768: {\r\n          slidesPerView: 3,\r\n          spaceBetween: 20,\r\n        },\r\n        500: {\r\n          slidesPerView: 2,\r\n          spaceBetween: 16,\r\n        },\r\n      },\r\n    },\r\n  });\r\n\r\n  function homePageSections() {\r\n    const body = document.querySelector(\"body\");\r\n    let insertAfterElement = document.querySelector(\".before-carousel\");\r\n    const bannersRow = document.querySelector(\".banners-row\");\r\n    const colBanner = bannersRow?.querySelector(\".next-to-carousel-banners\");\r\n\r\n    let newBanners;\r\n    if (colBanner) {\r\n      newBanners = document.createElement(\"div\");\r\n      newBanners.classList.add(\"new-banners\", \"container\");\r\n\r\n      colBanner.classList.remove(\"col-sm-4\");\r\n\r\n      newBanners.appendChild(colBanner);\r\n\r\n      if (insertAfterElement) {\r\n        insertAfterElement.insertAdjacentElement(\"afterend\", newBanners);\r\n      } else if (bannersRow) {\r\n        bannersRow.insertAdjacentElement(\"afterend\", newBanners);\r\n      }\r\n    }\r\n\r\n    const headingElements = document.querySelectorAll(\".homepage-group-title\");\r\n\r\n    // Najdeme prvek pro 3. sekci (middle body bannery)\r\n    const thirdInsertPoint =\r\n      document.querySelector(\".middle-banners-wrapper\") ||\r\n      document.querySelector(\".body-banners\");\r\n\r\n    const sections = [];\r\n\r\n    headingElements.forEach((heading, index) => {\r\n      const splitClass = heading.className.split(\"homepage-products-heading-\");\r\n      if (splitClass.length > 1) {\r\n        const headingNumber = splitClass[1].split(\" \")[0];\r\n        const productElement = document.querySelector(\r\n          `.homepage-products-${headingNumber}`\r\n        );\r\n\r\n        if (productElement) {\r\n          const section = document.createElement(\"section\");\r\n          section.classList.add(\r\n            \"product-section\",\r\n            `product-section-${headingNumber}`\r\n          );\r\n\r\n          if (index === 0) {\r\n            section.classList.add(\"product-section-bg\");\r\n          }\r\n\r\n          const container = document.createElement(\"div\");\r\n          container.classList.add(\"container\");\r\n          section.appendChild(container);\r\n          container.appendChild(heading);\r\n          container.appendChild(productElement);\r\n\r\n          sections.push(section);\r\n        }\r\n      }\r\n    });\r\n\r\n    // Vkldn jednotlivch sekc podle pravidel\r\n    if (sections.length > 0) {\r\n      const firstInsertPoint = insertAfterElement || bannersRow;\r\n\r\n      // 1. sekce\r\n      firstInsertPoint?.insertAdjacentElement(\"afterend\", sections[0]);\r\n\r\n      // 2. sekce\r\n      if (sections[1] && newBanners) {\r\n        newBanners.insertAdjacentElement(\"afterend\", sections[1]);\r\n      }\r\n\r\n      // 3. sekce\r\n      if (sections[2] && thirdInsertPoint) {\r\n        thirdInsertPoint.insertAdjacentElement(\"afterend\", sections[2]);\r\n      }\r\n\r\n      // Dal sekce za pedchoz\r\n      for (let i = 3; i < sections.length; i++) {\r\n        sections[i - 1].insertAdjacentElement(\"afterend\", sections[i]);\r\n      }\r\n    }\r\n\r\n    // Pesun benefit banneru\r\n    const benefitBanner = document.querySelector(\".benefitBanner\");\r\n    if (benefitBanner) {\r\n      if (window.dataLayer?.[0]?.shoptet?.pageType === \"homepage\") {\r\n        const firstProductsBlock = document.querySelector(\".banners-row\");\r\n        if (firstProductsBlock) {\r\n          firstProductsBlock.appendChild(benefitBanner);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  homePageSections();\r\n\r\n  if (window.innerWidth >= 768) {\r\n    const handleSectionLinks = () => {\r\n      const productSections = document.querySelectorAll(\".product-section\");\r\n\r\n      productSections.forEach((section, index) => {\r\n        const container = section.querySelector(\".container\");\r\n        const heading = container.querySelector(\".homepage-group-title\");\r\n\r\n        const languageGroup = links.find(\r\n          (group) => group.language === shoptetLang\r\n        );\r\n\r\n        if (languageGroup) {\r\n          const link = languageGroup.links.find((link) => link.index === index);\r\n          if (link) {\r\n            const button = document.createElement(\"a\");\r\n            button.classList.add(\"btn\", \"btn-primary\");\r\n            button.href = link.url;\r\n            button.textContent = `${link.name}`;\r\n\r\n            if (heading) {\r\n              // Vytvoen obalovacho divu\r\n              const wrapper = document.createElement(\"div\");\r\n              wrapper.classList.add(\"upper\");\r\n\r\n              // Pesun nadpisu do wrapperu\r\n              wrapper.appendChild(heading);\r\n              wrapper.appendChild(button);\r\n\r\n              // Vloen wrapperu na zatek kontejneru\r\n              container.insertAdjacentElement(\"afterbegin\", wrapper);\r\n            } else {\r\n              // Pokud heading neexistuje, vlo tlatko rovnou\r\n              container.appendChild(button);\r\n            }\r\n          }\r\n        }\r\n      });\r\n    };\r\n\r\n    // Voln funkce\r\n    handleSectionLinks();\r\n  }\r\n  document.addEventListener(\"click\", function (e) {\r\n    const h4 = e.target.closest(\".single-faq > h4\");\r\n    if (h4) {\r\n      const singleFaq = h4.closest(\".single-faq\");\r\n      if (singleFaq) {\r\n        singleFaq.classList.toggle(\"active\");\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction addEmptySlides(selector, rules) {\r\n  const swiperWrapper = document.querySelector(`${selector} .swiper-wrapper`);\r\n  if (swiperWrapper) {\r\n    rules.sort((a, b) => b.width - a.width);\r\n    const applicableRule = rules.find((rule) => window.innerWidth > rule.width);\r\n\r\n    if (applicableRule) {\r\n      for (let i = 0; i < applicableRule.emptySlidesCount; i++) {\r\n        const emptySlide = document.createElement(\"div\");\r\n        emptySlide.classList.add(\"swiper-slide\");\r\n        swiperWrapper.appendChild(emptySlide);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// ANIMACE\r\nlet target = document.querySelectorAll(\".products-block\");\r\nconst target2 = document.querySelector(\".top-categories-grid\");\r\nfunction handleIntersection(entries) {\r\n  entries.map((entry, index) => {\r\n    entry.target.style.removeProperty(\"--animation-delay\");\r\n    entry.target.setAttribute(\r\n      \"style\",\r\n      entry.target.getAttribute(\"style\")\r\n        ? entry.target.getAttribute(\"style\") + `--animation-delay: ${index}`\r\n        : `--animation-delay: ${index}`\r\n    );\r\n    // entry.target.setAttribute('animation-delay', `${index}`)\r\n    if (entry.isIntersecting) {\r\n      entry.target.classList.add(\"visible\");\r\n    }\r\n  });\r\n}\r\nconst observer = new IntersectionObserver(handleIntersection);\r\nconst observer2 = new IntersectionObserver(handleIntersection);\r\nif (target.length) {\r\n  target.forEach((item) => {\r\n    item.classList.add(\"animation\");\r\n    const subtargets = item.querySelectorAll(\".product\");\r\n    subtargets.forEach((subtarget) => {\r\n      observer.observe(subtarget);\r\n    });\r\n  });\r\n}\r\ndocument.addEventListener(\"ShoptetDOMPageMoreProductsLoaded\", () => {\r\n  if (target.length) {\r\n    target.forEach((item) => {\r\n      item.classList.add(\"animation\");\r\n      const subtargets = item.querySelectorAll(\".product\");\r\n      subtargets.forEach((subtarget) => {\r\n        observer.observe(subtarget);\r\n      });\r\n    });\r\n  }\r\n});\r\nif (target2) {\r\n  target2.classList.add(\"animation\");\r\n  const subtargets = target2.querySelectorAll(\".category\");\r\n  subtargets.forEach((subtarget) => {\r\n    observer2.observe(subtarget);\r\n  });\r\n}\r\n\r\n\r\n\r\nif (window.innerWidth < 768) {\r\n  const topNavigationBarMenu = document.querySelector(\r\n    \".top-navigation-bar-menu\"\r\n  );\r\n  const navigationIn = document.querySelector(\"#navigation .navigation-in\");\r\n\r\n  if (topNavigationBarMenu && navigationIn) {\r\n    navigationIn.appendChild(topNavigationBarMenu);\r\n  }\r\n}\r\n\r\nfunction smoothScrollTo(target, offset = -150, duration = 700) {\r\n  const targetElement = document.querySelector(target);\r\n  if (targetElement) {\r\n    const targetPosition =\r\n      targetElement.getBoundingClientRect().top + window.pageYOffset - offset;\r\n    window.scrollTo({\r\n      top: targetPosition,\r\n      behavior: \"smooth\",\r\n    });\r\n  }\r\n}\r\n\r\n// Pidn event listeneru pomoc va funkce `on`\r\non(\"click\", \".shp-tab-link\", function (e) {\r\n  const target = this.getAttribute(\"href\");\r\n  if (document.querySelector(target)) {\r\n    smoothScrollTo(target, 200);\r\n  }\r\n});\r\n\r\n\r\n// document.addEventListener('DOMContentLoaded', function () {\r\n//   const amountInput = document.querySelector('input[name=\"amount\"]');\r\n//   if (amountInput) {\r\n//     amountInput.step = '0.01';\r\n//     amountInput.min = '0.01';\r\n//     amountInput.setAttribute(\"data-decimals\", \"2\");\r\n//   }\r\n//   shoptet.config.documentPriceDecimalPlaces = \"2\";\r\n// });\r\n\r\n"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","from","isArray","_arrayLikeToArray","_createForOfIteratorHelper","_n","F","s","next","toString","slice","constructor","name","test","moveElement","elementSelector","targetSelectors","element","document","querySelector","footer","console","error","concat","moved","_iterator","_step","targetSelector","target","insertAdjacentElement","err","on","eventType","selector","callback","addEventListener","targetElement","matches","preventDefault","parentElement","splitMenu","menuWrapper","menuHelper","window","requestAnimationFrame","menuItems","querySelectorAll","menuWrapperStyle","getComputedStyle","availableWidth","clientWidth","parseFloat","paddingRight","hasVisibleInHelper","forEach","item","offsetRight","offsetLeft","offsetWidth","itemInHelper","id","classList","add","remove","itemsToDisplayInHelper","_window$shoptet","shoptet","menu","debounce","handleCarousel","carousel","observer","MutationObserver","mutationList","currentItem","mutation","className","actualIndex","indexOf","dotsList","dot","dotsCounter","createElement","index","dotEl","appendChild","targetItem","targetItemMedia","tagName","toLowerCase","src","getAttribute","sourceElement","load","observe","attributes","attributeFilter","shoptetPage","handleFlags","product","flagsDefault","flagsExtra","handleTextLayout","priceStandard","prices","pDesc","pInIn","availability","availabilitySpan","pricesFinal","priceAditional","addToCartButton","pCode","button","style","visibility","image","starsRating","ratingValue","allStars","star","idx","display","ratingSpan","textContent","products","mmAllProducts","contains","footerBilling","footerBottom","footerGlobal","footerBottomWrapper","insertBefore","nextElementSibling","signature","platebniMetodyEl","alt","createShpTabLink","text","anchor","shpTabLi","shpTabLink","href","innerHTML","body","pDetailTabs","tabContent","customMobileSlider","setTimeout","swiperize","containers","slide","customOptions","fullscreen","infinity","dots","arrows","scrollbar","lazyPrevNext","swiperOptions","direction","speed","spaceBetween","slidesPerView","ratingTab","ratingTabHeading","ratingTitleObj","ratingTitle","find","language","shoptetLang","prepend","ratingButton","discusionWrapper","discussionTabHeading","discussionTitleObj","discussionTitle","relatedFiles","relatedFilesHeading","relatedFilesTitleObj","relatedFilesTitle","relatedProducts","relatedProductsHeading","voteWrappers","voteWrapper","voteWrapperWrapper","addComentButtons","descInner","descH3","log","titleObj","detailTitle","relatedProductsTitleObj","relatedProductsTitle","innerText","titleText","relatedProductsCount","productContent","relatedProductsTab","shpTabsWrapper","wholeProd","descriptionInner","wrapper","parentNode","swiperWrapper","breakpoints","alternativeProductsTabLink","alternativeProducts","alternativeProductsHeading","alternativeNadpisy","alternativeNadpis","holder","firstChild","parametersTabContentH3","parametersTitleObj","parametersTitle","firstRow","firstTh","firstTd","paramTitleObj","parametersParametr","paramTextObj","parametersParametrText","shpTabLinks","link","removeAttribute","replace","trim","targetNode","config","childList","subtree","mutationsList","_iterator2","_step2","_loop","type","hiddenLinks","shpTabsRow","shpTabs","tab","handleCart","pageHeader","cartHeader","cartHeaderHelper","search","headerTop","continueInCart","_window$cartContinueB","buttonText","cartContinueBtn","cartHeaderWrapper","sidebarCart","backLink","extraDelivery","dataLayer","cartInfo","leftToFreeShipping","priceLeft","overallWrapper","cartFooter","cartMail","cartPhone","sidebarNextStep","orderSummary","nextStep","cartRow","sidebarConsents","summaryItemPrice","consent","innerWidth","backHolder","backHold","paymentInfoTooltips","tooltip","handleFreeRecapitulation","recapItemPrices","price","toUpperCase","includes","footerCheck","cartProjectMail","cartProjectPhone","orderingProcessFooter","securePaymentText","respondTimeText","phoneTimeObj","projectPhoneTime","orderingProcessFooterPhoneWrapper","orderingProcessFooterMailWrapper","clonedPhone","cloneNode","phoneElement","clonedMail","mailElement","productsInCart","productSKU","productName","productSKUEl","pQuantity","pName","mainLink","quantityHtml","insertAdjacentHTML","cartSummary","box","upperSummaryReayl","upperSummary","cartContentSummary","cartInner","h4","discountForm","_extraGiftTitles$find","extraGiftTitles","discountCoupon","freeGift","h4Gift","priceHolder","priceWrapper","shipping","nextStepH","cartH2","h2","_itemsCartTitle$find","itemsCartTitle","row","stepBack","basicInformations","stepBackTextObj","stepBackText","checkoutContent","backHomepageObj","backHomepageBtn","backHomepageLink","url","shippingTitle","shippingTitleObj","deliveryTitle","paymentTitleObj","paymentTitle","coInformation","loginWrapper","loginButton","stepBackToShippingPayment","priceFinal","currencyLabel","currencyInfo","symbol","cartWidgetProducts","productPrice","priceEl","productSinglePrice","cart","filter","code","priceWithVat","productSinglePriceEl","popupCartSummary","popupCartSummaryPriveVAT","String","getNoBillingShippingPrice","withVat","popupCartSummaryPriceNoVAT","withoutVat","popupCartSummaryPriceNoVATNumber","Math","round","cartWidgetProductsWrapper","cartWidgetButton","cartWidgetInner","cartWidgetShipping","priceLeftToFreeShipping","freeShippingBar","freeShippingValue","Number","width","shippingWidgetStrongs","strong","advancedOrder","aoTop","aoTitle","aoProduct","cboxClose","continueShoppingBtn","modal","close","extraStep","deliveryStrongs","suggestion","img","advancedOrderProducts","$","slick","productsSlickSettings","handleEmptyCart","emptyCart","cartHeading","cartText","prazdnyKosikPerexText","prazdnyKosikPerex","prazdnyKosikNadpisText","prazdnyKosikNadpis","cartEmail","cartContact","emailPerexText","emailPerex","btnHolder","primaryButton","primaryButtonText","secondaryButton","secondaryButtonText","emptyCartHeader","event","sessionStorage","removeItem","handleFooter","_ref","_callee","cookies","mirandaMediaLink","title","footerHeadings","footerCategories","siteName","customFooter","customFooterContact","customFooterContactPlaceholder","instagram","benefitsWrapper","_instagramTitle$find","zastupce","_context","heading","closest","toggle","append","instagramTitle","homePageSections","insertAfterElement","bannersRow","colBanner","newBanners","headingElements","thirdInsertPoint","sections","splitClass","split","headingNumber","productElement","section","container","push","firstInsertPoint","benefitBanner","_window$dataLayer","pageType","firstProductsBlock","productsSelectors","allProducts","productsIDs","_iterator3","_step3","spreadClass","helper","handleSectionLinks","productSections","languageGroup","links","group","singleFaq","addEmptySlides","rules","sort","b","applicableRule","rule","emptySlidesCount","emptySlide","target2","handleIntersection","entries","map","entry","removeProperty","setAttribute","isIntersecting","IntersectionObserver","observer2","subtargets","subtarget","topNavigationBarMenu","navigationIn","smoothScrollTo","offset","undefined","duration","targetPosition","getBoundingClientRect","top","pageYOffset","scrollTo","behavior"],"sourceRoot":""}