{"version":3,"file":"js-swiperize.js","mappings":"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","sources":["webpack://sniper-one/./src/js/swiperize.js"],"sourcesContent":["/**\r\n * Swiperize 4.0 - Full Sniper Edition\r\n * Zachovává veškerou původní logiku, ale opravuje strukturu pro Shoptet.\r\n */\r\nconst swiperize = ({\r\n  containers,\r\n  slide,\r\n  customOptions = {},\r\n  swiperOptions = {},\r\n}) => {\r\n  const scrollbarWidth = parseInt(\r\n    getComputedStyle(document.documentElement).getPropertyValue(\r\n      \"--scrollbar-width\",\r\n    ) || 0,\r\n  );\r\n  const fallbackTimeout = 5000;\r\n\r\n  const containerArray = Array.isArray(containers) ? containers : [containers];\r\n  const slideArray = Array.isArray(slide) ? slide : [slide];\r\n\r\n  window.sniperSwipers = window.sniperSwipers || {};\r\n  let swiperizedCount = 0;\r\n\r\n  const initializeSwiper = (selector, slideClass) => {\r\n    const originalContainer = document.querySelector(selector);\r\n    if (\r\n      !originalContainer ||\r\n      originalContainer.classList.contains(\"swiperized\")\r\n    )\r\n      return;\r\n\r\n    // Úklid staré instance před re-init (Shoptet AJAX)\r\n    if (window.sniperSwipers[selector]) {\r\n      window.sniperSwipers[selector].destroy(true, true);\r\n    }\r\n\r\n    const safeClass = selector.replace(/[#.]/g, \"\");\r\n    const swiperClass = \"swiper-\" + safeClass;\r\n\r\n    // 1. STRUKTURA: Wrapper (pro šipky) -> Root (pro overflow) -> Original (pro slides)\r\n    const containerWrapper = document.createElement(\"div\");\r\n    containerWrapper.className = `swiper-container-wrapper swiper-container-wrapper-${safeClass}`;\r\n    containerWrapper.style.position = \"relative\";\r\n\r\n    const swiperRoot = document.createElement(\"div\");\r\n    swiperRoot.className = `swiper ${swiperClass}`;\r\n\r\n    // Fullscreen logika z původního kódu\r\n    if (customOptions.fullscreen) {\r\n      Object.assign(swiperRoot.style, {\r\n        position: \"relative\",\r\n        width: `calc(100vw - ${scrollbarWidth}px)`,\r\n        maxWidth: `${1920 - scrollbarWidth}px`,\r\n        left: \"50%\",\r\n        transform: \"translateX(-50%)\",\r\n        overflow: \"hidden\",\r\n      });\r\n    } else {\r\n      Object.assign(swiperRoot.style, {\r\n        width: \"100%\",\r\n        position: \"relative\",\r\n        overflow: \"hidden\",\r\n      });\r\n    }\r\n\r\n    // 2. TRANSFORMACE PŮVODNÍHO ELEMENTU\r\n    const wrapper = originalContainer;\r\n    wrapper.classList.add(\"swiper-wrapper\", \"swiperized\");\r\n    Object.assign(wrapper.style, {\r\n      display: \"flex\",\r\n      flexWrap: \"nowrap\",\r\n      opacity: \"0\", // Skrytí před init\r\n    });\r\n\r\n    // 3. PŘÍPRAVA SLIDŮ (Včetně tvé data-src logiky)\r\n    const slides = wrapper.querySelectorAll(slideClass);\r\n    for (const s of slides) {\r\n      s.classList.add(\"swiper-slide\");\r\n      const slideImg = s.querySelector(\".image img\");\r\n      if (slideImg && slideImg.getAttribute(\"data-src\")) {\r\n        slideImg.setAttribute(\"src\", slideImg.getAttribute(\"data-src\"));\r\n      }\r\n    }\r\n\r\n    // 4. SLOŽENÍ DOM\r\n    wrapper.before(containerWrapper);\r\n    containerWrapper.appendChild(swiperRoot);\r\n    swiperRoot.appendChild(wrapper);\r\n\r\n    // 5. DOPLŇKY (Pagination, Arrows, Scrollbar)\r\n    const currentSwiperOptions = { ...swiperOptions };\r\n\r\n    if (customOptions.dots) {\r\n      const pagination = document.createElement(\"div\");\r\n      const paginationClass = `swiper-pagination-${safeClass}`;\r\n      pagination.classList.add(\"swiper-pagination\", paginationClass);\r\n      containerWrapper.appendChild(pagination);\r\n      currentSwiperOptions.pagination = {\r\n        el: `.${paginationClass}`,\r\n        clickable: true,\r\n      };\r\n    }\r\n\r\n    if (customOptions.arrows) {\r\n      const prevClass = `swiper-button-prev-${safeClass}`;\r\n      const nextClass = `swiper-button-next-${safeClass}`;\r\n      const prev = document.createElement(\"div\");\r\n      const next = document.createElement(\"div\");\r\n      prev.classList.add(\"swiper-button-prev\", prevClass);\r\n      next.classList.add(\"swiper-button-next\", nextClass);\r\n      containerWrapper.append(prev, next);\r\n      currentSwiperOptions.navigation = {\r\n        nextEl: `.${nextClass}`,\r\n        prevEl: `.${prevClass}`,\r\n      };\r\n    }\r\n\r\n    if (customOptions.scrollbar) {\r\n      const scrollbarClass = `swiper-scrollbar-${safeClass}`;\r\n      const scrollbar = document.createElement(\"div\");\r\n      scrollbar.classList.add(\"swiper-scrollbar\", scrollbarClass);\r\n      containerWrapper.appendChild(scrollbar);\r\n      currentSwiperOptions.scrollbar = {\r\n        el: `.${scrollbarClass}`,\r\n        draggable: true,\r\n      };\r\n    }\r\n\r\n    if (customOptions.infinity) currentSwiperOptions.loop = true;\r\n    if (customOptions.lazyPrevNext)\r\n      currentSwiperOptions.lazy = { loadPrevNext: true };\r\n\r\n    // 6. START SWIPERU\r\n    const swiperInstance = new Swiper(swiperRoot, currentSwiperOptions);\r\n    window.sniperSwipers[selector] = swiperInstance;\r\n\r\n    // Plynulé zobrazení a výška\r\n    setTimeout(() => {\r\n      wrapper.style.opacity = 1;\r\n      wrapper.style.setProperty(\"--swiper-height\", `${wrapper.clientHeight}px`);\r\n    }, 50);\r\n\r\n    // Tvůj disableNavigationButtons\r\n    const disableNavigationButtons = () => {\r\n      const totalSlides = wrapper.querySelectorAll(\".swiper-slide\").length;\r\n      const slidesPerView =\r\n        swiperInstance.params.slidesPerView === \"auto\"\r\n          ? swiperInstance.slidesPerViewDynamic()\r\n          : swiperInstance.params.slidesPerView;\r\n\r\n      if (totalSlides <= slidesPerView) {\r\n        const pb = containerWrapper.querySelector(\".swiper-button-prev\");\r\n        const nb = containerWrapper.querySelector(\".swiper-button-next\");\r\n        if (pb) pb.classList.add(\"disabled\");\r\n        if (nb) nb.classList.add(\"disabled\");\r\n      }\r\n    };\r\n    disableNavigationButtons();\r\n  };\r\n\r\n  // 7. OBSERVER & FALLBACK LOGIKA (Tvůj originál)\r\n  const swiperObserver = new IntersectionObserver(\r\n    (entries, observer) => {\r\n      for (const entry of entries) {\r\n        if (entry.isIntersecting) {\r\n          const sel = entry.target.getAttribute(\"data-selector\");\r\n          const index = containerArray.indexOf(sel);\r\n          const sClass = slideArray[Math.min(index, slideArray.length - 1)];\r\n          initializeSwiper(sel, sClass);\r\n          observer.unobserve(entry.target);\r\n          swiperizedCount++;\r\n          if (swiperizedCount === containerArray.length) observer.disconnect();\r\n        }\r\n      }\r\n    },\r\n    { rootMargin: \"0px 0px 400px 0px\", threshold: 0.1 },\r\n  );\r\n\r\n  const run = () => {\r\n    for (const selector of containerArray) {\r\n      const slidesContainer = document.querySelector(selector);\r\n      if (\r\n        slidesContainer &&\r\n        !slidesContainer.classList.contains(\"swiperized\")\r\n      ) {\r\n        slidesContainer.setAttribute(\"data-selector\", selector);\r\n        swiperObserver.observe(slidesContainer);\r\n\r\n        setTimeout(() => {\r\n          if (!slidesContainer.classList.contains(\"swiperized\")) {\r\n            const index = containerArray.indexOf(selector);\r\n            const sClass = slideArray[Math.min(index, slideArray.length - 1)];\r\n            initializeSwiper(selector, sClass);\r\n            swiperObserver.unobserve(slidesContainer);\r\n            swiperizedCount++;\r\n          }\r\n        }, fallbackTimeout);\r\n      }\r\n    }\r\n  };\r\n\r\n  run();\r\n\r\n  // Klíčové pro Shoptet: Re-run po update obsahu\r\n  document.removeEventListener(\"shoptet.content.updated\", run);\r\n  document.addEventListener(\"shoptet.content.updated\", run);\r\n};\r\n\r\n// DOPLŇKOVÉ FUNKCE (Z tvého kódu)\r\nswiperize.setLastVisibleSlide = (swiper) => {\r\n  for (const slide of swiper.slides)\r\n    slide.classList.remove(\"swiper-slide-last-visible\");\r\n\r\n  let slidesPerView =\r\n    swiper.params.slidesPerView === \"auto\"\r\n      ? swiper.slidesPerViewDynamic()\r\n      : Math.round(swiper.params.slidesPerView);\r\n\r\n  const activeIndex = swiper.activeIndex;\r\n  const lastVisibleIndex = (activeIndex + slidesPerView) % swiper.slides.length;\r\n\r\n  for (let i = lastVisibleIndex; i < swiper.slides.length; i++) {\r\n    if (lastVisibleIndex === 0 && i === 0) break;\r\n    swiper.slides[i].classList.add(\"swiper-slide-last-visible\");\r\n  }\r\n};\r\n\r\nswiperize.spreadClass = (selectors, slideClass) => {\r\n  return Array(selectors.length).fill(slideClass);\r\n};\r\n"],"names":["swiperize","_ref","containers","slide","_ref$customOptions","customOptions","_ref$swiperOptions","swiperOptions","scrollbarWidth","parseInt","getComputedStyle","document","documentElement","getPropertyValue","fallbackTimeout","containerArray","Array","isArray","slideArray","window","sniperSwipers","swiperizedCount","initializeSwiper","selector","slideClass","originalContainer","querySelector","classList","contains","destroy","safeClass","replace","swiperClass","containerWrapper","createElement","className","concat","style","position","swiperRoot","fullscreen","Object","assign","width","maxWidth","left","transform","overflow","wrapper","add","display","flexWrap","opacity","slides","querySelectorAll","_iterator","_createForOfIteratorHelper","_step","s","n","done","value","slideImg","getAttribute","setAttribute","err","e","f","before","appendChild","currentSwiperOptions","_objectSpread","dots","pagination","paginationClass","el","clickable","arrows","prevClass","nextClass","prev","next","append","navigation","nextEl","prevEl","scrollbar","scrollbarClass","draggable","infinity","loop","lazyPrevNext","lazy","loadPrevNext","swiperInstance","Swiper","setTimeout","setProperty","clientHeight","disableNavigationButtons","totalSlides","length","slidesPerView","params","slidesPerViewDynamic","pb","nb","swiperObserver","IntersectionObserver","entries","observer","_iterator2","_step2","entry","isIntersecting","sel","target","index","indexOf","sClass","Math","min","unobserve","disconnect","rootMargin","threshold","run","_iterator3","_step3","_loop","slidesContainer","observe","removeEventListener","addEventListener","setLastVisibleSlide","swiper","_iterator4","_step4","remove","round","activeIndex","lastVisibleIndex","i","spreadClass","selectors","fill"],"sourceRoot":""}